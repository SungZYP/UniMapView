// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
define("require ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../core/maybe ../core/memoize ../core/accessorSupport/decorators/aliasOf ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/property ../core/accessorSupport/decorators/subclass ../views/3d/environment/weather ./Widget ./support/Heading ./support/widgetUtils ./support/decorators/messageBundle ../core/Logger ./support/jsxFactory ./Weather/CoverageSlider ./Weather/css ./Weather/enums ./Weather/WeatherViewModel".split(" "),
function(t,u,g,w,l,A,f,I,J,k,B,C,D,E,K,F,L,d,m,h,p,G){const H={sunny:"brightness",cloudy:"partly-cloudy",rainy:"rain",snowy:"snow",foggy:"fog"};f=function(x){function q(a){var b=x.call(this,a)||this;b.viewModel=new G;b.headingLevel=4;b.iconClass=h.CSS.widgetIcon;b.label=void 0;b._renderWeatherTypeButton=c=>{var e,y;const v=b.viewModel,z=null==(e=b.messages)?void 0:null==(y=e[c])?void 0:y.label;e=v.state===p.WeatherState.Disabled;const r=!e&&v.current.type===c;return d.tsx("calcite-button",{appearance:r?
"solid":"outline","aria-checked":r?"true":"false",color:r?"blue":"neutral",disabled:e,"icon-start":H[c],key:`${c}-type-button`,label:z,role:"radio",scale:"l",title:z,onclick:()=>{r||v.setWeatherByType(c)}})};b._getOnSunnyChange=l.memoize(c=>e=>{c.cloudCover=e});b._getOnCloudyChange=l.memoize(c=>e=>{c.cloudCover=e});b._getOnRainyChange=l.memoize(c=>e=>{c.cloudCover=e});b._getOnSnowyChange=l.memoize(c=>e=>{c.cloudCover=e});b._getOnFoggyChange=l.memoize(c=>e=>{c.fogStrength=e});return b}u._inheritsLoose(q,
x);var n=q.prototype;n.render=function(){var a;return d.tsx("div",{class:this.classes(h.CSS.base,h.CSS.esriWidget,this.viewModel.state===p.WeatherState.Disabled&&h.CSS.esriWidgetDisabled),role:"region","aria-label":null==(a=this.messages)?void 0:a.widgetLabelAccessible},this._renderContent())};n.loadDependencies=function(){var a=u._asyncToGenerator(function*(){yield Promise.all([new Promise((b,c)=>t(["../chunks/calcite-button"],b,c)),new Promise((b,c)=>t(["../chunks/calcite-icon"],b,c)),new Promise((b,
c)=>t(["../chunks/calcite-label"],b,c))])});return function(){return a.apply(this,arguments)}}();n._renderContent=function(){if(this.viewModel.state===p.WeatherState.Error)return d.tsx("div",{key:"error",class:h.CSS.error},this._errorMessage);const a=this.messages,b=this._warningMessage;return d.tsx(d.tsxFragment,null,d.tsx(E.Heading,{level:this.headingLevel},null==a?void 0:a.widgetLabel),d.tsx("div",{class:h.CSS.content},d.tsx("div",{class:h.CSS.selector,role:"radiogroup","aria-label":null==a?void 0:
a.weatherType},C.getWeatherTypes().map(this._renderWeatherTypeButton)),this._renderOptions(),w.isSome(b)&&this._renderWarning(b)))};n._renderOptions=function(){var a=this.viewModel;const b=a.state===p.WeatherState.Disabled;a=a.current;const c=this.messages;switch(a.type){case "sunny":return d.tsx(m.CoverageSlider,{key:"sunny-slider",disabled:b,label:null==c?void 0:c.sunny.cloudCover,value:a.cloudCover,onChange:this._getOnSunnyChange(a)});case "cloudy":return d.tsx(m.CoverageSlider,{key:"cloudy-slider",
disabled:b,label:null==c?void 0:c.cloudy.cloudCover,value:a.cloudCover,onChange:this._getOnCloudyChange(a)});case "rainy":return d.tsx(m.CoverageSlider,{key:"rainy-slider",disabled:b,label:null==c?void 0:c.rainy.cloudCover,value:a.cloudCover,onChange:this._getOnRainyChange(a)});case "snowy":return d.tsx(m.CoverageSlider,{key:"snowy-slider",disabled:b,label:null==c?void 0:c.rainy.cloudCover,value:a.cloudCover,onChange:this._getOnSnowyChange(a)});case "foggy":return d.tsx(m.CoverageSlider,{key:"foggy-slider",
disabled:b,label:null==c?void 0:c.foggy.fogStrength,value:a.fogStrength,onChange:this._getOnFoggyChange(a)})}};n._renderWarning=function(a){return d.tsx("div",{key:"warning",class:h.CSS.warning},d.tsx("calcite-icon",{icon:"exclamation-mark-triangle",scale:"s"}),a)};u._createClass(q,[{key:"view",get:function(){var a;return null==(a=this.viewModel)?void 0:a.view},set:function(a){this.viewModel&&(this.viewModel.view=a)}},{key:"_errorMessage",get:function(){var a;const b=null==(a=this.messages)?void 0:
a.error;switch(this.viewModel.error){case "unsupported-view":return b.unsupported;case "local-scene":return b.localScene;default:return null}}},{key:"_warningMessage",get:function(){switch(this.viewModel.error){case "not-visible":var a,b;return w.isSome(this.view)&&"3d"===(null==(a=this.view)?void 0:a.type)&&this.view.environment.atmosphereEnabled?null==(b=this.messages)?void 0:b.error.notVisible:null;default:return null}}}]);return q}(D);g.__decorate([k.property()],f.prototype,"viewModel",void 0);
g.__decorate([k.property()],f.prototype,"view",null);g.__decorate([k.property()],f.prototype,"headingLevel",void 0);g.__decorate([k.property()],f.prototype,"iconClass",void 0);g.__decorate([A.aliasOf("messages.widgetLabel",{overridable:!0})],f.prototype,"label",void 0);g.__decorate([k.property(),F.messageBundle("esri/widgets/Weather/t9n/Weather")],f.prototype,"messages",void 0);g.__decorate([k.property()],f.prototype,"_errorMessage",null);g.__decorate([k.property()],f.prototype,"_warningMessage",
null);return f=g.__decorate([B.subclass("esri.widgets.Weather")],f)});