// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
define("require ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Graphic ../../core/Accessor ../../core/HandleOwner ../../core/Logger ../../core/maybe ../../core/watchUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../symbols/support/symbolUtils".split(" "),function(l,k,g,w,e,x,y,t,z,h,F,G,H,A,B){function C(b,c){return m.apply(this,arguments)}function m(){m=
k._asyncToGenerator(function*(b,c){var {renderer:d}=b;return d&&(c=new w({attributes:c.prototype.attributes}),d=yield d.getSymbolAsync(c))?d:D(b)});return m.apply(this,arguments)}function D(b){return n.apply(this,arguments)}function n(){n=k._asyncToGenerator(function*(b){({geometryType:b}=b);return(b="point"===b||"multipoint"===b?yield new Promise((c,d)=>l(["../../symbols/SimpleMarkerSymbol"],a=>c(Object.freeze({__proto__:null,default:a})),d)):"polyline"===b?yield new Promise((c,d)=>l(["../../symbols/SimpleLineSymbol"],
a=>c(Object.freeze({__proto__:null,default:a})),d)):"polygon"===b||"mesh"===b||"multipatch"===b?yield new Promise((c,d)=>l(["../../symbols/SimpleFillSymbol"],a=>c(Object.freeze({__proto__:null,default:a})),d)):null)?new b.default:null});return n.apply(this,arguments)}var p;const E=y.getLogger("esri.widgets.FeatureTemplates.TemplateItem");e=p=function(b){function c(a){a=b.call(this,a)||this;a._activeFetchInfo={id:null,request:null};a.description=null;a.label=null;a.layer=null;a.template=null;a.thumbnail=
null;return a}k._inheritsLoose(c,b);var d=c.prototype;d.initialize=function(){this.handles.add(z.init(this,["layer.renderer","template"],()=>{this._activeFetchInfo.id=null;this._activeFetchInfo.request=null;this._set("thumbnail",null)}))};d.clone=function(){const a=t.isSome(this.thumbnail)?this.thumbnail.cloneNode(!0):null,f=new p({layer:this.layer,template:this.template});f._set("thumbnail",a);return f};c.fetchThumbnail=function(){var a=k._asyncToGenerator(function*(f,q){var u;if("subtype-group"===
f.type)return E.warn("Thumbnails for sublayers of a SubtypeGroupLayer are not yet supported."),null;const v=yield C(f,q);if(t.isNone(v))return null;const r={maxSize:36};"dictionary"===(null==(u=f.renderer)?void 0:u.type)&&(r.fieldMap=f.renderer.fieldMap,r.feature={attributes:q.prototype.attributes});return yield B.renderPreviewHTML(v,r)});return function(f,q){return a.apply(this,arguments)}}();return c}(x.HandleOwnerMixin(e));g.__decorate([h.property({aliasOf:"template.description"})],e.prototype,
"description",void 0);g.__decorate([h.property({aliasOf:"template.name"})],e.prototype,"label",void 0);g.__decorate([h.property()],e.prototype,"layer",void 0);g.__decorate([h.property()],e.prototype,"template",void 0);g.__decorate([h.property({readOnly:!0})],e.prototype,"thumbnail",void 0);return e=p=g.__decorate([A.subclass("esri.widgets.FeatureTemplates.TemplateItem")],e)});