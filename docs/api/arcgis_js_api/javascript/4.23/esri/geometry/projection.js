// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./projectionEllipsoid ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),function(ua,m,va,Va,T,k,Wa,
Xa,da,Q,R,Ya,Za,ea,wa,$a,ab,U,bb,v,cb,V,x,db,eb){function xa(){return!!B&&ea.isLoaded()}function fa(a){k.isNone(W)&&(W=Promise.all([ea.load(),(new Promise((c,b)=>ua(["../chunks/geometryEngineBase"],c,b))).then(c=>c.geometryEngineBase),new Promise((c,b)=>ua(["./geometryAdapters/hydrated"],c,b))]));return W.then(([,c,{hydratedAdapter:b}])=>{Wa.throwIfAborted(a);O=b;B=c.default;B._enableProjection(ea.pe)})}function ya(a,c,b=null){return Array.isArray(a)?0===a.length?[]:ha(O,a,a[0].spatialReference,c,
b):ha(O,[a],a.spatialReference,c,b)[0]}function ha(a,c,b,e,f=null){if(k.isNone(b)||k.isNone(e))return c;if(X(b,e,f))return c.map(g=>k.unwrap(za(g,b,e)));if(k.isNone(f)){const g=V.cacheKey(b,e);void 0!==Y[g]?f=Y[g]:(f=Aa(b,e,null),k.isNone(f)&&(f=new V),Y[g]=f)}if(k.isNone(B))throw new Z;return B._project(a,c,b,e,f)}function Aa(a,c,b=null){if(k.isNone(B))throw new Z;if(k.isNone(a)||k.isNone(c))return null;a=B._getTransformation(O,a,c,b,null==b?void 0:b.spatialReference);return null!==a?V.fromGE(a):
null}function X(a,c,b){return b?!1:x.equals(a,c)?!0:x.isValid(a)&&x.isValid(c)&&!!ia(a,c,ja)}function ka(){ka=va._asyncToGenerator(function*(a,c,b,e){if(!xa())if(Array.isArray(a))for(const {source:f,dest:g,geographicTransformation:h}of a){if(!X(f,g,h))return fa(e)}else if(!X(a,c,b))return fa(e)});return ka.apply(this,arguments)}function za(a,c,b){return a?"x"in a?Ba(a,c,new wa,b,0):"xmin"in a?Ca(a,c,new Ya,b,0):"rings"in a?Da(a,c,new $a,b,0):"paths"in a?Ea(a,c,new ab,b,0):"points"in a?Fa(a,c,new Za,
b,0):null:null}function Ba(a,c,b,e,f){n[0]=a.x;n[1]=a.y;const g=a.z;n[2]=void 0!==g?g:f;if(!y(n,c,0,n,e,0,1))return null;b.x=n[0];b.y=n[1];b.spatialReference=e;void 0===g?(b.z=void 0,b.hasZ=!1):(b.z=n[2],b.hasZ=!0);void 0===a.m?(b.m=void 0,b.hasM=!1):(b.m=a.m,b.hasM=!0);return b}function Fa(a,c,b,e,f){const {points:g,hasZ:h,hasM:l}=a;a=[];const u=g.length,t=[];for(var r of g)t.push(r[0],r[1],h?r[2]:f);if(!y(t,c,0,t,e,0,u))return null;for(c=0;c<u;++c){f=3*c;r=t[f];const w=t[f+1];h&&l?a.push([r,w,t[f+
2],g[c][3]]):h?a.push([r,w,t[f+2]]):l?a.push([r,w,g[c][2]]):a.push([r,w])}b.points=a;b.spatialReference=e;b.hasZ=h;b.hasM=l;return b}function Ea(a,c,b,e,f){const {paths:g,hasZ:h,hasM:l}=a;a=[];if(!Ga(g,h,l,c,a,e,f))return null;b.paths=a;b.spatialReference=e;b.hasZ=h;b.hasM=l;return b}function Da(a,c,b,e,f){const {rings:g,hasZ:h,hasM:l}=a;a=[];if(!Ga(g,h,l,c,a,e,f))return null;b.rings=a;b.spatialReference=e;b.hasZ=h;b.hasM=l;return b}function Ca(a,c,b,e,f){const {xmin:g,ymin:h,xmax:l,ymax:u,hasZ:t,
hasM:r}=a;if(!la(g,h,t?a.zmin:f,c,n,e))return null;b.xmin=n[0];b.ymin=n[1];t&&(b.zmin=n[2]);if(!la(l,u,t?a.zmax:f,c,n,e))return null;b.xmax=n[0];b.ymax=n[1];t&&(b.zmax=n[2]);r&&(b.mmin=a.mmin,b.mmax=a.mmax);b.spatialReference=e;return b}function la(a,c,b,e,f,g){q[0]=a;q[1]=c;q[2]=b;return y(q,e,0,f,g,0,1)}function ma(a,c,b,e){if(k.isNone(c)||k.isNone(e)||2>a.length)return!1;2===a.length&&(q[0]=a[0],q[1]=a[1],q[2]=0,a=q);return y(a,c,0,b,e,0,1)}function Ha(a,c,b){if(k.isNone(c))return!1;c=E(c,aa);
c=C[c][d.WGS84_COMPARABLE_LON_LAT];if(k.isNone(c))return!1;c(a,0,q,0);b!==q&&(b[0]=q[0],b[1]=q[1],2<b.length&&(b[2]=q[2]));return!0}function y(a,c,b,e,f,g,h=1){c=ia(c,f,ja);if(k.isNone(c))return!1;if(c===p){if(a===e&&b===g)return!0;h=b+3*h;for(let l=b,u=g;l<h;l++,u++)e[u]=a[l];return!0}h=b+3*h;for(let l=b,u=g;l<h;l+=3,u+=3)c(a,l,e,u);return!0}function Ga(a,c,b,e,f,g,h=0){const l=[];for(const u of a)for(const t of u)l.push(t[0],t[1],c?t[2]:h);if(!y(l,e,0,l,g,0,l.length/3))return!1;e=0;f.length=0;for(const u of a){a=
[];for(const t of u)c&&b?a.push([l[e++],l[e++],l[e++],t[3]]):c?a.push([l[e++],l[e++],l[e++]]):(b?a.push([l[e++],l[e++],t[2]]):a.push([l[e++],l[e++]]),e++);f.push(a)}return!0}function Ia(a,c,b,e){c=e+c;if(c<e/2||b>c)return Number.MAX_VALUE;a=Math.abs(z*a)+Math.asin(b/c);return a>=Math.PI/2?Number.MAX_VALUE:b/Math.cos(a)}function na(a,c,b){const e=Math.sin(a);a=Math.cos(a);const f=Math.sin(c);c=Math.cos(c);b[0]=-e;b[4]=-f*a;b[8]=c*a;b[12]=0;b[1]=a;b[5]=-f*e;b[9]=c*e;b[13]=0;b[2]=0;b[6]=c;b[10]=f;b[14]=
0;b[3]=0;b[7]=0;b[11]=0;b[15]=1;return b}function Ja(a,c,b){na(a,c,b);da.transpose(b,b);return b}function E(a,c){if(c.spatialReference===a)return c.spatialReferenceId;c.spatialReference=a;"metersPerUnit"in c&&(c.metersPerUnit=Xa.getMetersPerUnitForSR(a,1));return a.wkt===U.SphericalECEFSpatialReference.wkt?c.spatialReferenceId=d.SPHERICAL_ECEF:x.isWGS84(a)?c.spatialReferenceId=d.WGS84:x.isWebMercator(a)?c.spatialReferenceId=d.WEB_MERCATOR:x.isPlateCarree(a)?c.spatialReferenceId=d.PLATE_CARREE:a.wkt===
U.WGS84ECEFSpatialReference.wkt?c.spatialReferenceId=d.WGS84_ECEF:a.wkid===db.SupportedGCSWkids.CGCS2000?c.spatialReferenceId=d.CGCS2000:a.wkt===U.SphericalPCPFMars.wkt?c.spatialReferenceId=d.SPHERICAL_MARS_PCPF:a.wkt===U.SphericalPCPFMoon.wkt?c.spatialReferenceId=d.SPHERICAL_MOON_PCPF:x.isMars(a)?c.spatialReferenceId=d.GCSMARS2000:x.isMoon(a)?c.spatialReferenceId=d.GCSMOON2000:c.spatialReferenceId=d.UNKNOWN}function p(a,c,b,e){a!==b&&(b[e++]=a[c++],b[e++]=a[c++],b[e]=a[c])}function L(a,c,b,e){b[e++]=
P*(a[c++]/v.earth.radius);b[e++]=P*(Math.PI/2-2*Math.atan(Math.exp(-a[c++]/v.earth.radius)));b[e]=a[c]}function Ka(a,c,b,e){L(a,c,b,e);F(b,e,b,e)}function La(a,c,b,e){L(a,c,b,e);G(b,e,b,e)}function Ma(a,c,b,e,f){var g=.4999999*Math.PI;g=T.clamp(z*a[c+1],-g,g);g=Math.sin(g);b[e++]=z*a[c]*f.radius;b[e++]=f.halfSemiMajorAxis*Math.log((1+g)/(1-g));b[e]=a[c+2]}function M(a,c,b,e){Ma(a,c,b,e,v.earth)}function H(a,c,b,e){b[e]=a[c]*Na;b[e+1]=a[c+1]*Na;b[e+2]=a[c+2]}function N(a,c,b,e){b[e]=a[c]*S;b[e+1]=
a[c+1]*S;b[e+2]=a[c+2]}function Oa(a,c,b,e){L(a,c,b,e);H(b,e,b,e)}function oa(a,c,b,e,f){f+=a[c+2];const g=z*a[c+1];a=z*a[c];c=Math.cos(g);b[e++]=Math.cos(a)*c*f;b[e++]=Math.sin(a)*c*f;b[e]=Math.sin(g)*f}function pa(a,c,b,e){oa(a,c,b,e,v.moon.radius)}function qa(a,c,b,e){oa(a,c,b,e,v.mars.radius)}function F(a,c,b,e){oa(a,c,b,e,v.earth.radius)}function ba(a,c,b,e,f){var g=a[c];const h=a[c+1];c=a[c+2];a=Math.sqrt(g*g+h*h+c*c);c=T.asinClamped(c/(0===a?1:a));g=Math.atan2(h,g);b[e++]=P*g;b[e++]=P*c;b[e]=
a-f}function ra(a,c,b,e){ba(a,c,b,e,v.moon.radius)}function sa(a,c,b,e){ba(a,c,b,e,v.mars.radius)}function I(a,c,b,e){ba(a,c,b,e,v.earth.radius)}function Pa(a,c,b,e){I(a,c,b,e);M(b,e,b,e)}function Qa(a,c,b,e){I(a,c,b,e);G(b,e,b,e)}function G(a,c,b,e){{var f=v.earth;const h=z*a[c];var g=z*a[c+1];a=a[c+2];c=Math.sin(g);g=Math.cos(g);const l=f.radius/Math.sqrt(1-f.eccentricitySquared*c*c);b[e++]=(l+a)*g*Math.cos(h);b[e++]=(l+a)*g*Math.sin(h);b[e++]=(l*(1-f.eccentricitySquared)+a)*c}}function J(a,c,b,
e){var f=cb.earthEllipsoidConstants,g=a[c],h=a[c+1];a=a[c+2];let l;c=Math.abs(a);var u=g*g+h*h;var t=Math.sqrt(u);var r=u+a*a;var w=Math.sqrt(r);g=Math.atan2(h,g);var D=a*a/r;r=u/r;h=f.a2/w;u=f.a3-f.a4/w;.3<r?(D=c/w*(1+r*(f.a1+h+D*u)/w),w=Math.asin(D),h=D*D,r=Math.sqrt(1-h)):(r=t/w*(1-D*(f.a5-h-r*u)/w),w=Math.acos(r),h=1-r*r,D=Math.sqrt(h));l=1-v.earth.eccentricitySquared*h;h=v.earth.radius/Math.sqrt(l);f=f.a6*h;h=t-h*r;u=c-f*D;c=r*h+D*u;t=r*u-D*h;f=t/(f/l+c);w+=f;0>a&&(w=-w);b[e++]=P*g;b[e++]=P*
w;b[e]=c+t*f/2}function Ra(a,c,b,e){J(a,c,b,e);F(b,e,b,e)}function Sa(a,c,b,e){J(a,c,b,e);M(b,e,b,e)}function ia(a,c,b=ta()){return k.isNone(a)||k.isNone(c)?null:Ta(a,c,b).projector}function Ta(a,c,b){if(k.isNone(a)||k.isNone(c)||b.source.spatialReference===a&&b.dest.spatialReference===c)return b;const e=E(a,b.source),f=E(c,b.dest);e===d.UNKNOWN&&f===d.UNKNOWN?x.equals(a,c)?b.projector=p:b.projector=null:b.projector=C[e][f];return b}function ta(){return{source:{spatialReference:null,spatialReferenceId:d.UNKNOWN,
metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:d.UNKNOWN,metersPerUnit:1},projector:p}}let B=null,O=null,W=null,Y={},Z=function(a){function c(){return a.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}va._inheritsLoose(c,a);return c}(Va);var d;(function(a){a[a.UNKNOWN=0]="UNKNOWN";a[a.SPHERICAL_ECEF=1]="SPHERICAL_ECEF";a[a.WGS84=2]="WGS84";a[a.WEB_MERCATOR=3]="WEB_MERCATOR";a[a.WGS84_ECEF=4]="WGS84_ECEF";a[a.CGCS2000=5]="CGCS2000";
a[a.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";a[a.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";a[a.GCSMARS2000=8]="GCSMARS2000";a[a.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";a[a.GCSMOON2000=10]="GCSMOON2000";a[a.LON_LAT=11]="LON_LAT";a[a.PLATE_CARREE=12]="PLATE_CARREE"})(d||(d={}));const Na=v.earth.radius*Math.PI/180,S=180/(v.earth.radius*Math.PI),C={[d.WGS84]:{[d.CGCS2000]:null,[d.GCSMARS2000]:null,[d.GCSMOON2000]:null,[d.LON_LAT]:p,[d.WGS84_COMPARABLE_LON_LAT]:p,[d.SPHERICAL_ECEF]:F,
[d.SPHERICAL_MARS_PCPF]:null,[d.SPHERICAL_MOON_PCPF]:null,[d.UNKNOWN]:null,[d.WEB_MERCATOR]:M,[d.PLATE_CARREE]:H,[d.WGS84]:p,[d.WGS84_ECEF]:G},[d.CGCS2000]:{[d.CGCS2000]:p,[d.GCSMARS2000]:null,[d.GCSMOON2000]:null,[d.LON_LAT]:p,[d.WGS84_COMPARABLE_LON_LAT]:p,[d.SPHERICAL_ECEF]:F,[d.SPHERICAL_MARS_PCPF]:null,[d.SPHERICAL_MOON_PCPF]:null,[d.UNKNOWN]:null,[d.WEB_MERCATOR]:null,[d.PLATE_CARREE]:H,[d.WGS84]:null,[d.WGS84_ECEF]:G},[d.GCSMARS2000]:{[d.CGCS2000]:null,[d.GCSMARS2000]:p,[d.GCSMOON2000]:null,
[d.LON_LAT]:p,[d.WGS84_COMPARABLE_LON_LAT]:null,[d.SPHERICAL_ECEF]:null,[d.SPHERICAL_MARS_PCPF]:qa,[d.SPHERICAL_MOON_PCPF]:null,[d.UNKNOWN]:null,[d.WEB_MERCATOR]:null,[d.PLATE_CARREE]:null,[d.WGS84]:null,[d.WGS84_ECEF]:null},[d.GCSMOON2000]:{[d.CGCS2000]:null,[d.GCSMARS2000]:null,[d.GCSMOON2000]:p,[d.LON_LAT]:p,[d.WGS84_COMPARABLE_LON_LAT]:null,[d.SPHERICAL_ECEF]:null,[d.SPHERICAL_MARS_PCPF]:null,[d.SPHERICAL_MOON_PCPF]:pa,[d.UNKNOWN]:null,[d.WEB_MERCATOR]:null,[d.PLATE_CARREE]:null,[d.WGS84]:null,
[d.WGS84_ECEF]:null},[d.WEB_MERCATOR]:{[d.CGCS2000]:null,[d.GCSMARS2000]:null,[d.GCSMOON2000]:null,[d.LON_LAT]:L,[d.WGS84_COMPARABLE_LON_LAT]:L,[d.SPHERICAL_ECEF]:Ka,[d.SPHERICAL_MARS_PCPF]:null,[d.SPHERICAL_MOON_PCPF]:null,[d.UNKNOWN]:null,[d.WEB_MERCATOR]:p,[d.PLATE_CARREE]:Oa,[d.WGS84]:L,[d.WGS84_ECEF]:La},[d.WGS84_ECEF]:{[d.CGCS2000]:J,[d.GCSMARS2000]:null,[d.GCSMOON2000]:null,[d.LON_LAT]:J,[d.WGS84_COMPARABLE_LON_LAT]:J,[d.SPHERICAL_ECEF]:Ra,[d.SPHERICAL_MARS_PCPF]:null,[d.SPHERICAL_MOON_PCPF]:null,
[d.UNKNOWN]:null,[d.WEB_MERCATOR]:Sa,[d.PLATE_CARREE]:function(a,c,b,e){J(a,c,b,e);H(b,e,b,e)},[d.WGS84]:J,[d.WGS84_ECEF]:p},[d.SPHERICAL_ECEF]:{[d.CGCS2000]:I,[d.GCSMARS2000]:null,[d.GCSMOON2000]:null,[d.LON_LAT]:I,[d.WGS84_COMPARABLE_LON_LAT]:I,[d.SPHERICAL_ECEF]:p,[d.SPHERICAL_MARS_PCPF]:null,[d.SPHERICAL_MOON_PCPF]:null,[d.UNKNOWN]:null,[d.WEB_MERCATOR]:Pa,[d.PLATE_CARREE]:function(a,c,b,e){I(a,c,b,e);H(b,e,b,e)},[d.WGS84]:I,[d.WGS84_ECEF]:Qa},[d.SPHERICAL_MARS_PCPF]:{[d.CGCS2000]:null,[d.GCSMARS2000]:sa,
[d.GCSMOON2000]:null,[d.LON_LAT]:sa,[d.WGS84_COMPARABLE_LON_LAT]:null,[d.SPHERICAL_ECEF]:null,[d.SPHERICAL_MARS_PCPF]:p,[d.SPHERICAL_MOON_PCPF]:null,[d.UNKNOWN]:null,[d.WEB_MERCATOR]:null,[d.PLATE_CARREE]:null,[d.WGS84]:null,[d.WGS84_ECEF]:null},[d.SPHERICAL_MOON_PCPF]:{[d.CGCS2000]:null,[d.GCSMARS2000]:null,[d.GCSMOON2000]:ra,[d.LON_LAT]:ra,[d.WGS84_COMPARABLE_LON_LAT]:null,[d.SPHERICAL_ECEF]:null,[d.SPHERICAL_MARS_PCPF]:null,[d.SPHERICAL_MOON_PCPF]:p,[d.UNKNOWN]:null,[d.WEB_MERCATOR]:null,[d.PLATE_CARREE]:null,
[d.WGS84]:null,[d.WGS84_ECEF]:null},[d.UNKNOWN]:{[d.CGCS2000]:null,[d.GCSMARS2000]:null,[d.GCSMOON2000]:null,[d.LON_LAT]:null,[d.WGS84_COMPARABLE_LON_LAT]:null,[d.SPHERICAL_ECEF]:null,[d.SPHERICAL_MARS_PCPF]:null,[d.SPHERICAL_MOON_PCPF]:null,[d.UNKNOWN]:p,[d.WEB_MERCATOR]:null,[d.PLATE_CARREE]:null,[d.WGS84]:null,[d.WGS84_ECEF]:null},[d.LON_LAT]:{[d.CGCS2000]:p,[d.GCSMARS2000]:p,[d.GCSMOON2000]:p,[d.LON_LAT]:p,[d.WGS84_COMPARABLE_LON_LAT]:p,[d.SPHERICAL_ECEF]:F,[d.SPHERICAL_MARS_PCPF]:qa,[d.SPHERICAL_MOON_PCPF]:pa,
[d.UNKNOWN]:null,[d.WEB_MERCATOR]:M,[d.PLATE_CARREE]:H,[d.WGS84]:p,[d.WGS84_ECEF]:G},[d.WGS84_COMPARABLE_LON_LAT]:{[d.CGCS2000]:null,[d.GCSMARS2000]:null,[d.GCSMOON2000]:null,[d.LON_LAT]:p,[d.WGS84_COMPARABLE_LON_LAT]:p,[d.SPHERICAL_ECEF]:F,[d.SPHERICAL_MARS_PCPF]:null,[d.SPHERICAL_MOON_PCPF]:null,[d.UNKNOWN]:null,[d.WEB_MERCATOR]:null,[d.PLATE_CARREE]:H,[d.WGS84]:p,[d.WGS84_ECEF]:G},[d.PLATE_CARREE]:{[d.CGCS2000]:N,[d.GCSMARS2000]:null,[d.GCSMOON2000]:null,[d.LON_LAT]:N,[d.WGS84_COMPARABLE_LON_LAT]:N,
[d.SPHERICAL_ECEF]:function(a,c,b,e){N(a,c,b,e);F(b,e,b,e)},[d.SPHERICAL_MARS_PCPF]:null,[d.SPHERICAL_MOON_PCPF]:null,[d.UNKNOWN]:null,[d.WEB_MERCATOR]:function(a,c,b,e){N(a,c,b,e);M(b,e,b,e)},[d.PLATE_CARREE]:p,[d.WGS84]:N,[d.WGS84_ECEF]:function(a,c,b,e){N(a,c,b,e);G(b,e,b,e)}}},aa={spatialReference:null,spatialReferenceId:d.UNKNOWN},Ua={spatialReference:null,spatialReferenceId:d.UNKNOWN},ja=ta(),fb=ta(),z=T.deg2rad(1),P=T.rad2deg(1),q=R.create(),A=R.create(),K=R.create(),n=R.create(),ca=R.create();
m.canProjectToWGS84ComparableLonLat=function(a){if(k.isNone(a))return!1;a=E(a,aa);return!!C[a][d.WGS84_COMPARABLE_LON_LAT]};m.canProjectWithoutEngine=X;m.computeENUToSphericalPCPFLocalRotation=na;m.computeSphericalPCPFToENULocalRotation=Ja;m.computeTranslationToOriginAndRotation=function(a,c,b,e){if(k.isNone(a)||k.isNone(e))return!1;var f=E(a,aa),g=E(e,Ua);if(f===g&&g!==d.SPHERICAL_ECEF&&g!==d.SPHERICAL_MARS_PCPF&&g!==d.SPHERICAL_MOON_PCPF&&(f!==d.UNKNOWN||x.equals(a,e)))return da.fromTranslation(b,
c),!0;if(g===d.SPHERICAL_ECEF||g===d.SPHERICAL_MARS_PCPF||g===d.SPHERICAL_MOON_PCPF){f=C[f][d.LON_LAT];g=C[d.LON_LAT][g];if(k.isNone(f)||k.isNone(g))return!1;f(c,0,A,0);g(A,0,K,0);na(z*A[0],z*A[1],b);b[12]=K[0];b[13]=K[1];b[14]=K[2];return!0}if((g===d.WEB_MERCATOR||g===d.PLATE_CARREE)&&(f===d.WGS84||f===d.CGCS2000&&g===d.PLATE_CARREE||f===d.SPHERICAL_ECEF||f===d.WEB_MERCATOR)){a=C[f][d.LON_LAT];g=C[d.LON_LAT][g];if(k.isNone(a)||k.isNone(g))return!1;a(c,0,A,0);g(A,0,K,0);f===d.SPHERICAL_ECEF?Ja(z*
A[0],z*A[1],b):da.identity(b);b[12]=K[0];b[13]=K[1];b[14]=K[2];return!0}return!1};m.getProjectorName=function(a,c){switch(ia(a,c,ja)){case p:return"copy3";case F:return"wgs84ToSphericalECEF";case M:return"wgs84ToWebMercator";case H:return"wgs84ToPlateCarree";case G:return"wgs84ToWGS84ECEF";case L:return"webMercatorToWGS84";case Ka:return"webMercatorToSphericalECEF";case La:return"webMercatorToWGS84ECEF";case Oa:return"webMercatorToPlateCarree";case J:return"wgs84ECEFToWGS84";case Ra:return"wgs84ECEFToSphericalECEF";
case Sa:return"wgs84ECEFToWebMercator";case I:return"sphericalECEFToWGS84";case Pa:return"sphericalECEFToWebMercator";case sa:return"sphericalMarsPCPFToMars2000";case ra:return"sphericalMoonPCPFToMoon2000";case Qa:return"sphericalECEFToWGS84ECEF";case qa:return"mars2000ToSphericalPCPF";case pa:return"moon2000ToSphericalPCPF";default:return null}};m.getTransformation=Aa;m.getTransformations=function(a,c,b=null){if(k.isNone(B))throw new Z;a=B._getTransformationBySuitability(O,a,c,b,null==b?void 0:b.spatialReference);
if(null!==a){c=[];for(const e of a)c.push(V.fromGE(e));return c}return[]};m.initializeProjection=function(a,c,b,e){return ka.apply(this,arguments)};m.isLoaded=xa;m.load=fa;m.localLinearScaleFactors=function(a,c,b,e){if(k.isNone(c)||k.isNone(e))return!1;const f=E(c,aa);var g=E(e,Ua);if(f===g&&f!==d.UNKNOWN||x.equals(c,e))return b[0]=1,b[1]=1,b[2]=1,!0;if(f===d.SPHERICAL_ECEF){c=Q.length(a);a=c/Math.sqrt(a[0]*a[0]+a[1]*a[1]);c/=v.earth.radius;if(g===d.WEB_MERCATOR)return b[0]=a*c,b[1]=a*c,b[2]=1,!0;
if(g===d.WGS84||g===d.CGCS2000)return g=S,b[0]=g*a*c,b[1]=g*c,b[2]=1,!0}else if(f===d.PLATE_CARREE){if(g===d.WGS84||g===d.CGCS2000)return b[0]=S,b[1]=S,b[2]=1,!0;if(g===d.WEB_MERCATOR)return g=a[1]/v.earth.radius,b[0]=1,b[1]=1/Math.cos(g),b[2]=1,!0}return!1};m.lonLatToSphericalPCPF=function(a,c,b,e,f=0){e+=f;f=Math.cos(b);a[0]=Math.cos(c)*f*e;a[1]=Math.sin(c)*f*e;a[2]=Math.sin(b)*e};m.lonLatToWebMercatorComparable=Ma;m.project=ya;m.projectBoundingRect=function(a,c,b,e){if(null==a)return!1;if(x.equals(c,
e))return bb.copy(b,a),!0;q[0]=a[0];q[1]=a[1];q[2]=0;if(!y(q,c,0,q,e,0,1))return!1;b[0]=q[0];b[1]=q[1];q[0]=a[2];q[1]=a[3];q[2]=0;if(!y(q,c,0,q,e,0,1))return!1;b[2]=q[0];b[3]=q[1];return!0};m.projectBoundingSphere=function(a,c,b,e){if(k.isNone(c)||k.isNone(e))return!1;c=Ta(c,e,fb);if(c.projector===p)return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],!0;if(k.isNone(c.projector))return!1;const {source:f,dest:g}=c;if(g.spatialReferenceId===d.WEB_MERCATOR){c=C[f.spatialReferenceId][d.WGS84];if(k.isNone(c))return!1;
c(a,0,A,0);M(A,0,b,0);b[3]=Ia(A[1],a[2],a[3],v.earth.radius);return!0}if(f.spatialReferenceId!==d.WGS84&&f.spatialReferenceId!==d.CGCS2000||g.spatialReferenceId!==d.PLATE_CARREE)c.projector(a,0,b,0),b[3]=a[3]*f.metersPerUnit/g.metersPerUnit;else{e=C[d.SPHERICAL_ECEF][d.PLATE_CARREE];let h=a[3];k.isSome(C[f.spatialReferenceId][d.SPHERICAL_ECEF])&&k.isSome(e)&&(h=Ia(a[1],a[2],a[3],v.earth.radius));c.projector(a,0,b,0);b[3]=h}return!0};m.projectBuffer=y;m.projectDirection=function(a,c,b,e,f){Q.copy(n,
a);Q.add(ca,a,c);ma(n,b,n,f);ma(ca,b,ca,f);Q.subtract(e,ca,n);Q.normalize(e,e)};m.projectExtent=function(a,c,b=c.spatialReference,e=0){return k.isSome(b)&&k.isSome(Ca(a,a.spatialReference,c,b,e))};m.projectMany=ha;m.projectMultipoint=function(a,c,b=c.spatialReference,e=0){return k.isNone(b)?!1:k.isSome(Fa(a,a.spatialReference,c,b,e))};m.projectPoint=function(a,c,b=c.spatialReference,e=0){return k.isNone(b)?!1:k.isSome(Ba(a,a.spatialReference,c,b,e))};m.projectPointToVector=function(a,c,b,e=0){n[0]=
a.x;n[1]=a.y;const f=a.z;n[2]=void 0!==f?f:e;return y(n,a.spatialReference,0,c,b,0,1)};m.projectPointToWGS84ComparableLonLat=function(a,c){n[0]=a.x;n[1]=a.y;const b=a.z;n[2]=void 0!==b?b:0;return Ha(n,a.spatialReference,c)};m.projectPolygon=function(a,c,b=c.spatialReference,e=0){return k.isSome(b)&&k.isSome(Da(a,a.spatialReference,c,b,e))};m.projectPolyline=function(a,c,b=c.spatialReference,e=0){return k.isSome(b)&&k.isSome(Ea(a,a.spatialReference,c,b,e))};m.projectVectorToDehydratedPoint=function(a,
c,b){return y(a,c,0,n,b.spatialReference,0,1)?(b.x=n[0],b.y=n[1],b.z=n[2],b):null};m.projectVectorToPoint=function(a,c,b){if(k.isNone(c)||k.isNone(b))return null;const e=new wa({spatialReference:b});return y(a,c,0,n,b,0,1)?(e.x=n[0],e.y=n[1],e.z=n[2],e):null};m.projectVectorToVector=ma;m.projectVectorToWGS84ComparableLonLat=function(a,c,b){return Ha(a,c,b)};m.projectWithoutEngine=za;m.projectXYZToVector=la;m.sphericalPCPFtoLonLatElevation=ba;m.tryProjectWithZConversion=function(a,c){try{const b=ya(a,
c);if(null==b)return null;"xmin"in a&&"xmin"in b&&(b.zmin=a.zmin,b.zmax=a.zmax);const e=eb.getGeometryZScaler(b.type,a.spatialReference,c);k.isSome(e)&&e(b);return b}catch(b){if(!(b instanceof Z))throw b;return null}};m.unload=function(){W=O=B=null;Y={}};Object.defineProperty(m,"__esModule",{value:!0})});