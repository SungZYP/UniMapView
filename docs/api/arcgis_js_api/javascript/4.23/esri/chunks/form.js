// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
define(["exports","./dom","./componentsUtils"],function(l,v,w){function x(a,b){let d=!1;a.addEventListener("calciteInternalFormComponentRegister",c=>{d=c.composedPath().some(g=>p.has(g));c.stopPropagation()},{once:!0});b.dispatchEvent(new CustomEvent("calciteInternalFormComponentRegister",{bubbles:!0,composed:!0}));return d}function y(){"checked"in this?this.checked=this.defaultChecked:this.value=this.defaultValue}function z(a){const {el:b,formEl:d,name:c,value:g}=a,{ownerDocument:h}=b,m=b.querySelectorAll('input[slot\x3d"hidden-form-input"]');
if(d&&c){var n=Array.isArray(g)?g:[g],q=[],r=new Set;m.forEach(e=>{const f=n.find(A=>A==e.value);null!=f?(r.add(f),t(a,e,f)):q.push(e)});var k;n.forEach(e=>{if(!r.has(e)){var f=q.pop();f||(f=h.createElement("input"),f.slot="hidden-form-input");k||(k=h.createDocumentFragment());k.append(f);t(a,f,e)}});k&&b.append(k);q.forEach(e=>e.remove())}else m.forEach(e=>e.remove())}function t(a,b,d){var c;const {defaultValue:g,disabled:h,name:m,required:n}=a;b.defaultValue=g;b.disabled=h;b.name=m;b.required=n;
b.tabIndex=-1;"checked"in a?(b.defaultChecked=a.defaultChecked,b.value=a.checked?d||"on":"",h||a.checked||(b.disabled=!0)):b.value=d||"";null===(c=a.syncHiddenFormInput)||void 0===c?void 0:c.call(a,b)}const u=new WeakMap,p=new WeakSet;l.HiddenFormInputSlot=({component:a})=>{z(a);return w.h("slot",{name:"hidden-form-input"})};l.afterConnectDefaultValueSet=function(a,b){a.defaultValue=b};l.connectForm=function(a){const {el:b,value:d}=a,c=v.closestElementCrossShadowBoundary(b,"form");c&&!x(c,b)&&(a.formEl=
c,a.defaultValue=d,"checked"in a&&(a.defaultChecked=a.checked),a=(a.onFormReset||y).bind(a),c.addEventListener("reset",a),p.add(b))};l.disconnectForm=function(a){const {el:b,formEl:d}=a;if(d){var c=u.get(b);d.removeEventListener("reset",c);u.delete(b);a.formEl=null;p.delete(b)}}});