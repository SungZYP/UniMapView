// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
require({cache:{"esri/chunks/arcade":function(){define("require exports ../arcade/arcadeCompiler ../arcade/arcadeRuntime ../arcade/parser ../arcade/treeAnalysis ../core/has ../core/promiseUtils".split(" "),function(C,z,J,y,p,B,D,r){function d(S,aa){return!0===aa.useAsync||!0===S.isAsync?m(S,aa):D("esri-csp-restrictions")?function(ia){return y.executeScript(S,ia)}:J.compileScript(S,aa)}function m(S,aa){if(null===ja)throw Error("Async Arcade must be enabled for this script");return D("esri-csp-restrictions")?
function(ia){return ja.executeScript(S,ia)}:J.compileScript(S,aa,!0)}function q(S){y.extend(S);J.extend(S,"sync");null===ja?qa.push(S):(J.extend(S,"async"),ja.extend(S))}function b(S,aa=[]){return p.parseScript(S,aa)}function e(S,aa,ia=""){return p.validateScript(S,aa,ia)}function h(S,aa,ia,wa=""){return p.scriptCheck(S,aa,ia,wa)}function n(S,aa,ia=[]){S=p.parseScript(S,ia);return x(S,aa)}function x(S,aa){if(!0===aa.useAsync||!0===S.isAsync){if(null===ja)throw Error("Async Arcade must be enabled for this script");
return ja.executeScript(S,aa)}return y.executeScript(S,aa)}function u(S,aa){return y.referencesMember(S,aa)}function F(S,aa){return y.referencesFunction(S,aa)}function L(S,aa){return p.extractFieldLiterals(S)}function E(S){return p.extractExpectedFieldLiterals(S)}function c(S,aa=[]){void 0===S.usesGeometry&&B.findScriptDependencies(S,aa);return!0===S.usesGeometry}function f(){return sa?sa:sa=r.all([new Promise((S,aa)=>C(["../geometry/geometryEngine"],S,aa)),new Promise((S,aa)=>C(["../arcade/functions/geomsync"],
S,aa))]).then(([S,aa])=>{la=!0;aa.setGeometryEngine(S);return!0})}function l(){return null!==Na?Na:Na=J.enableAsyncSupport().then(()=>new Promise((S,aa)=>C(["../arcade/arcadeAsyncRuntime"],S,aa))).then(S=>{ja=S;for(const aa of qa)ja.extend(aa),J.extend(aa,"async");qa=null;return!0})}function g(){return na}function X(){return ja?!0:!1}function ea(){return la}function Z(){return O?O:O=l().then(()=>r.all([new Promise((S,aa)=>C(["../arcade/featureSetUtils"],S,aa)),new Promise((S,aa)=>C(["../arcade/functions/featuresetbase"],
S,aa)),new Promise((S,aa)=>C(["../arcade/functions/featuresetgeom"],S,aa)),new Promise((S,aa)=>C(["../arcade/functions/featuresetstats"],S,aa)),new Promise((S,aa)=>C(["../arcade/functions/featuresetstring"],S,aa))]).then(([S,aa,ia,wa,xa])=>{da=S;ja.extend([aa,ia,wa,xa]);J.extend([aa,ia,wa,xa],"async");return na=!0}))}function pa(S,aa=[]){void 0===S.usesFeatureSet&&B.findScriptDependencies(S,aa);return!0===S.usesFeatureSet}function Sa(S,aa=[]){void 0===S.isAsync&&B.findScriptDependencies(S,aa);return!0===
S.isAsync}function Xa(S,aa){if(aa)for(const ia of aa)if(u(S,ia))return!0;return!1}function Oa(S,aa,ia=[],wa=!1){return r.create((xa,G)=>{const H="string"===typeof S?b(S):S,P=[];H&&(!1===la&&(c(H)||wa)&&P.push(f()),!1===X()&&(!0===H.isAsync||aa)&&P.push(l()),!1===na&&(pa(H)||Xa(H,ia))&&P.push(Z()));P.length?r.all(P).then(()=>{xa(!0)},G):xa(!0)})}function ua(S){if(c(S))return!0;S=B.findFunctionCalls(S);let aa=!1;for(let ia=0;ia<S.length;ia++)if(-1<ca.indexOf(S[ia])){aa=!0;break}return aa}function V(){return da}
const ca="feature angle bearing centroid envelopeintersects extent geometry isselfintersecting ringisclockwise".split(" ");let na=!1,la=!1,ja=null,qa=[],sa=null,Na=null,O=null,da=null;const W=Object.freeze({__proto__:null,compileScript:d,extend:q,parseScript:b,validateScript:e,scriptCheck:h,parseAndExecuteScript:n,executeScript:x,referencesMember:u,referencesFunction:F,extractFieldLiterals:L,extractExpectedFieldLiterals:E,scriptUsesGeometryEngine:c,enableGeometrySupport:f,enableAsyncSupport:l,isFeatureSetSupportEnabled:g,
isAsyncEnabled:X,isGeometryEnabled:ea,enableFeatureSetSupport:Z,scriptUsesFeatureSet:pa,scriptIsAsync:Sa,loadScriptDependencies:Oa,scriptTouchesGeometry:ua,featureSetUtils:V});z.arcade=W;z.compileScript=d;z.enableAsyncSupport=l;z.enableFeatureSetSupport=Z;z.enableGeometrySupport=f;z.executeScript=x;z.extend=q;z.extractExpectedFieldLiterals=E;z.extractFieldLiterals=L;z.featureSetUtils=V;z.isAsyncEnabled=X;z.isFeatureSetSupportEnabled=g;z.isGeometryEnabled=ea;z.loadScriptDependencies=Oa;z.parseAndExecuteScript=
n;z.parseScript=b;z.referencesFunction=F;z.referencesMember=u;z.scriptCheck=h;z.scriptIsAsync=Sa;z.scriptTouchesGeometry=ua;z.scriptUsesFeatureSet=pa;z.scriptUsesGeometryEngine=c;z.validateScript=e})},"esri/arcade/arcadeCompiler":function(){define("require exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./ImmutablePathArray ./ImmutablePointArray ../chunks/languageUtils ./treeAnalysis ../chunks/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../core/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),
function(C,z,J,y,p,B,D,r,d,m,q,b,e,h,n,x,u,F,L,E,c,f,l,g,X){function ea(t,v,N){try{return N(t,null,v.arguments)}catch(Q){throw Q;}}function Z(t){return t instanceof Error?F.reject(t):F.reject(Error(t))}function pa(t,v){try{switch(v.type){case "EmptyStatement":return"lc.voidOperation";case "VariableDeclarator":return V(t,v);case "VariableDeclaration":var N,Q=[];for(var U=0;U<v.declarations.length;U++)Q.push(pa(t,v.declarations[U]));return N=Q.join("\n")+" \n lastStatement\x3d  lc.voidOperation; \n";
case "BlockStatement":return ua(t,v);case "FunctionDeclaration":{const ra=v.id.name.toLowerCase(),Ca={isAsync:t.isAsync,spatialReference:t.spatialReference,console:t.console,lrucache:t.lrucache,interceptor:t.interceptor,services:t.services,symbols:t.symbols,mangleMap:t.mangleMap,localScope:{_SymbolsMap:{}},depthCounter:t.depthCounter+1,globalScope:t.globalScope};if(64<Ca.depthCounter)throw Error("Exceeded maximum function depth");Q="new lc.SizzleFunction( lang.functionDepthchecker(function() { var lastStatement \x3d lc.voidOperation; \n   var lscope \x3d runtimeCtx.localStack[runtimeCtx.localStack.length-1];\n";
for(N=0;N<v.params.length;N++){const Ha=v.params[N].name.toLowerCase(),Ba=da(t);Ca.localScope._SymbolsMap[Ha]=Ba;Ca.mangleMap[Ha]=Ba;Q+="lscope['"+Ba+"']\x3darguments["+N.toString()+"];\n"}!0===t.isAsync?(Q=Q+"return lang.__awaiter(this, void 0, void 0, function* () {\n"+(ua(Ca,v.body)+"\n return lastStatement; "),Q=Q+"});  }, runtimeCtx),"+(v.params.length+")")):Q+=ua(Ca,v.body)+"\n return lastStatement; }, runtimeCtx),"+v.params.length+")";Q+="\n lastStatement \x3d lc.voidOperation; \n";if(void 0!==
t.globalScope[ra])U="gscope['"+ra+"']\x3d"+Q;else if(void 0!==t.globalScope._SymbolsMap[ra])U="gscope['"+t.globalScope._SymbolsMap[ra]+"']\x3d"+Q;else{{const Ha=da(t);t.globalScope._SymbolsMap[ra]=Ha;t.mangleMap[ra]=Ha;U="gscope['"+Ha+"']\x3d"+Q}}}return U;case "ReturnStatement":var ta=null===v.argument?"return lc.voidOperation":"return "+pa(t,v.argument);return ta;case "IfStatement":{if("AssignmentExpression"===v.test.type||"UpdateExpression"===v.test.type)throw Error(m.nodeErrorMessage(v.test,"RUNTIME",
"CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const ra=pa(t,v.test),Ca=W(t);let Ha="var "+Ca+" \x3d "+ra+";\n if ("+Ca+" \x3d\x3d\x3d true) {\n"+Oa(t,v.consequent)+"\n }\n";Ha=null!==v.alternate?Ha+("else if ("+Ca+"\x3d\x3d\x3dfalse)   { \n"+Oa(t,v.alternate)+"}\n"):Ha+("else if ("+Ca+"\x3d\x3d\x3dfalse) { \n lastStatement \x3d lc.voidOperation;\n }\n");var Aa=Ha+="else { lang.error({type: '"+v.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION'); \n}\n"}return Aa;case "ExpressionStatement":var ya="AssignmentExpression"===
v.expression.type?"lastStatement \x3d lc.voidOperation; "+pa(t,v.expression)+"; \n ":"lastStatement \x3d "+pa(t,v.expression)+"; ";return ya;case "AssignmentExpression":return Xa(t,v);case "UpdateExpression":return Sa(t,v);case "BreakStatement":return"break";case "ContinueStatement":return"continue";case "TemplateLiteral":try{Q=[];N=0;for(const ra of v.quasis)Q.push(ra.value?JSON.stringify(ra.value.cooked):JSON.stringify("")),!1===ra.tail&&(Q.push(v.expressions[N]?"lang.castString(lang.aCheck("+pa(t,
v.expressions[N])+", 'TemplateLiteral'))":""),N++);var Da="(["+Q.join(",")+"]).join('')"}catch(ra){throw ra;}return Da;case "TemplateElement":return JSON.stringify(v.value?v.value.cooked:"");case "ForStatement":{Q="lastStatement \x3d lc.voidOperation; \n";null!==v.init&&(Q+=pa(t,v.init)+"; ");const ra=W(t),Ca=W(t);Q+="var "+ra+" \x3d true; \n do { ";null!==v.update&&(Q+=" if ("+ra+"\x3d\x3d\x3dfalse) {\n "+pa(t,v.update)+"  \n}\n "+ra+"\x3dfalse; \n");null!==v.test&&(Q+="var "+Ca+" \x3d "+pa(t,v.test)+
"; ",Q+="if ("+Ca+"\x3d\x3d\x3dfalse) { break; } else if ("+Ca+"!\x3d\x3dtrue) { lang.error({type: '"+v.type+"'},'RUNTIME','CANNOT_USE_NONBOOLEAN_IN_CONDITION');   }\n");Q+=pa(t,v.body);null!==v.update&&(Q+="\n "+pa(t,v.update));var Ea=Q+("\n"+ra+" \x3d true; \n} while(true);  lastStatement \x3d lc.voidOperation; ")}return Ea;case "ForInStatement":{const ra=W(t),Ca=W(t),Ha=W(t);let Ba="var "+ra+" \x3d "+pa(t,v.right)+";\n";"VariableDeclaration"===v.left.type&&(Ba+=pa(t,v.left));let Ua="VariableDeclaration"===
v.left.type?v.left.declarations[0].id.name:v.left.name;Ua=Ua.toLowerCase();Q="";null!==t.localScope&&(void 0!==t.localScope[Ua]?Q="lscope['"+Ua+"']":void 0!==t.localScope._SymbolsMap[Ua]&&(Q="lscope['"+t.localScope._SymbolsMap[Ua]+"']"));""===Q&&(void 0!==t.globalScope[Ua]?Q="gscope['"+Ua+"']":void 0!==t.globalScope._SymbolsMap[Ua]&&(Q="gscope['"+t.globalScope._SymbolsMap[Ua]+"']"));Ba=Ba+("if ("+ra+"\x3d\x3d\x3dnull) {  lastStatement \x3d lc.voidOperation; }\n else if (lc.isArray(")+(ra+") || lc.isString("+
ra+")) {var ")+(Ca+"\x3d"+ra+".length; \nfor(var ")+(Ha+"\x3d0; "+Ha+"\x3c"+Ca+"; "+Ha+"++) {\n");Ba+=Q+"\x3d"+Ha+";\n";Ba+=pa(t,v.body);Ba+="\n}\n";Ba+=" lastStatement \x3d lc.voidOperation; \n";Ba+=" \n}\n";Ba+="else if (lc.isImmutableArray("+ra+")) {";Ba=Ba+("var "+Ca+"\x3d"+ra+".length(); \nfor(var ")+(Ha+"\x3d0; "+Ha+"\x3c"+Ca+"; "+Ha+"++) {\n");Ba+=Q+"\x3d"+Ha+";\n";Ba+=pa(t,v.body);Ba+="\n}\n";Ba+=" lastStatement \x3d lc.voidOperation; \n";Ba+=" \n}\n";Ba+="else if (( "+ra+" instanceof lang.Dictionary) || ( "+
ra+" instanceof lang.Feature)) {";Ba=Ba+("var "+Ca+"\x3d"+ra+".keys(); \nfor(var ")+(Ha+"\x3d0; "+Ha+"\x3c"+Ca+".length; "+Ha+"++) {\n");Ba+=Q+"\x3d"+Ca+"["+Ha+"];\n";Ba+=pa(t,v.body);Ba+="\n}\n";Ba+=" lastStatement \x3d lc.voidOperation; \n";Ba+=" \n}\n";t.isAsync&&(Ba+="else if (lc.isFeatureSet("+ra+")) {",Ba=Ba+("var "+Ca+"\x3d"+ra+".iterator(runtimeCtx.abortSignal); \nfor(var ")+(Ha+"\x3dlang. graphicToFeature( yield "+Ca+".next(),"+ra+"); "+Ha+"!\x3dnull; "+Ha+"\x3dlang. graphicToFeature( yield "+
Ca+".next(),"+ra+")) {\n")+(Q+"\x3d"+Ha+";\n"),Ba+=pa(t,v.body),Ba+="\n}\n",Ba+=" lastStatement \x3d lc.voidOperation; \n",Ba+=" \n}\n");var ha=Ba+="else { lastStatement \x3d lc.voidOperation; } \n"}return ha;case "Identifier":return na(t,v);case "MemberExpression":try{let ra;ra=!0===v.computed?pa(t,v.property):"'"+v.property.name+"'";var Ta="lang.member("+pa(t,v.object)+","+ra+")"}catch(ra){throw ra;}return Ta;case "Literal":return null===v.value||void 0===v.value?"null":JSON.stringify(v.value);
case "ThisExpression":throw Error(m.nodeErrorMessage(v,"RUNTIME","NOTSUPPORTED"));case "CallExpression":try{if("Identifier"!==v.callee.type)throw Error(m.nodeErrorMessage(v,"RUNTIME","ONLYNODESSUPPORTED"));const ra=v.callee.name.toLowerCase();N="";null!==t.localScope&&(void 0!==t.localScope[ra]?N="lscope['"+ra+"']":void 0!==t.localScope._SymbolsMap[ra]&&(N="lscope['"+t.localScope._SymbolsMap[ra]+"']"));""===N&&(void 0!==t.globalScope[ra]?N="gscope['"+ra+"']":void 0!==t.globalScope._SymbolsMap[ra]&&
(N="gscope['"+t.globalScope._SymbolsMap[ra]+"']"));if(""!==N){U="[";for(Da=0;Da<v.arguments.length;Da++)0<Da&&(U+=", "),U+=pa(t,v.arguments[Da]);U+="]";Q=t.isAsync?"(yield lang.callfunc("+N+","+U+",runtimeCtx) )":"lang.callfunc("+N+","+U+",runtimeCtx)"}else throw Error(m.nodeErrorMessage(v,"RUNTIME","NOTFOUND"));}catch(ra){throw ra;}return Q;case "UnaryExpression":try{var ub="lang.unary("+pa(t,v.argument)+",'"+v.operator+"')"}catch(ra){throw ra;}return ub;case "BinaryExpression":try{var jb="lang.binary("+
pa(t,v.left)+","+pa(t,v.right)+",'"+v.operator+"')"}catch(ra){throw ra;}return jb;case "LogicalExpression":try{if("AssignmentExpression"===v.left.type||"UpdateExpression"===v.left.type)throw Error(m.nodeErrorMessage(v.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===v.right.type||"UpdateExpression"===v.right.type)throw Error(m.nodeErrorMessage(v.right,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("\x26\x26"===v.operator||"||"===v.operator)var pb="(lang.logicalCheck("+
pa(t,v.left)+") "+v.operator+" lang.logicalCheck("+pa(t,v.right)+"))";else throw Error(m.nodeErrorMessage(v,"RUNTIME","ONLYORORAND"));}catch(ra){throw ra;}return pb;case "ConditionalExpression":throw Error(m.nodeErrorMessage(v,"RUNTIME","NOTSUPPORTED"));case "ArrayExpression":try{Q=[];for(N=0;N<v.elements.length;N++)"Literal"===v.elements[N].type?Q.push(pa(t,v.elements[N])):Q.push("lang.aCheck("+pa(t,v.elements[N])+",'ArrayExpression')");var qb="["+Q.join(",")+"]"}catch(ra){throw ra;}return qb;case "ObjectExpression":var rb;
Q="lang.dictionary([";for(N=0;N<v.properties.length;N++){const ra=v.properties[N],Ca="Identifier"===ra.key.type?"'"+ra.key.name+"'":pa(t,ra.key),Ha=pa(t,ra.value);0<N&&(Q+=",");Q+="lang.strCheck("+Ca+",'ObjectExpression'),lang.aCheck("+Ha+", 'ObjectExpression')"}return rb=Q+"])";case "Property":throw Error("Should not get here");case "Array":throw Error(m.nodeErrorMessage(v,"RUNTIME","NOTSUPPORTED"));default:throw Error(m.nodeErrorMessage(v,"RUNTIME","UNREOGNISED"));}}catch(ra){throw ra;}}function Sa(t,
v){let N=null,Q="";if("MemberExpression"===v.argument.type)return N=pa(t,v.argument.object),Q=!0===v.argument.computed?pa(t,v.argument.property):"'"+v.argument.property.name+"'","lang.memberupdate("+N+","+Q+",'"+v.operator+"',"+v.prefix+")";N=v.argument.name.toLowerCase();if(null!==t.localScope){if(void 0!==t.localScope[N])return"lang.update(lscope, '"+N+"','"+v.operator+"',"+v.prefix+")";if(void 0!==t.localScope._SymbolsMap[N])return"lang.update(lscope, '"+t.localScope._SymbolsMap[N]+"','"+v.operator+
"',"+v.prefix+")"}if(void 0!==t.globalScope[N])return"lang.update(gscope, '"+N+"','"+v.operator+"',"+v.prefix+")";if(void 0!==t.globalScope._SymbolsMap[N])return"lang.update(gscope, '"+t.globalScope._SymbolsMap[N]+"','"+v.operator+"',"+v.prefix+")";throw Error("Variable not recognised");}function Xa(t,v){const N=pa(t,v.right);let Q=null,U="";if("MemberExpression"===v.left.type)return Q=pa(t,v.left.object),U=!0===v.left.computed?pa(t,v.left.property):"'"+v.left.property.name+"'","lang.assignmember("+
Q+","+U+",'"+v.operator+"',"+N+")";Q=v.left.name.toLowerCase();if(null!==t.localScope){if(void 0!==t.localScope[Q])return"lscope['"+Q+"']\x3dlang.assign("+N+",'"+v.operator+"', lscope['"+Q+"'])";if(void 0!==t.localScope._SymbolsMap[Q])return"lscope['"+t.localScope._SymbolsMap[Q]+"']\x3dlang.assign("+N+",'"+v.operator+"', lscope['"+t.localScope._SymbolsMap[Q]+"'])"}if(void 0!==t.globalScope[Q])return"gscope['"+Q+"']\x3dlang.assign("+N+",'"+v.operator+"', gscope['"+Q+"'])";if(void 0!==t.globalScope._SymbolsMap[Q])return"gscope['"+
t.globalScope._SymbolsMap[Q]+"']\x3dlang.assign("+N+",'"+v.operator+"', gscope['"+t.globalScope._SymbolsMap[Q]+"'])";throw Error("Variable not recognised");}function Oa(t,v){return"BlockStatement"===v.type?pa(t,v):"ReturnStatement"===v.type||"BreakStatement"===v.type||"ContinueStatement"===v.type?pa(t,v)+"; ":"UpdateExpression"===v.type?"lastStatement \x3d "+pa(t,v)+"; ":"ExpressionStatement"===v.type?pa(t,v):"ObjectExpression"===v.type?"lastStatement \x3d "+pa(t,v)+"; ":pa(t,v)+"; "}function ua(t,
v){let N="";for(let Q=0;Q<v.body.length;Q++)N="ReturnStatement"===v.body[Q].type?N+(pa(t,v.body[Q])+"; \n"):"BreakStatement"===v.body[Q].type?N+(pa(t,v.body[Q])+"; \n"):"ContinueStatement"===v.body[Q].type?N+(pa(t,v.body[Q])+"; \n"):"UpdateExpression"===v.body[Q].type?N+("lastStatement \x3d "+pa(t,v.body[Q])+"; \n"):"ObjectExpression"===v.body[Q].type?N+("lastStatement \x3d "+pa(t,v.body[Q])+"; \n"):N+(pa(t,v.body[Q])+" \n");return N}function V(t,v){let N=null===v.init?null:pa(t,v.init);N===d.voidOperation&&
(N=null);v=v.id.name.toLowerCase();if(null!==t.localScope){if(void 0!==t.localScope[v])return"lscope['"+v+"']\x3d"+N+"; ";if(void 0!==t.localScope._SymbolsMap[v])return"lscope['"+t.localScope._SymbolsMap[v]+"']\x3d"+N+"; ";var Q=da(t);t.localScope._SymbolsMap[v]=Q;t.mangleMap[v]=Q;return"lscope['"+Q+"']\x3d"+N+"; "}if(void 0!==t.globalScope[v])return"gscope['"+v+"']\x3d"+N+"; ";if(void 0!==t.globalScope._SymbolsMap[v])return"gscope['"+t.globalScope._SymbolsMap[v]+"']\x3d"+N+"; ";Q=da(t);t.globalScope._SymbolsMap[v]=
Q;t.mangleMap[v]=Q;return"gscope['"+Q+"']\x3d"+N+"; "}function ca(t,v,N){v=v.toLowerCase();switch(v){case "hasz":return t=t.hasZ,void 0===t?!1:t;case "hasm":return t=t.hasM,void 0===t?!1:t;case "spatialreference":return v=t.spatialReference._arcadeCacheId,void 0===v&&(N=!0,Object.freeze&&Object.isFrozen(t.spatialReference)&&(N=!1),N&&(xa++,v=t.spatialReference._arcadeCacheId=xa)),t=new p({wkt:t.spatialReference.wkt,wkid:t.spatialReference.wkid}),void 0!==v&&(t._arcadeCacheId="SPREF"+v.toString()),
t}switch(t.type){case "extent":switch(v){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return t=t[v],void 0!==t?t:null;case "type":return"Extent"}break;case "polygon":switch(v){case "rings":return v=t.cache._arcadeCacheId,void 0===v&&(xa++,v=xa,t.cache._arcadeCacheId=v),new D(t.rings,t.spatialReference,!0===t.hasZ,!0===t.hasM,v);case "type":return"Polygon"}break;case "point":switch(v){case "x":case "y":case "z":case "m":return void 0!==t[v]?t[v]:null;
case "type":return"Point"}break;case "polyline":switch(v){case "paths":return v=t.cache._arcadeCacheId,void 0===v&&(xa++,v=xa,t.cache._arcadeCacheId=v),new D(t.paths,t.spatialReference,!0===t.hasZ,!0===t.hasM,v);case "type":return"Polyline"}break;case "multipoint":switch(v){case "points":return v=t.cache._arcadeCacheId,void 0===v&&(xa++,v=xa,t.cache._arcadeCacheId=v),new r(t.points,t.spatialReference,!0===t.hasZ,!0===t.hasM,v,1);case "type":return"Multipoint"}}throw Error(m.nodeErrorMessage(N,"RUNTIME",
"PROPERTYNOTFOUND"));}function na(t,v){try{const N=v.name.toLowerCase();if(null!==t.localScope){if(void 0!==t.localScope[N])return"lscope['"+N+"']";if(void 0!==t.localScope._SymbolsMap[N])return"lscope['"+t.localScope._SymbolsMap[N]+"']"}if(void 0!==t.globalScope[N])return"gscope['"+N+"']";if(void 0!==t.globalScope._SymbolsMap[N])return"gscope['"+t.globalScope._SymbolsMap[N]+"']";throw Error(m.nodeErrorMessage(v,"RUNTIME","VARIABLENOTFOUND"));}catch(N){throw N;}}function la(t){return null===t?"":
d.isArray(t)||d.isImmutableArray(t)?"Array":d.isDate(t)?"Date":d.isString(t)?"String":d.isBoolean(t)?"Boolean":d.isNumber(t)?"Number":t instanceof y?"Attachment":t instanceof J?"Portal":t instanceof p?"Dictionary":d.isFeature(t)?"Feature":t instanceof f?"Point":t instanceof l?"Polygon":t instanceof g?"Polyline":t instanceof c?"Multipoint":t instanceof L?"Extent":d.isFunctionParameter(t)?"Function":d.isFeatureSet(t)?"FeatureSet":d.isFeatureSetCollection(t)?"FeatureSetCollection":t===d.voidOperation?
"":"number"===typeof t&&isNaN(t)?"Number":"Unrecognised Type"}function ja(t,v,N,Q){try{if(d.equalityTest(v[N],Q))return v[N+1];{const U=v.length-N;return 1===U?v[N]:2===U?null:3===U?v[N+2]:ja(t,v,N+2,Q)}}catch(U){throw U;}}function qa(t,v,N,Q){try{if(!0===Q)return v[N+1];if(3===v.length-N)return v[N+2];{const U=v[N+2];if(!1===d.isBoolean(U))throw Error("WHEN needs boolean test conditions");return qa(t,v,N+2,U)}}catch(U){throw U;}}function sa(t,v){var N=t.length,Q=Math.floor(N/2);if(0===N)return[];
if(1===N)return[t[0]];var U=sa(t.slice(0,Q),v);t=sa(t.slice(Q,N),v);for(N=[];0<U.length||0<t.length;)0<U.length&&0<t.length?(Q=v(U[0],t[0]),isNaN(Q)&&(Q=0),0>=Q?(N.push(U[0]),U=U.slice(1)):(N.push(t[0]),t=t.slice(1))):0<U.length?(N.push(U[0]),U=U.slice(1)):0<t.length&&(N.push(t[0]),t=t.slice(1));return v=N}function Na(t,v){try{const N=t.length,Q=Math.floor(N/2);if(0===N)return F.resolve([]);if(1===N)return F.resolve([t[0]]);const U=[Na(t.slice(0,Q),v),Na(t.slice(Q,N),v)];return F.all(U).then(ta=>
O(ta[0],ta[1],v,[]))}catch(N){return F.reject(N)}}function O(t,v,N,Q){return F.create((U,ta)=>{0<t.length||0<v.length?0<t.length&&0<v.length?N(t[0],v[0]).then(Aa=>{try{isNaN(Aa)&&(Aa=1),0>=Aa?(Q.push(t[0]),t=t.slice(1)):(Q.push(v[0]),v=v.slice(1)),O(t,v,N,Q).then(ya=>{U(ya)},ta)}catch(ya){ta(ya)}},ta):0<t.length?(Q.push(t[0]),t=t.slice(1),O(t,v,N,Q).then(Aa=>{U(Aa)},ta)):0<v.length&&(Q.push(v[0]),v=v.slice(1),O(t,v,N,Q).then(Aa=>{U(Aa)},ta)):U(Q)})}function da(t){t.symbols.symbolCounter++;return"_T"+
t.symbols.symbolCounter.toString()}function W(t){t.symbols.symbolCounter++;return"_Tvar"+t.symbols.symbolCounter.toString()}function S(t,v,N){const Q={};t||(t={});N||(N={});Q._SymbolsMap={};Q.textformatting=1;Q.infinity=1;Q.pi=1;for(const U in v)Q[U]=1;for(const U in N)Q[U]=1;for(const U in t)Q[U]=1;return Q}function aa(t,v){const N={mode:v,compiled:!0,functions:{},signatures:[],failDefferred:Z,standardFunction:ea,standardFunctionAsync:ea,evaluateIdentifier:ia};for(let Q=0;Q<t.length;Q++)t[Q].registerFunctions(N);
if("sync"===v){for(const Q in N.functions)G[Q]=new d.NativeFunction(N.functions[Q]),P.prototype[Q]=G[Q];for(t=0;t<N.signatures.length;t++)m.addFunctionDeclaration(N.signatures[t],"sync")}else{for(const Q in N.functions)H[Q]=new d.NativeFunction(N.functions[Q]),T.prototype[Q]=H[Q];for(t=0;t<N.signatures.length;t++)m.addFunctionDeclaration(N.signatures[t],"async")}}function ia(t,v){v=v.name;if("_SymbolsMap"===v)throw"Illegal";if(0<t.localStack.length){if("_t"!==v.substr(0,2).toLowerCase()&&void 0!==
t.localStack[t.localStack.length-1][v])return t.localStack[t.localStack.length-1][v];const N=t.mangleMap[v];if(void 0!==N&&void 0!==t.localStack[t.localStack.length-1][N])return t.localStack[t.localStack.length-1][N]}if("_t"!==v.substr(0,2).toLowerCase()&&void 0!==t.globalScope[v]||1===t.globalScope._SymbolsMap[v])return t.globalScope[v];v=t.mangleMap[v];if(void 0!==v)return t.globalScope[v]}function wa(t){console.log(t)}let xa=0;const G={};b.registerFunctions(G,ea);u.registerFunctions(G,ea);n.registerFunctions(G,
ea);e.registerFunctions(G,ea);x.registerFunctions(G,ea);G["typeof"]=function(t,v){return ea(t,v,function(N,Q,U){d.pcCheck(U,1,1);N=la(U[0]);if("Unrecognised Type"===N)throw Error("Unrecognised Type");return N})};G.iif=function(t,v){try{return ea(t,v,function(N,Q,U){d.pcCheck(U,3,3);if(!1===d.isBoolean(U[0]))throw Error("IF Function must have a boolean test condition");return U[0]?U[1]:U[2]})}catch(N){throw N;}};G.decode=function(t,v){try{return ea(t,v,function(N,Q,U){if(2>U.length)throw Error("Missing Parameters");
if(2===U.length)return U[1];if(0===(U.length-1)%2)throw Error("Must have a default value result.");return ja(t,U,1,U[0])})}catch(N){throw N;}};G.when=function(t,v){try{return ea(t,v,function(N,Q,U){if(3>U.length)throw Error("Missing Parameters");if(0===U.length%2)throw Error("Must have a default value result.");N=U[0];if(!1===d.isBoolean(N))throw Error("WHEN needs boolean test conditions");return qa(t,U,0,N)})}catch(N){throw N;}};G.top=function(t,v){return ea(t,v,function(N,Q,U){d.pcCheck(U,2,2);
if(d.isArray(U[0]))return d.toNumber(U[1])>=U[0].length?U[0].slice(0):U[0].slice(0,d.toNumber(U[1]));if(d.isImmutableArray(U[0]))return d.toNumber(U[1])>=U[0].length()?U[0].slice(0):U[0].slice(0,d.toNumber(U[1]));throw Error("Top cannot accept this parameter type");})};G.first=function(t,v){return ea(t,v,function(N,Q,U){d.pcCheck(U,1,1);return d.isArray(U[0])?0===U[0].length?null:U[0][0]:d.isImmutableArray(U[0])?0===U[0].length()?null:U[0].get(0):null})};G.sort=function(t,v){return ea(t,v,function(N,
Q,U){d.pcCheck(U,1,2);Q=U[0];d.isImmutableArray(Q)&&(Q=Q.toArray());if(!1===d.isArray(Q))throw Error("Illegal Argument");if(1<U.length){if(!1===d.isFunctionParameter(U[1]))throw Error("Illegal Argument");var ta=Q;const Da=function(Ea,ha){return za.callfunc(U[1],[Ea,ha],N)};return t.isAsync?Na(ta,Da):ta=sa(ta,function(Ea,ha){return Da(Ea,ha)})}{if(0===Q.length)return[];const Da={};for(var Aa=0;Aa<Q.length;Aa++){var ya=la(Q[Aa]);""!==ya&&(Da[ya]=!0)}if(!0===Da.Array||!0===Da.Dictionary||!0===Da.Feature||
!0===Da.Point||!0===Da.Polygon||!0===Da.Polyline||!0===Da.Multipoint||!0===Da.Extent||!0===Da.Function)return Q.slice(0);Aa=0;ya="";for(ta in Da)Aa++,ya=ta;return Q=1<Aa||"String"===ya?sa(Q,function(Ea,ha){if(null===Ea||void 0===Ea||Ea===d.voidOperation)return null===ha||void 0===ha||ha===d.voidOperation?0:1;if(null===ha||void 0===ha||ha===d.voidOperation)return-1;Ea=d.toString(Ea);ha=d.toString(ha);return Ea<ha?-1:Ea===ha?0:1}):"Number"===ya?sa(Q,function(Ea,ha){return Ea-ha}):"Boolean"===ya?sa(Q,
function(Ea,ha){return Ea===ha?0:ha?-1:1}):"Date"===ya?sa(Q,function(Ea,ha){return ha-Ea}):Q.slice(0)}})};const H={};for(const t in G)H[t]=new d.NativeFunction(G[t]);h.registerFunctions(G,ea);for(const t in G)G[t]=new d.NativeFunction(G[t]);const P=function(){};P.prototype=G;const T=function(){};T.prototype=H;b={fixSpatialReference:d.fixSpatialReference,parseArguments:function(t,v){const N=[];for(let Q=0;Q<v.arguments.length;Q++)N.push(pa(t,v.arguments[Q]));return N},standardFunction:ea};aa([q.ArrayFunctions],
"sync");aa([q.ArrayFunctions],"async");let ba=0;const za={error(t,v,N){throw Error(m.nodeErrorMessage(t,v,N));},__awaiter(t,v,N,Q){return F.create((U,ta)=>{function Aa(Ea){try{Da(Q.next(Ea))}catch(ha){ta(ha)}}function ya(Ea){try{Da(Q["throw"](Ea))}catch(ha){ta(ha)}}function Da(Ea){Ea.done?U(Ea.value):Ea.value&&Ea.value.then?Ea.value.then(Aa,ya):(ba++,0===ba%100?setTimeout(()=>{ba=0;Aa(Ea.value)},0):Aa(Ea.value))}Da((Q=Q.apply(t,v||[])).next())})},functionDepthchecker(t,v){return function(){v.depthCounter++;
v.localStack.push([]);if(64<v.depthCounter)throw Error("Exceeded maximum function depth");const N=t.apply(this,arguments);if(F.isPromiseLike(N))return N.then(Q=>{v.depthCounter--;--v.localStack.length;return Q});v.depthCounter--;--v.localStack.length;return N}},castString(t){return d.toString(t)},aCheck(t,v){if(d.isFunctionParameter(t))throw Error(m.nodeErrorMessage({type:v},"RUNTIME","FUNCTIONCONTEXTILLEGAL"));return t===d.voidOperation?null:t},Dictionary:p,Feature:B,dictionary(t){const v={};for(let N=
0;N<t.length;N+=2){if(d.isFunctionParameter(t[N+1]))throw Error("Illegal Argument");if(!1===d.isString(t[N]))throw Error("Illegal Argument");v[t[N].toString()]=t[N+1]===d.voidOperation?null:t[N+1]}t=new p(v);t.immutable=!1;return t},strCheck(t){if(!1===d.isString(t))throw Error("Illegal Argument");return t},unary(t,v){if(d.isBoolean(t)){if("!"===v)return!t;if("-"===v)return-1*d.toNumber(t);if("+"===v)return 1*d.toNumber(t);if("~"===v)return~d.toNumber(t);throw Error(m.nodeErrorMessage({type:"UnaryExpression",
operator:v,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("-"===v)return-1*d.toNumber(t);if("+"===v)return 1*d.toNumber(t);if("~"===v)return~d.toNumber(t);throw Error(m.nodeErrorMessage({type:"UnaryExpression",operator:v,prefix:null,argument:null},"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));},logicalCheck(t){if(!1===d.isBoolean(t))throw Error(m.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));return t},logical(t,v,N){if(d.isBoolean(t)&&
d.isBoolean(v))switch(N){case "||":return t||v;case "\x26\x26":return t&&v}throw Error(m.nodeErrorMessage({type:"LogicalExpression",operator:null,left:null,right:null},"RUNTIME","ONLYORORAND"));},binary(t,v,N){switch(N){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return d.binaryOperator(d.toNumber(t),d.toNumber(v),N);case "\x3d\x3d":return d.equalityTest(t,v);case "\x3d":return d.equalityTest(t,v);case "!\x3d":return!d.equalityTest(t,v);case "\x3c":return d.greaterThanLessThan(t,
v,N);case "\x3e":return d.greaterThanLessThan(t,v,N);case "\x3c\x3d":return d.greaterThanLessThan(t,v,N);case "\x3e\x3d":return d.greaterThanLessThan(t,v,N);case "+":return d.isString(t)||d.isString(v)?d.toString(t)+d.toString(v):d.toNumber(t)+d.toNumber(v);case "-":return d.toNumber(t)-d.toNumber(v);case "*":return d.toNumber(t)*d.toNumber(v);case "/":return d.toNumber(t)/d.toNumber(v);case "%":return d.toNumber(t)%d.toNumber(v);default:throw Error(m.nodeErrorMessage({type:"BinaryExpression",operator:N,
left:t,right:v},"RUNTIME","OPERATORNOTRECOGNISED"));}},assign(t,v,N){switch(v){case "\x3d":return t===d.voidOperation?null:t;case "/\x3d":return d.toNumber(N)/d.toNumber(t);case "*\x3d":return d.toNumber(N)*d.toNumber(t);case "-\x3d":return d.toNumber(N)-d.toNumber(t);case "+\x3d":return d.isString(N)||d.isString(t)?d.toString(N)+d.toString(t):d.toNumber(N)+d.toNumber(t);case "%\x3d":return d.toNumber(N)%d.toNumber(t);default:throw Error(m.nodeErrorMessage({type:"AssignmentExpression",operator:v,
left:null,right:null},"RUNTIME","OPERATORNOTRECOGNISED"));}},update(t,v,N,Q){const U=d.toNumber(t[v]);t[v]="++"===N?U+1:U-1;return!1===Q?U:"++"===N?U+1:U-1},graphicToFeature(t,v){return null===t?null:B.createFromGraphicLikeObject(t.geometry,t.attributes,v)},memberupdate(t,v,N,Q){let U;if(d.isArray(t))if(d.isNumber(v)){0>v&&(v=t.length+v);if(0>v||v>=t.length)throw Error("Assignment outside of array bounds");U=d.toNumber(t[v]);t[v]="++"===N?U+1:U-1}else throw Error("Invalid Parameter");else if(t instanceof
p){if(!1===d.isString(v))throw Error("Dictionary accessor must be a string");if(!0===t.hasField(v))U=d.toNumber(t.field(v)),t.setField(v,"++"===N?U+1:U-1);else throw Error("Invalid Parameter");}else if(d.isFeature(t)){if(!1===d.isString(v))throw Error("Feature accessor must be a string");if(!0===t.hasField(v))U=d.toNumber(t.field(v)),t.setField(v,"++"===N?U+1:U-1);else throw Error("Invalid Parameter");}else{if(d.isImmutableArray(t))throw Error("Array is Immutable");throw Error("Invalid Parameter");
}return!1===Q?U:"++"===N?U+1:U-1},assignmember(t,v,N,Q){if(d.isArray(t))if(d.isNumber(v)){0>v&&(v=t.length+v);if(0>v||v>t.length)throw Error("Assignment outside of array bounds");if(v===t.length&&"\x3d"!==N)throw Error("Invalid Parameter");t[v]=this.assign(Q,N,t[v])}else throw Error("Invalid Parameter");else if(t instanceof p){if(!1===d.isString(v))throw Error("Dictionary accessor must be a string");if(!0===t.hasField(v))t.setField(v,this.assign(Q,N,t.field(v)));else{if("\x3d"!==N)throw Error("Invalid Parameter");
t.setField(v,this.assign(Q,N,null))}}else if(d.isFeature(t)){if(!1===d.isString(v))throw Error("Feature accessor must be a string");if(!0===t.hasField(v))t.setField(v,this.assign(Q,N,t.field(v)));else{if("\x3d"!==N)throw Error("Invalid Parameter");t.setField(v,this.assign(Q,N,null))}}else{if(d.isImmutableArray(t))throw Error("Array is Immutable");throw Error("Invalid Parameter");}},member(t,v){if(null===t)throw Error(m.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},
"RUNTIME","NOTFOUND"));if(t instanceof p||d.isFeature(t)){if(d.isString(v))return t.field(v);throw Error(m.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(t instanceof E){if(d.isString(v))return ca(t,v,"MemberExpression");throw Error(m.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(d.isArray(t)){if(d.isNumber(v)&&isFinite(v)&&Math.floor(v)===v){0>v&&(v=t.length+v);if(v>=
t.length||0>v)throw Error(m.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return t[v]}throw Error(m.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(d.isString(t)){if(d.isNumber(v)&&isFinite(v)&&Math.floor(v)===v){0>v&&(v=t.length+v);if(v>=t.length||0>v)throw Error(m.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));
return t[v]}throw Error(m.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));}if(d.isImmutableArray(t)&&d.isNumber(v)&&isFinite(v)&&Math.floor(v)===v){0>v&&(v=t.length()+v);if(v>=t.length()||0>v)throw Error(m.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","OUTOFBOUNDS"));return t.get(v)}throw Error(m.nodeErrorMessage({type:"MemberExpression",object:null,property:null,computed:null},"RUNTIME","INVALIDTYPE"));
},callfunc(t,v,N){return t instanceof d.NativeFunction?t.fn(N,{arguments:v,preparsed:!0}):t instanceof d.SizzleFunction?t.fn.apply(this,v):t.apply(this,v)}};z.compileScript=function(t,v=null,N=!1){null===v&&(v={vars:{},customfunctions:{}});v={isAsync:N,globalScope:S(v.vars,N?H:G,v.customfunctions),localScope:null,mangleMap:{},console:wa,lrucache:v.lrucache,interceptor:v.interceptor,services:v.services,symbols:{symbolCounter:0}};t=pa(v,t.body[0].body);""===t&&(t="lc.voidOperation; ");v={lc:d.lc,lang:za,
mangles:v.mangleMap,postProcess(Q){Q instanceof d.ReturnResult&&(Q=Q.value);Q instanceof d.ImplicitResult&&(Q=Q.value);Q===d.voidOperation&&(Q=null);if(Q===d.breakResult)throw Error("Cannot return BREAK");if(Q===d.continueResult)throw Error("Cannot return CONTINUE");if(d.isFunctionParameter(Q))throw Error("Cannot return FUNCTION");return Q},prepare(Q,U){let ta=Q.spatialReference;if(null===ta||void 0===ta)ta=new X({wkid:102100});{var Aa=Q.vars;var ya=Q.customfunctions;const Da=U?new T:new P;Aa||(Aa=
{});ya||(ya={});const Ea=new p({newline:"\n",tab:"\t",singlequote:"'",doublequote:'"',forwardslash:"/",backwardslash:"\\"});Ea.immutable=!1;Da._SymbolsMap={textformatting:1,infinity:1,pi:1};Da.textformatting=Ea;Da.infinity=Number.POSITIVE_INFINITY;Da.pi=Math.PI;for(const ha in ya)Da[ha]=ya[ha],Da._SymbolsMap[ha]=1;for(const ha in Aa)Da._SymbolsMap[ha]=1,Da[ha]=Aa[ha]&&"esri.Graphic"===Aa[ha].declaredClass?B.createFromGraphic(Aa[ha]):Aa[ha];Aa=Da}return{localStack:[],isAsync:U,mangleMap:this.mangles,
spatialReference:ta,globalScope:Aa,abortSignal:void 0===Q.abortSignal||null===Q.abortSignal?{aborted:!1}:Q.abortSignal,localScope:null,services:Q.services,console:Q.console?Q.console:wa,lrucache:Q.lrucache,interceptor:Q.interceptor,symbols:{symbolCounter:0},depthCounter:1}}};return(new Function("context","spatialReference",N?"var runtimeCtx\x3dthis.prepare(context, true);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \nreturn lang.__awaiter(this, void 0, void 0, function* () {\n\n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n return lang.__awaiter(this, void 0, void 0, function* () {\n"+
t+"\n return lastStatement; }); } \n return this.postProcess(yield mainBody()); }); ":"var runtimeCtx\x3dthis.prepare(context, false);\n var lc \x3d this.lc;  var lang \x3d this.lang; var gscope\x3druntimeCtx.globalScope; \n function mainBody() {\n var lastStatement\x3dlc.voidOperation;\n "+t+"\n return lastStatement; } \n return this.postProcess(mainBody()); ")).bind(v)};z.enableAsyncSupport=function(){return(new Promise((t,v)=>C(["./functions/geomasync"],t,v))).then(t=>{aa([t],"async");return!0})};
z.executeScript=function(t,v){return t(v)};z.extend=aa;z.extractExpectedFieldLiterals=function(t){return m.findExpectedFieldLiterals(t)};z.extractFieldLiterals=function(t,v){return m.findFieldLiterals(t)};z.functionHelper=b;z.referencesFunction=function(t,v){return m.referencesFunction(t,v)};z.referencesMember=function(t,v){return m.referencesMember(t,v)};z.validateScript=function(t,v){return m.validateScript(t,v,"sync")};Object.defineProperty(z,"__esModule",{value:!0})})},"esri/arcade/ArcadePortal":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./Dictionary"],function(C,z){return function(J){function y(p){var B=J.call(this)||this;B.immutable=!1;B.setField("url",p);B.immutable=!0;return B}C._inheritsLoose(y,J);return y}(z)})},"esri/arcade/Dictionary":function(){define(["./ImmutableArray","../chunks/languageUtils","../core/promiseUtils","../geometry/Geometry"],function(C,z,J,y){function p(D,r=!1){if(null===D||void 0===D)return null;if(z.isNumber(D))return z.toNumber(D);if(z.isBoolean(D))return z.toBoolean(D);if(z.isString(D))return z.toString(D);
if(z.isDate(D))return z.toDate(D);if(z.isArray(D)){var d=[];for(var m of D)d.push(p(m,r));return d}m=new B;m.immutable=!1;for(d of Object.keys(D)){const q=D[d];void 0!==q&&m.setField(d,p(q,r))}m.immutable=r;return m}let B=function(){function D(d){this.declaredClass="esri.arcade.Dictionary";this.attributes=null;this.plain=!1;this.immutable=!0;this.attributes=d instanceof D?d.attributes:void 0===d?{}:null===d?{}:d}var r=D.prototype;r.field=function(d){const m=d.toLowerCase(),q=this.attributes[d];if(void 0!==
q)return q;for(const b in this.attributes)if(b.toLowerCase()===m)return this.attributes[b];throw Error("Field not Found : "+d);};r.setField=function(d,m){if(this.immutable)throw Error("Dictionary is Immutable");const q=d.toLowerCase();if(void 0===this.attributes[d])for(const b in this.attributes)if(b.toLowerCase()===q){this.attributes[b]=m;return}this.attributes[d]=m};r.hasField=function(d){const m=d.toLowerCase();if(void 0!==this.attributes[d])return!0;for(const q in this.attributes)if(q.toLowerCase()===
m)return!0;return!1};r.keys=function(){let d=[];for(const m in this.attributes)d.push(m);return d=d.sort()};r.castToText=function(){let d="";for(const m in this.attributes){""!==d&&(d+=",");const q=this.attributes[m];null==q?d+=JSON.stringify(m)+":null":z.isBoolean(q)||z.isNumber(q)||z.isString(q)?d+=JSON.stringify(m)+":"+JSON.stringify(q):q instanceof y?d+=JSON.stringify(m)+":"+z.toStringExplicit(q):q instanceof C?d+=JSON.stringify(m)+":"+z.toStringExplicit(q):q instanceof Array?d+=JSON.stringify(m)+
":"+z.toStringExplicit(q):q instanceof Date?d+=JSON.stringify(m)+":"+JSON.stringify(q):null!==q&&"object"===typeof q&&void 0!==q.castToText&&(d+=JSON.stringify(m)+":"+q.castToText())}return"{"+d+"}"};D.convertObjectToArcadeDictionary=function(d,m=!0){const q=new D;q.immutable=!1;for(const b in d){const e=d[b];void 0!==e&&q.setField(b.toString(),p(e))}q.immutable=m;return q};D.convertJsonToArcade=function(d,m=!1){return p(d,m)};r.castAsJson=function(d=null){const m={};for(let q in this.attributes){const b=
this.attributes[q];void 0!==b&&(null!=d&&d.keyTranslate&&(q=d.keyTranslate(q)),m[q]=z.castAsJson(b,d))}return m};r.castDictionaryValueAsJsonAsync=function(d,m,q,b=null,e){return z.castAsJsonAsync(q,b,e).then(h=>d[m]=h)};r.castAsJsonAsync=function(d=null,m=null){const q={},b=[];for(let e in this.attributes){const h=this.attributes[e];null!=m&&m.keyTranslate&&(e=m.keyTranslate(e));void 0!==h&&(z.isSimpleType(h)||h instanceof y||h instanceof Date?q[e]=z.castAsJson(h,m):b.push(this.castDictionaryValueAsJsonAsync(q,
e,h,d,m)))}return 0<b.length?J.all(b).then(()=>q):J.resolve(q)};return D}();return B})},"esri/arcade/ImmutableArray":function(){define(function(){return function(){function C(J=[]){this._elements=J}var z=C.prototype;z.length=function(){return this._elements.length};z.get=function(J){return this._elements[J]};z.toArray=function(){const J=[];for(let y=0;y<this.length();y++)J.push(this.get(y));return J};return C}()})},"esri/chunks/languageUtils":function(){define("exports ../arcade/FunctionWrapper ../arcade/ImmutableArray ../arcade/ImmutablePathArray ../arcade/ImmutablePointArray ../core/promiseUtils ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ./datetime ../core/maybe ../core/number ../geometry/support/coordsUtils ../intl/locale ../arcade/featureset/support/shared".split(" "),
function(C,z,J,y,p,B,D,r,d,m,q,b,e,h,n,x,u,F){function L(w,K,Y){return""===K||null===K||void 0===K||K===Y||K===Y?w:w=w.split(K).join(Y)}function E(w){return w instanceof Ua||w instanceof z||w instanceof kb}function c(w){return l(w)||X(w)||ua(w)||g(w)||null===w||w===Ya||"number"===typeof w?!0:!1}function f(w,K){return void 0===w?K:w}function l(w){return"string"===typeof w||w instanceof String}function g(w){return"boolean"===typeof w}function X(w){return"number"===typeof w}function ea(w){return"number"===
typeof w&&isFinite(w)&&Math.floor(w)===w}function Z(w){return w instanceof Array}function pa(w){return"esri.arcade.Feature"===(null==w?void 0:w.arcadeDeclaredClass)?!0:!1}function Sa(w){return!0===(w&&w.declaredRootClass&&"esri.arcade.featureset.support.FeatureSet"===w.declaredRootClass)}function Xa(w){return!0===(w&&w.declaredRootClass&&"esri.arcade.featureSetCollection"===w.declaredRootClass)}function Oa(w){return w instanceof J}function ua(w){return w instanceof Date}function V(w,K,Y){if(w.length<
K||w.length>Y)throw Error("Function called with wrong number of Parameters");}function ca(w){return 0>w?-Math.round(-w):Math.round(w)}function na(){let w=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(K){const Y=(w+16*Math.random())%16|0;w=Math.floor(w/16);return("x"===K?Y:Y&3|8).toString(16)})}function la(w,K){if(!1===isNaN(w)){if(void 0===K||null===K||""===K)return w.toString();K=L(K,"\u2030","");K=L(K,"\u00a4","");return n.format(w,{pattern:K})}return w.toString()}
function ja(w,K){w=e.DateTime.fromJSDate(w);return void 0===K||null===K||""===K?w.toISO({suppressMilliseconds:!0}):w.toFormat(qa(K),{locale:u.getLocale(),numberingSystem:"latn"})}function qa(w){w=w.replace(/LTS|LT|LL?L?L?|l{1,4}/g,"[$\x26]");let K="";const Y=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const oa of w.match(Y))switch(oa){case "D":K+=
"d";break;case "DD":K+="dd";break;case "DDD":K+="o";break;case "d":K+="c";break;case "ddd":K+="ccc";break;case "dddd":K+="cccc";break;case "M":K+="L";break;case "MM":K+="LL";break;case "MMM":K+="LLL";break;case "MMMM":K+="LLLL";break;case "YY":K+="yy";break;case "Y":case "YYYY":K+="yyyy";break;case "Q":K+="q";break;case "Z":K+="ZZ";break;case "ZZ":K+="ZZZ";break;case "S":K+="'S'";break;case "SS":K+="'SS'";break;case "SSS":K+="u";break;case "A":case "a":K+="a";break;case "m":case "mm":case "h":case "hh":case "H":case "HH":case "s":case "ss":case "X":case "x":K+=
oa;break;default:K=2<=oa.length&&"["===oa.slice(0,1)&&"]"===oa.slice(-1)?K+`'${oa.slice(1,-1)}'`:K+`'${oa}'`}return K}function sa(w,K,Y){switch(Y){case "\x3e":return w>K;case "\x3c":return w<K;case "\x3e\x3d":return w>=K;case "\x3c\x3d":return w<=K}return!1}function Na(w,K,Y){if(null===w){if(null===K||K===Ya)return sa(null,null,Y);if(X(K))return sa(0,K,Y);if(l(K)||g(K))return sa(0,ia(K),Y);if(ua(K))return sa(0,K.getTime(),Y)}if(w===Ya){if(null===K||K===Ya)return sa(null,null,Y);if(X(K))return sa(0,
K,Y);if(l(K)||g(K))return sa(0,ia(K),Y);if(ua(K))return sa(0,K.getTime(),Y)}else if(X(w)){if(X(K))return sa(w,K,Y);if(g(K))return sa(w,ia(K),Y);if(null===K||K===Ya)return sa(w,0,Y);if(l(K))return sa(w,ia(K),Y);if(ua(K))return sa(w,K.getTime(),Y)}else if(l(w)){if(l(K))return sa(da(w),da(K),Y);if(ua(K))return sa(ia(w),K.getTime(),Y);if(X(K))return sa(ia(w),K,Y);if(null===K||K===Ya)return sa(ia(w),0,Y);if(g(K))return sa(ia(w),ia(K),Y)}else if(ua(w)){if(ua(K))return sa(w,K,Y);if(null===K||K===Ya)return sa(w.getTime(),
0,Y);if(X(K))return sa(w.getTime(),K,Y);if(g(K)||l(K))return sa(w.getTime(),ia(K),Y)}else if(g(w)){if(g(K))return sa(w,K,Y);if(X(K))return sa(ia(w),ia(K),Y);if(ua(K))return sa(ia(w),K.getTime(),Y);if(null===K||K===Ya)return sa(ia(w),0,Y);if(l(K))return sa(ia(w),ia(K),Y)}return!O(w,K)||"\x3c\x3d"!==Y&&"\x3e\x3d"!==Y?!1:!0}function O(w,K){if(w===K||null===w&&K===Ya||null===K&&w===Ya)return!0;if(ua(w)&&ua(K))return w.getTime()===K.getTime();if(w instanceof y||w instanceof p)return w.equalityTest(K);
if(w instanceof m&&K instanceof m){const Y=w.cache._arcadeCacheId,oa=K.cache._arcadeCacheId;if(void 0!==Y&&null!==Y)return Y===oa}return void 0!==w&&void 0!==K&&null!==w&&null!==K&&"object"===typeof w&&"object"===typeof K&&(w._arcadeCacheId===K._arcadeCacheId&&void 0!==w._arcadeCacheId&&null!==w._arcadeCacheId||w._underlyingGraphic===K._underlyingGraphic&&void 0!==w._underlyingGraphic&&null!==w._underlyingGraphic)?!0:!1}function da(w,K){if(l(w))return w;if(null===w)return"";if(X(w))return la(w,K);
if(g(w))return w.toString();if(ua(w))return ja(w,K);if(w instanceof r)return JSON.stringify(w.toJSON());if(Z(w)){K=[];for(var Y=0;Y<w.length;Y++)K[Y]=aa(w[Y]);return"["+K.join(",")+"]"}if(w instanceof J){K=[];for(Y=0;Y<w.length();Y++)K[Y]=aa(w.get(Y));return"["+K.join(",")+"]"}return null!==w&&"object"===typeof w&&void 0!==w.castToText?w.castToText():E(w)?"object, Function":""}function W(w){const K=[];if(!1===Z(w))return null;if(w instanceof J){for(var Y=0;Y<w.length();Y++)K[Y]=ia(w.get(Y));return K}for(Y=
0;Y<w.length;Y++)K[Y]=ia(w[Y]);return K}function S(w,K){if(l(w))return w;if(null===w)return"";if(X(w))return la(w,K);if(g(w))return w.toString();if(ua(w))return ja(w,K);if(w instanceof r)return w instanceof D?'{"xmin":'+w.xmin.toString()+',"ymin":'+w.ymin.toString()+","+(w.hasZ?'"zmin":'+w.zmin.toString()+",":"")+(w.hasM?'"mmin":'+w.mmin.toString()+",":"")+'"xmax":'+w.xmax.toString()+',"ymax":'+w.ymax.toString()+","+(w.hasZ?'"zmax":'+w.zmax.toString()+",":"")+(w.hasM?'"mmax":'+w.mmax.toString()+",":
"")+'"spatialReference":'+N(w.spatialReference)+"}":N(w.toJSON(),(oa,ma)=>oa.key===ma.key?0:"spatialReference"===oa.key?1:"spatialReference"===ma.key||oa.key<ma.key?-1:oa.key>ma.key?1:0);if(Z(w)){K=[];for(var Y=0;Y<w.length;Y++)K[Y]=aa(w[Y]);return"["+K.join(",")+"]"}if(w instanceof J){K=[];for(Y=0;Y<w.length();Y++)K[Y]=aa(w.get(Y));return"["+K.join(",")+"]"}return null!==w&&"object"===typeof w&&void 0!==w.castToText?w.castToText():E(w)?"object, Function":""}function aa(w){return null===w?"null":
g(w)||X(w)||l(w)?JSON.stringify(w):w instanceof r||w instanceof J||w instanceof Array?S(w):w instanceof Date?JSON.stringify(ja(w,"")):null!==w&&"object"===typeof w&&void 0!==w.castToText?w.castToText():"null"}function ia(w,K){return X(w)?w:null===w||""===w?0:ua(w)?NaN:g(w)?w?1:0:Z(w)||""===w||void 0===w?NaN:void 0!==K&&l(w)?(K=L(K,"\u2030",""),K=L(K,"\u00a4",""),n.parse(w,{pattern:K})):w===Ya?0:Number(w)}function wa(w){return ua(w)?w:l(w)&&(w=G(w))?w.toJSDate():null}function xa(w){return ua(w)?e.DateTime.fromJSDate(w):
l(w)?G(w):null}function G(w){const K=/ (\d\d)/;let Y=e.DateTime.fromISO(w);return Y.isValid||K.test(w)&&(w=w.replace(K,"T$1"),Y=e.DateTime.fromISO(w),Y.isValid)?Y:null}function H(w){return g(w)?w:l(w)?(w=w.toLowerCase(),"true"===w?!0:!1):X(w)?0===w||isNaN(w)?!1:!0:!1}function P(w,K){if(h.isNone(w))return null;if(null===w.spatialReference||void 0===w.spatialReference)w.spatialReference=K;return w}function T(w){if(null===w)return null;if(w instanceof m)return"NaN"===w.x||null===w.x||isNaN(w.x)?null:
w;if(w instanceof q){if(0===w.rings.length)return null;for(const K of w.rings)if(0<K.length)return w;return null}if(w instanceof b){if(0===w.paths.length)return null;for(const K of w.paths)if(0<K.length)return w;return null}return w instanceof d?0===w.points.length?null:w:w instanceof D?"NaN"===w.xmin||null===w.xmin||isNaN(w.xmin)?null:w:null}function ba(w,K){if(!w||!w.domain)return K;let Y=null;if("string"===w.field.type||"esriFieldTypeString"===w.field.type)K=da(K);else{if(null===K||void 0===K)return null;
if(""===K)return K;K=ia(K)}for(let oa=0;oa<w.domain.codedValues.length;oa++){const ma=w.domain.codedValues[oa];ma.code===K&&(Y=ma)}return null===Y?K:Y.name}function za(w,K){if(!w||!w.domain)return K;let Y=null;K=da(K);for(let oa=0;oa<w.domain.codedValues.length;oa++){const ma=w.domain.codedValues[oa];ma.name===K&&(Y=ma)}return null===Y?K:Y.code}function t(w,K,Y=null,oa=null){if(!K||!K.fields)return null;let ma=null;for(let Za=0;Za<K.fields.length;Za++){const Wa=K.fields[Za];Wa.name.toLowerCase()===
w.toString().toLowerCase()&&(ma=Wa)}if(null===ma)throw Error("Field not found");let Ia,Pa;null===oa&&Y&&K.typeIdField&&(oa=Y.hasField(K.typeIdField)?Y.field(K.typeIdField):null);null!==oa&&void 0!==oa&&K.types.some(function(Za){return Za.id===oa?((Ia=Za.domains&&Za.domains[ma.name])&&"inherited"===Ia.type&&(Ia=v(ma.name,K),Pa=!0),!0):!1});Pa||Ia||(Ia=v(w,K));return{field:ma,domain:Ia}}function v(w,K){let Y;K.fields.some(function(oa){oa.name.toLowerCase()===w.toLowerCase()&&(Y=oa.domain);return!!Y});
return Y}function N(w,K){K||(K={});"function"===typeof K&&(K={cmp:K});const Y="boolean"===typeof K.cycles?K.cycles:!1,oa=K.cmp&&function(Ia){return function(Pa){return function(Za,Wa){return Ia({key:Za,value:Pa[Za]},{key:Wa,value:Pa[Wa]})}}}(K.cmp),ma=[];return function Za(Pa){Pa&&Pa.toJSON&&"function"===typeof Pa.toJSON&&(Pa=Pa.toJSON());if(void 0!==Pa){if("number"===typeof Pa)return isFinite(Pa)?""+Pa:"null";if("object"!==typeof Pa)return JSON.stringify(Pa);var Wa;if(Array.isArray(Pa)){var cb="[";
for(Wa=0;Wa<Pa.length;Wa++)Wa&&(cb+=","),cb+=Za(Pa[Wa])||"null";return cb+"]"}if(null===Pa)return"null";if(-1!==ma.indexOf(Pa)){if(Y)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");}var Cb=ma.push(Pa)-1,vb=Object.keys(Pa).sort(oa&&oa(Pa));cb="";for(Wa=0;Wa<vb.length;Wa++){const gb=vb[Wa],eb=Za(Pa[gb]);eb&&(cb&&(cb+=","),cb+=JSON.stringify(gb)+":"+eb)}ma.splice(Cb,1);return"{"+cb+"}"}}(w)}function Q(w){if(null===w)return null;const K=[];for(const Y of w)Y&&
Y.arcadeDeclaredClass&&"esri.arcade.Feature"===Y.arcadeDeclaredClass?K.push(Y.geometry()):K.push(Y);return K}function U(w,K){if(K instanceof m)w.push(K.hasZ?K.hasM?[K.x,K.y,K.z,K.m]:[K.x,K.y,K.z]:[K.x,K.y]);else throw Error("Invalid Argument");}function ta(w,K){if(Z(w)||Oa(w)){let Y=!1,oa=!1,ma=[];if(Z(w)){for(const Ia of w)U(ma,Ia);0<ma.length&&(K=w[0].spatialReference,Y=w[0].hasZ,oa=w[0].hasM)}else if(w instanceof p)ma=w._elements,0<ma.length&&(Y=w._hasZ,oa=w._hasM,K=w.get(0).spatialReference);
else if(Oa(w)){for(const Ia of w.toArray())U(ma,Ia);0<ma.length&&(K=w.get(0).spatialReference,Y=!0===w.get(0).hasZ,oa=!0===w.get(0).hasM)}else throw Error("Invalid Argument");if(0===ma.length)return null;!1===x.isClockwise(ma,oa,Y)&&(ma=ma.slice(0).reverse());return new q({rings:[ma],spatialReference:K,hasZ:Y,hasM:oa})}return w}function Aa(w,K){if(Z(w)||Oa(w)){let Y=!1,oa=!1,ma=[];if(Z(w)){for(const Ia of w)U(ma,Ia);0<ma.length&&(K=w[0].spatialReference,Y=!0===w[0].hasZ,oa=!0===w[0].hasM)}else if(w instanceof
p)ma=w._elements,0<ma.length&&(Y=w._hasZ,oa=w._hasM,K=w.get(0).spatialReference);else if(Oa(w)){for(const Ia of w.toArray())U(ma,Ia);0<ma.length&&(K=w.get(0).spatialReference,Y=!0===w.get(0).hasZ,oa=!0===w.get(0).hasM)}return 0===ma.length?null:new b({paths:[ma],spatialReference:K,hasZ:Y,hasM:oa})}return w}function ya(w,K){if(Z(w)||Oa(w)){let Y=!1,oa=!1,ma=[];if(Z(w)){for(const Ia of w)U(ma,Ia);0<ma.length&&(K=w[0].spatialReference,Y=!0===w[0].hasZ,oa=!0===w[0].hasM)}else if(w instanceof p)ma=w._elements,
0<ma.length&&(Y=w._hasZ,oa=w._hasM,K=w.get(0).spatialReference);else if(Oa(w)){for(const Ia of w.toArray())U(ma,Ia);0<ma.length&&(K=w.get(0).spatialReference,Y=!0===w.get(0).hasZ,oa=!0===w.get(0).hasM)}return 0===ma.length?null:new d({points:ma,spatialReference:K,hasZ:Y,hasM:oa})}return w}function Da(w,K=!1){const Y=[];if(null===w)return Y;if(!0===Z(w)){for(var oa=0;oa<w.length;oa++){var ma=da(w[oa]);""===ma&&!0!==K||Y.push(ma)}return Y}if(w instanceof J){for(oa=0;oa<w.length();oa++)ma=da(w.get(oa)),
""===ma&&!0!==K||Y.push(ma);return Y}return c(w)?(w=da(w),""===w&&!0!==K||Y.push(w),Y):[]}function Ea(w){lb++;return 0===lb%100?(lb=0,B.create(K=>{setTimeout(()=>{K(w)},0)})):w}function ha(w,K,Y){switch(Y){case "\x26":return w&K;case "|":return w|K;case "^":return w^K;case "\x3c\x3c":return w<<K;case "\x3e\x3e":return w>>K;case "\x3e\x3e\x3e":return w>>>K}}function Ta(w,K=null){if(null!=w){if(g(w)||X(w)||l(w))return w;if(w instanceof r)return!0===(null==K?void 0:K.keepGeometryType)?w:w.toJSON();if(w instanceof
J)return w.toArray().map(Y=>Ta(Y,K));if(w instanceof Array)return w.map(Y=>Ta(Y,K));if(w instanceof Date)return w;if(null!==w&&"object"===typeof w&&void 0!==w.castAsJson)return w.castAsJson(K)}return null}function ub(w,K,Y,oa,ma){return jb(w,K,Y).then(Ia=>{ma[oa]=Ia})}function jb(w,K=null,Y=null){w instanceof J&&(w=w.toArray());if(null!=w){if(c(w)||w instanceof r||w instanceof Date)return B.resolve(Ta(w,Y));if(w instanceof Array){const oa=[],ma=[];for(const Ia of w)null===Ia||c(Ia)||Ia instanceof
r||Ia instanceof Date?ma.push(Ta(Ia,Y)):(ma.push(null),oa.push(ub(Ia,K,Y,ma.length-1,ma)));return 0<oa.length?B.all(oa).then(()=>ma):B.resolve(ma)}if(null!==w&&"object"===typeof w&&void 0!==w.castAsJsonAsync)return w.castAsJsonAsync(K,Y)}return B.resolve(null)}function pb(w,K,Y){const oa=w.fullSchema();return null!==oa&&oa.fields?t(K,oa,w,Y):null}function qb(w){w=w.fullSchema();return null!==w&&w.fields?w.typeIdField?{subtypeField:w.typeIdField,subtypes:w.types?w.types.map(K=>({name:K.name,code:K.id})):
[]}:null:null}function rb(w,K,Y,oa){const ma=w.fullSchema();if(null===ma||!ma.fields)return null;oa=t(K,ma,w,oa);if(void 0===Y)try{Y=w.field(K)}catch(Ia){return null}return ba(oa,Y)}function ra(w,K,Y,oa){const ma=w.fullSchema();if(null===ma||!ma.fields)return null;if(void 0===Y){try{Y=w.field(K)}catch(Ia){return null}return Y}w=t(K,ma,w,oa);return za(w,Y)}function Ca(w){w=w.fullSchema();if(null===w||!w.fields)return null;const K=[];for(const Y of w.fields)K.push(F.esriFieldToJson(Y));return{objectIdField:w.objectIdField,
globalIdField:w.globalIdField,geometryType:void 0===F.layerGeometryEsriRestConstants[w.geometryType]?"":F.layerGeometryEsriRestConstants[w.geometryType],fields:K}}let Ha=function(w){this.value=w},Ba=function(w){this.value=w},Ua=function(w){this.fn=w},kb=function(w,K){this.paramCount=K;this.fn=w};const sb=Ua,wb=kb,Ya={type:"VOID"},xb={type:"BREAK"},mb={type:"CONTINUE"};let lb=0;const nb=Object.freeze({__proto__:null,ReturnResultE:Ha,ImplicitResultE:Ba,NativeFunctionE:Ua,SizzleFunctionE:kb,NativeFunction:sb,
ImplicitResult:Ba,ReturnResult:Ha,SizzleFunction:wb,voidOperation:Ya,breakResult:xb,continueResult:mb,multiReplace:L,isFunctionParameter:E,isSimpleType:c,defaultUndefined:f,isString:l,isBoolean:g,isNumber:X,isInteger:ea,isArray:Z,isFeature:pa,isFeatureSet:Sa,isFeatureSetCollection:Xa,isImmutableArray:Oa,isDate:ua,pcCheck:V,absRound:ca,generateUUID:na,formatNumber:la,formatDate:ja,standardiseDateFormat:qa,greaterThanLessThan:Na,equalityTest:O,toString:da,toNumberArray:W,toStringExplicit:S,toNumber:ia,
toDate:wa,toDateTime:xa,toBoolean:H,fixSpatialReference:P,fixNullGeometry:T,getDomainValue:ba,getDomainCode:za,getDomain:t,stableStringify:N,autoCastFeatureToGeometry:Q,autoCastArrayOfPointsToPolygon:ta,autoCastArrayOfPointsToPolyline:Aa,autoCastArrayOfPointsToMultiPoint:ya,toStringArray:Da,tick:Ea,binaryOperator:ha,castAsJson:Ta,castAsJsonAsync:jb,featureFullDomain:pb,featureSubtypes:qb,featureDomainValueLookup:rb,featureDomainCodeLookup:ra,featureSchema:Ca});C.ImplicitResult=Ba;C.ImplicitResultE=
Ba;C.NativeFunction=sb;C.NativeFunctionE=Ua;C.ReturnResult=Ha;C.ReturnResultE=Ha;C.SizzleFunction=wb;C.SizzleFunctionE=kb;C.absRound=ca;C.autoCastArrayOfPointsToMultiPoint=ya;C.autoCastArrayOfPointsToPolygon=ta;C.autoCastArrayOfPointsToPolyline=Aa;C.autoCastFeatureToGeometry=Q;C.binaryOperator=ha;C.breakResult=xb;C.castAsJson=Ta;C.castAsJsonAsync=jb;C.continueResult=mb;C.defaultUndefined=f;C.equalityTest=O;C.featureDomainCodeLookup=ra;C.featureDomainValueLookup=rb;C.featureFullDomain=pb;C.featureSchema=
Ca;C.featureSubtypes=qb;C.fixNullGeometry=T;C.fixSpatialReference=P;C.formatDate=ja;C.formatNumber=la;C.generateUUID=na;C.getDomain=t;C.getDomainCode=za;C.getDomainValue=ba;C.greaterThanLessThan=Na;C.isArray=Z;C.isBoolean=g;C.isDate=ua;C.isFeature=pa;C.isFeatureSet=Sa;C.isFeatureSetCollection=Xa;C.isFunctionParameter=E;C.isImmutableArray=Oa;C.isInteger=ea;C.isNumber=X;C.isSimpleType=c;C.isString=l;C.lc=nb;C.multiReplace=L;C.pcCheck=V;C.stableStringify=N;C.standardiseDateFormat=qa;C.tick=Ea;C.toBoolean=
H;C.toDate=wa;C.toDateTime=xa;C.toNumber=ia;C.toNumberArray=W;C.toString=da;C.toStringArray=Da;C.toStringExplicit=S;C.voidOperation=Ya})},"esri/arcade/FunctionWrapper":function(){define(function(){return function(C,z){this.context=this.definition=null;this.definition=C;this.context=z}})},"esri/arcade/ImmutablePathArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","./ImmutablePointArray"],function(C,z,J){return function(y){function p(D,r,d,m,q){D=y.call(this,D)||this;
D._lazyPath=[];D._hasZ=!1;D._hasM=!1;D._hasZ=d;D._hasM=m;D._spRef=r;D._cacheId=q;return D}C._inheritsLoose(p,y);var B=p.prototype;B.get=function(D){if(void 0===this._lazyPath[D]){const r=this._elements[D];if(void 0===r)return;this._lazyPath[D]=new J(r,this._spRef,this._hasZ,this._hasM,this._cacheId,D)}return this._lazyPath[D]};B.equalityTest=function(D){return D===this?!0:null===D||!1===D instanceof p?!1:D.getUniqueHash()===this.getUniqueHash()};B.getUniqueHash=function(){return this._cacheId.toString()};
return p}(z)})},"esri/arcade/ImmutablePointArray":function(){define(["../chunks/_rollupPluginBabelHelpers","./ImmutableArray","../geometry/Point"],function(C,z,J){return function(y){function p(D,r,d,m,q,b){D=y.call(this,D)||this;D._lazyPt=[];D._hasZ=!1;D._hasM=!1;D._spRef=r;D._hasZ=d;D._hasM=m;D._cacheId=q;D._partId=b;return D}C._inheritsLoose(p,y);var B=p.prototype;B.get=function(D){if(void 0===this._lazyPt[D]){const r=this._elements[D];if(void 0===r)return;const d=this._hasZ,m=this._hasM;let q=
null;q=d&&!m?new J(r[0],r[1],r[2],void 0,this._spRef):m&&!d?new J(r[0],r[1],void 0,r[2],this._spRef):d&&m?new J(r[0],r[1],r[2],r[3],this._spRef):new J(r[0],r[1],this._spRef);q.cache._arcadeCacheId=this._cacheId.toString()+"-"+this._partId.toString()+"-"+D.toString();this._lazyPt[D]=q}return this._lazyPt[D]};B.equalityTest=function(D){return D===this?!0:null===D||!1===D instanceof p?!1:D.getUniqueHash()===this.getUniqueHash()};B.getUniqueHash=function(){return this._cacheId.toString()+"-"+this._partId.toString()};
return p}(z)})},"esri/chunks/datetime":function(){define(["exports"],function(C){function z(a){return"undefined"===typeof a}function J(a){return"number"===typeof a}function y(a){return"number"===typeof a&&0===a%1}function p(){try{return"undefined"!==typeof Intl&&!!Intl.RelativeTimeFormat}catch(a){return!1}}function B(a,k,A){if(0!==a.length)return a.reduce((I,M)=>{M=[k(M),M];return I?A(I[0],M[0])===I[0]?I:M:M},null)[1]}function D(a,k){return k.reduce((A,I)=>{A[I]=a[I];return A},{})}function r(a,k){return Object.prototype.hasOwnProperty.call(a,
k)}function d(a,k,A){return y(a)&&a>=k&&a<=A}function m(a,k=2){return 0>a?"-"+(""+-a).padStart(k,"0"):(""+a).padStart(k,"0")}function q(a){if(!z(a)&&null!==a&&""!==a)return parseInt(a,10)}function b(a){if(!z(a)&&null!==a&&""!==a)return parseFloat(a)}function e(a){if(!z(a)&&null!==a&&""!==a)return a=1E3*parseFloat("0."+a),Math.floor(a)}function h(a,k,A=!1){k=10**k;return(A?Math.trunc:Math.round)(a*k)/k}function n(a){return 0===a%4&&(0!==a%100||0===a%400)}function x(a,k){var A=k-1;A=A-12*Math.floor(A/
12)+1;return 2===A?n(a+(k-A)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][A-1]}function u(a){let k=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);100>a.year&&0<=a.year&&(k=new Date(k),k.setUTCFullYear(k.getUTCFullYear()-1900));return+k}function F(a){var k=a-1;k=(k+Math.floor(k/4)-Math.floor(k/100)+Math.floor(k/400))%7;return 4===(a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400))%7||3===k?53:52}function L(a){return 99<a?a:60<a?1900+a:2E3+a}function E(a,k,A,I=null){a=
new Date(a);const M={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};I&&(M.timeZone=I);return(k=(new Intl.DateTimeFormat(A,{timeZoneName:k,...M})).formatToParts(a).find(R=>"timezonename"===R.type.toLowerCase()))?k.value:null}function c(a,k){a=parseInt(a,10);Number.isNaN(a)&&(a=0);k=parseInt(k,10)||0;k=0>a||Object.is(a,-0)?-k:k;return 60*a+k}function f(a){const k=Number(a);if("boolean"===typeof a||""===a||Number.isNaN(k))throw new bb(`Invalid unit value ${a}`);
return k}function l(a,k){const A={};for(const I in a)if(r(a,I)){const M=a[I];void 0!==M&&null!==M&&(A[k(I)]=f(M))}return A}function g(a,k){const A=Math.trunc(Math.abs(a/60)),I=Math.trunc(Math.abs(a%60));a=0<=a?"+":"-";switch(k){case "short":return`${a}${m(A,2)}:${m(I,2)}`;case "narrow":return`${a}${A}${0<I?`:${I}`:""}`;case "techie":return`${a}${m(A,2)}${m(I,2)}`;default:throw new RangeError(`Value format ${k} is out of range for property format`);}}function X(a){return D(a,["hour","minute","second",
"millisecond"])}function ea(a){switch(a){case "narrow":return[...Gc];case "short":return[...Tb];case "long":return[...Hc];case "numeric":return"1 2 3 4 5 6 7 8 9 10 11 12".split(" ");case "2-digit":return"01 02 03 04 05 06 07 08 09 10 11 12".split(" ");default:return null}}function Z(a){switch(a){case "narrow":return[...Ic];case "short":return[...Ub];case "long":return[...Vb];case "numeric":return"1234567".split("");default:return null}}function pa(a){switch(a){case "narrow":return[...Jc];case "short":return[...Kc];
case "long":return[...Lc];default:return null}}function Sa(a,k,A="always",I=!1){const M={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]};var R=-1===["hours","minutes","seconds"].indexOf(a);if("auto"===A&&R)switch(A="days"===a,k){case 1:return A?"tomorrow":`next ${M[a][0]}`;case -1:return A?"yesterday":`last ${M[a][0]}`;case 0:return A?"today":`this ${M[a][0]}`}A=
Object.is(k,-0)||0>k;k=Math.abs(k);R=1===k;const fa=M[a];a=I?R?fa[1]:fa[2]||fa[1]:R?M[a][0]:a;return A?`${k} ${a} ago`:`in ${k} ${a}`}function Xa(a,k){let A="";for(const I of a)A=I.literal?A+I.val:A+k(I.val);return A}function Oa(a,k){if(z(a)||null===a)return k;if(a instanceof yb)return a;if("string"===typeof a){const A=a.toLowerCase();return"local"===A||"system"===A?k:"utc"===A||"gmt"===A?$a.utcInstance:$a.parseSpecifier(A)||hb.create(a)}return J(a)?$a.instance(a):"object"===typeof a&&a.offset&&"number"===
typeof a.offset?a:new Mc(a)}function ua(a,k={}){const A=JSON.stringify([a,k]);let I=Wb[A];I||(I=new Intl.ListFormat(a,k),Wb[A]=I);return I}function V(a,k={}){const A=JSON.stringify([a,k]);let I=Gb[A];I||(I=new Intl.DateTimeFormat(a,k),Gb[A]=I);return I}function ca(a,k={}){const A=JSON.stringify([a,k]);let I=Hb[A];I||(I=new Intl.NumberFormat(a,k),Hb[A]=I);return I}function na(a,k={}){const {base:A,...I}=k,M=JSON.stringify([a,I]);let R=Ib[M];R||(R=new Intl.RelativeTimeFormat(a,k),Ib[M]=R);return R}
function la(a){const k=[];for(let A=1;12>=A;A++){const I=Ga.utc(2016,A,1);k.push(a(I))}return k}function ja(a){const k=[];for(let A=1;7>=A;A++){const I=Ga.utc(2016,11,13+A);k.push(a(I))}return k}function qa(a,k,A,I,M){a=a.listingMode(A);return"error"===a?null:"en"===a?I(k):M(k)}function sa(...a){a=a.reduce((k,A)=>k+A.source,"");return RegExp(`^${a}$`)}function Na(...a){return k=>a.reduce(([A,I,M],R)=>{const [fa,ka,va]=R(k,M);return[{...A,...fa},I||ka,va]},[{},null,1]).slice(0,2)}function O(a,...k){if(null==
a)return[null,null];for(const [A,I]of k)if(k=A.exec(a))return I(k);return[null,null]}function da(...a){return(k,A)=>{const I={};let M;for(M=0;M<a.length;M++)I[a[M]]=q(k[A+M]);return[I,null,A+M]}}function W(a,k,A){a=a[k];return z(a)?A:q(a)}function S(a,k){return[{year:W(a,k),month:W(a,k+1,1),day:W(a,k+2,1)},null,k+3]}function aa(a,k){return[{hours:W(a,k,0),minutes:W(a,k+1,0),seconds:W(a,k+2,0),milliseconds:e(a[k+3])},null,k+4]}function ia(a,k){const A=!a[k]&&!a[k+1];a=c(a[k+1],a[k+2]);return[{},A?
null:$a.instance(a),k+3]}function wa(a,k){return[{},a[k]?hb.create(a[k]):null,k+1]}function xa(a){const [k,A,I,M,R,fa,ka,va,La]=a,Fa="-"===k[0];a=va&&"-"===va[0];const Ja=(Ma,fb=!1)=>void 0!==Ma&&(fb||Ma&&Fa)?-Ma:Ma;return[{years:Ja(b(A)),months:Ja(b(I)),weeks:Ja(b(M)),days:Ja(b(R)),hours:Ja(b(fa)),minutes:Ja(b(ka)),seconds:Ja(b(va),"-0"===va),milliseconds:Ja(e(La),a)}]}function G(a,k,A,I,M,R,fa){k={year:2===k.length?L(q(k)):q(k),month:Tb.indexOf(A)+1,day:q(I),hour:q(M),minute:q(R)};fa&&(k.second=
q(fa));a&&(k.weekday=3<a.length?Vb.indexOf(a)+1:Ub.indexOf(a)+1);return k}function H(a){const [,k,A,I,M,R,fa,ka,va,La,Fa,Ja]=a;a=G(k,M,I,A,R,fa,ka);let Ma;Ma=va?Nc[va]:La?0:c(Fa,Ja);return[a,new $a(Ma)]}function P(a){const [,k,A,I,M,R,fa,ka]=a;return[G(k,M,I,A,R,fa,ka),$a.utcInstance]}function T(a){const [,k,A,I,M,R,fa,ka]=a;return[G(k,ka,A,I,M,R,fa),$a.utcInstance]}function ba(a,k,A=!1){a={values:A?k.values:{...a.values,...k.values||{}},loc:a.loc.clone(k.loc),conversionAccuracy:k.conversionAccuracy||
a.conversionAccuracy};return new Ka(a)}function za(a,k,A,I,M){a=a[M][A];var R=k[A]/a;R=Math.sign(R)!==Math.sign(I[M])&&0!==I[M]&&1>=Math.abs(R)?0>R?Math.floor(R):Math.ceil(R):Math.trunc(R);I[M]+=R;k[A]-=R*a}function t(a,k){Oc.reduce((A,I)=>{if(z(k[I]))return A;A&&za(a,k,A,k,I);return I},null)}function v(a,k){a=k.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()-a.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf();return Math.floor(Ka.fromMillis(a).as("days"))}function N(a,k,A){var I=[["years",
(ka,va)=>va.year-ka.year],["quarters",(ka,va)=>va.quarter-ka.quarter],["months",(ka,va)=>va.month-ka.month+12*(va.year-ka.year)],["weeks",(ka,va)=>{ka=v(ka,va);return(ka-ka%7)/7}],["days",v]];const M={};let R,fa;for(const [ka,va]of I)0<=A.indexOf(ka)&&(R=ka,I=va(a,k),fa=a.plus({[ka]:I}),fa>k?(a=a.plus({[ka]:I-1}),--I):a=fa,M[ka]=I);return[a,M,fa,R]}function Q(a,k,A,I){let [M,R,fa,ka]=N(a,k,A);a=k-M;A=A.filter(va=>0<=["hours","minutes","seconds","milliseconds"].indexOf(va));0===A.length&&(fa<k&&(fa=
M.plus({[ka]:1})),fa!==M&&(R[ka]=(R[ka]||0)+a/(fa-M)));k=Ka.fromObject(R,I);return 0<A.length?Ka.fromMillis(a,I).shiftTo(...A).plus(k):k}function U({numberingSystem:a},k=""){return new RegExp(`${Jb[a||"latn"]}${k}`)}function ta(a,k=A=>A){return{regex:a,deser:([A])=>{{let I=parseInt(A,10);if(isNaN(I)){I="";for(let M=0;M<A.length;M++){const R=A.charCodeAt(M);if(-1!==A[M].search(Jb.hanidec))I+=Pc.indexOf(A[M]);else for(const fa in Xb){const [ka,va]=Xb[fa];R>=ka&&R<=va&&(I+=R-ka)}}A=parseInt(I,10)}else A=
I}return k(A)}}}function Aa(a){return a.replace(/\./g,"\\.?").replace(Kb,Yb)}function ya(a,k){return null===a?null:{regex:RegExp(a.map(Aa).join("|")),deser:([A])=>a.findIndex(I=>A.replace(/\./g,"").replace(Kb," ").toLowerCase()===I.replace(/\./g,"").replace(Kb," ").toLowerCase())+k}}function Da(a,k){return{regex:a,deser:([,A,I])=>c(A,I),groups:k}}function Ea(a){return{regex:a,deser:([k])=>k}}function ha(a,k){const A=U(k),I=U(k,"{2}"),M=U(k,"{3}"),R=U(k,"{4}"),fa=U(k,"{6}"),ka=U(k,"{1,2}"),va=U(k,
"{1,3}"),La=U(k,"{1,6}"),Fa=U(k,"{1,9}"),Ja=U(k,"{2,4}"),Ma=U(k,"{4,6}"),fb=zb=>({regex:RegExp(zb.val.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26")),deser:([Qc])=>Qc,literal:!0}),tb=(zb=>{if(a.literal)return fb(zb);switch(zb.val){case "G":return ya(k.eras("short",!1),0);case "GG":return ya(k.eras("long",!1),0);case "y":return ta(La);case "yy":return ta(Ja,L);case "yyyy":return ta(R);case "yyyyy":return ta(Ma);case "yyyyyy":return ta(fa);case "M":return ta(ka);case "MM":return ta(I);case "MMM":return ya(k.months("short",
!0,!1),1);case "MMMM":return ya(k.months("long",!0,!1),1);case "L":return ta(ka);case "LL":return ta(I);case "LLL":return ya(k.months("short",!1,!1),1);case "LLLL":return ya(k.months("long",!1,!1),1);case "d":return ta(ka);case "dd":return ta(I);case "o":return ta(va);case "ooo":return ta(M);case "HH":return ta(I);case "H":return ta(ka);case "hh":return ta(I);case "h":return ta(ka);case "mm":return ta(I);case "m":return ta(ka);case "q":return ta(ka);case "qq":return ta(I);case "s":return ta(ka);case "ss":return ta(I);
case "S":return ta(va);case "SSS":return ta(M);case "u":return Ea(Fa);case "uu":return Ea(ka);case "uuu":return ta(A);case "a":return ya(k.meridiems(),0);case "kkkk":return ta(R);case "kk":return ta(Ja,L);case "W":return ta(ka);case "WW":return ta(I);case "E":case "c":return ta(A);case "EEE":return ya(k.weekdays("short",!1,!1),1);case "EEEE":return ya(k.weekdays("long",!1,!1),1);case "ccc":return ya(k.weekdays("short",!0,!1),1);case "cccc":return ya(k.weekdays("long",!0,!1),1);case "Z":case "ZZ":return Da(new RegExp(`([+-]${ka.source})(?::(${I.source}))?`),
2);case "ZZZ":return Da(new RegExp(`([+-]${ka.source})(${I.source})?`),2);case "z":return Ea(/[a-z_+-/]{1,256}?/i);default:return fb(zb)}})(a)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};tb.token=a;return tb}function Ta(a){return[`^${a.map(k=>k.regex).reduce((k,A)=>`${k}(${A.source})`,"")}$`,a]}function ub(a,k,A){if(a=a.match(k)){k={};let I=1;for(const M in A)if(r(A,M)){const R=A[M],fa=R.groups?R.groups+1:1;!R.literal&&R.token&&(k[R.token.val[0]]=R.deser(a.slice(I,I+fa)));
I+=fa}return[a,k]}return[a,{}]}function jb(a){const k=M=>{switch(M){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":case "H":return"hour";case "d":return"day";case "o":return"ordinal";case "L":case "M":return"month";case "y":return"year";case "E":case "c":return"weekday";case "W":return"weekNumber";case "k":return"weekYear";case "q":return"quarter";default:return null}};let A=null,I;z(a.z)||(A=hb.create(a.z));z(a.Z)||(A||(A=new $a(a.Z)),I=a.Z);z(a.q)||(a.M=3*
(a.q-1)+1);z(a.h)||(12>a.h&&1===a.a?a.h+=12:12===a.h&&0===a.a&&(a.h=0));0===a.G&&a.y&&(a.y=-a.y);z(a.u)||(a.S=e(a.u));return[Object.keys(a).reduce((M,R)=>{const fa=k(R);fa&&(M[fa]=a[R]);return M},{}),A,I]}function pb(){Lb||(Lb=Ga.fromMillis(1555555555555));return Lb}function qb(a,k){if(a.literal)return a;const A=ab.macroTokenToFormatOpts(a.val);if(!A)return a;k=ab.create(k,A).formatDateTimeParts(pb()).map(I=>{{const {type:R,value:fa}=I;if("literal"===R)I={literal:!0,val:fa};else{I=A[R];var M=Rc[R];
"object"===typeof M&&(M=M[I]);I=M?{literal:!1,val:M}:void 0}}return I});return k.includes(void 0)?a:k}function rb(a,k){return Array.prototype.concat(...a.map(A=>qb(A,k)))}function ra(a,k,A){A=rb(ab.parseFormat(A),a);var I=A.map(R=>ha(R,a));const M=I.find(R=>R.invalidReason);if(M)return{input:k,tokens:A,invalidReason:M.invalidReason};{const [R,fa]=Ta(I);I=RegExp(R,"i");const [ka,va]=ub(k,I,fa),[La,Fa,Ja]=va?jb(va):[null,null,void 0];if(r(va,"a")&&r(va,"H"))throw new Ab("Can't include meridiem when specifying 24-hour format");
return{input:k,tokens:A,regex:I,rawMatches:ka,matches:va,result:La,zone:Fa,specificOffset:Ja}}}function Ca(a,k){return new db("unit out of range",`you specified ${k} (of type ${typeof k}) as a ${a}, which is invalid`)}function Ha(a,k,A){a=(new Date(Date.UTC(a,k-1,A))).getUTCDay();return 0===a?7:a}function Ba(a,k){a=n(a)?Mb:Nb;const A=a.findIndex(I=>I<k);return{month:A+1,day:k-a[A]}}function Ua(a){const {year:k,month:A,day:I}=a;var M=I+(n(k)?Mb:Nb)[A-1];const R=Ha(k,A,I);M=Math.floor((M-R+10)/7);let fa;
1>M?(fa=k-1,M=F(fa)):M>F(k)?(fa=k+1,M=1):fa=k;return{weekYear:fa,weekNumber:M,weekday:R,...X(a)}}function kb(a){const {weekYear:k,weekNumber:A,weekday:I}=a;var M=Ha(k,1,4),R=n(k)?366:365;M=7*A+I-M-3;1>M?(R=k-1,M+=n(R)?366:365):M>R?(R=k+1,M-=n(k)?366:365):R=k;const {month:fa,day:ka}=Ba(R,M);return{year:R,month:fa,day:ka,...X(a)}}function sb(a){const {year:k,month:A,day:I}=a;var M=I+(n(k)?Mb:Nb)[A-1];return{year:k,ordinal:M,...X(a)}}function wb(a){const {year:k,ordinal:A}=a,{month:I,day:M}=Ba(k,A);
return{year:k,month:I,day:M,...X(a)}}function Ya(a){const k=y(a.year),A=d(a.month,1,12),I=d(a.day,1,x(a.year,a.month));return k?A?I?!1:Ca("day",a.day):Ca("month",a.month):Ca("year",a.year)}function xb(a){const {hour:k,minute:A,second:I,millisecond:M}=a;a=d(k,0,23)||24===k&&0===A&&0===I&&0===M;const R=d(A,0,59),fa=d(I,0,59),ka=d(M,0,999);return a?R?fa?ka?!1:Ca("millisecond",M):Ca("second",I):Ca("minute",A):Ca("hour",k)}function mb(a){return new db("unsupported zone",`the zone "${a.name}" is not supported`)}
function lb(a){null===a.weekData&&(a.weekData=Ua(a.c));return a.weekData}function nb(a,k){a={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new Ga({...a,...k,old:a})}function w(a,k,A){let I=a-6E4*k;const M=A.offset(I);if(k===M)return[I,k];I-=6E4*(M-k);k=A.offset(I);return M===k?[I,M]:[a-6E4*Math.min(M,k),Math.max(M,k)]}function K(a,k){a=new Date(a+6E4*k);return{year:a.getUTCFullYear(),month:a.getUTCMonth()+1,day:a.getUTCDate(),hour:a.getUTCHours(),minute:a.getUTCMinutes(),second:a.getUTCSeconds(),
millisecond:a.getUTCMilliseconds()}}function Y(a,k,A){return w(u(a),k,A)}function oa(a,k){const A=a.o;var I=a.c.year+Math.trunc(k.years);const M=a.c.month+Math.trunc(k.months)+3*Math.trunc(k.quarters);I={...a.c,year:I,month:M,day:Math.min(a.c.day,x(I,M))+Math.trunc(k.days)+7*Math.trunc(k.weeks)};k=Ka.fromObject({years:k.years-Math.trunc(k.years),quarters:k.quarters-Math.trunc(k.quarters),months:k.months-Math.trunc(k.months),weeks:k.weeks-Math.trunc(k.weeks),days:k.days-Math.trunc(k.days),hours:k.hours,
minutes:k.minutes,seconds:k.seconds,milliseconds:k.milliseconds}).as("milliseconds");I=u(I);let [R,fa]=w(I,A,a.zone);0!==k&&(R+=k,fa=a.zone.offset(R));return{ts:R,o:fa}}function ma(a,k,A,I,M,R){const {setZone:fa,zone:ka}=A;return a&&0!==Object.keys(a).length?(a=Ga.fromObject(a,{...A,zone:k||ka,specificOffset:R}),fa?a:a.setZone(ka)):Ga.invalid(new db("unparsable",`the input "${M}" can't be parsed as ${I}`))}function Ia(a,k,A=!0){return a.isValid?ab.create(Qa.create("en-US"),{allowZ:A,forceSimple:!0}).formatDateTimeFromString(a,
k):null}function Pa(a,k){const A=9999<a.c.year||0>a.c.year;let I="";A&&0<=a.c.year&&(I+="+");I+=m(a.c.year,A?6:4);k?(I=I+"-"+m(a.c.month),I=I+"-"+m(a.c.day)):(I+=m(a.c.month),I+=m(a.c.day));return I}function Za(a,k,A,I,M){let R=m(a.c.hour);k?(R=R+":"+m(a.c.minute),0===a.c.second&&A||(R+=":")):R+=m(a.c.minute);0===a.c.second&&A||(R+=m(a.c.second),0===a.c.millisecond&&I||(R=R+"."+m(a.c.millisecond,3)));M&&(a.isOffsetFixed&&0===a.offset?R+="Z":0>a.o?(R=R+"-"+m(Math.trunc(-a.o/60)),R=R+":"+m(Math.trunc(-a.o%
60))):(R=R+"+"+m(Math.trunc(a.o/60)),R=R+":"+m(Math.trunc(a.o%60))));return R}function Wa(a){const k={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",
ordinal:"ordinal"}[a.toLowerCase()];if(!k)throw new Zb(a);return k}function cb(a,k){const A=Oa(k.zone,Va.defaultZone);k=Qa.fromObject(k);const I=Va.now();var M;if(z(a.year))a=I;else{for(const R of $b)z(a[R])&&(a[R]=ac[R]);if(M=Ya(a)||xb(a))return Ga.invalid(M);M=A.offset(I);[a,M]=Y(a,M,A)}return new Ga({ts:a,zone:A,loc:k,o:M})}function Cb(a,k,A){const I=z(A.round)?!0:A.round,M=(fa,ka)=>{fa=h(fa,I||A.calendary?0:2,!0);return k.loc.clone(A).relFormatter(A).format(fa,ka)},R=fa=>A.calendary?k.hasSame(a,
fa)?0:k.startOf(fa).diff(a.startOf(fa),fa).get(fa):k.diff(a,fa).get(fa);if(A.unit)return M(R(A.unit),A.unit);for(const fa of A.units){const ka=R(fa);if(1<=Math.abs(ka))return M(ka,fa)}return M(a>k?-0:0,A.units[A.units.length-1])}function vb(a){let k={};0<a.length&&"object"===typeof a[a.length-1]?(k=a[a.length-1],a=Array.from(a).slice(0,a.length-1)):a=Array.from(a);return[k,a]}function gb(a){if(Ga.isDateTime(a))return a;if(a&&a.valueOf&&J(a.valueOf()))return Ga.fromJSDate(a);if(a&&"object"===typeof a)return Ga.fromObject(a);
throw new bb(`Unknown datetime argument: ${a}, of type ${typeof a}`);}class eb extends Error{}class Sc extends eb{constructor(a){super(`Invalid DateTime: ${a.toMessage()}`)}}class Tc extends eb{constructor(a){super(`Invalid Interval: ${a.toMessage()}`)}}class Uc extends eb{constructor(a){super(`Invalid Duration: ${a.toMessage()}`)}}class Ab extends eb{}class Zb extends eb{constructor(a){super(`Invalid unit ${a}`)}}class bb extends eb{}class ib extends eb{constructor(){super("Zone is an abstract class")}}
const Ob={year:"numeric",month:"numeric",day:"numeric"},bc={year:"numeric",month:"short",day:"numeric"},Vc={year:"numeric",month:"short",day:"numeric",weekday:"short"},cc={year:"numeric",month:"long",day:"numeric"},dc={year:"numeric",month:"long",day:"numeric",weekday:"long"},ec={hour:"numeric",minute:"numeric"},fc={hour:"numeric",minute:"numeric",second:"numeric"},gc={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},hc={hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},
ic={hour:"numeric",minute:"numeric",hourCycle:"h23"},jc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23"},kc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"short"},lc={hour:"numeric",minute:"numeric",second:"numeric",hourCycle:"h23",timeZoneName:"long"},mc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},nc={year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},oc={year:"numeric",
month:"short",day:"numeric",hour:"numeric",minute:"numeric"},pc={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},Wc={year:"numeric",month:"short",day:"numeric",weekday:"short",hour:"numeric",minute:"numeric"},qc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",timeZoneName:"short"},rc={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},sc={year:"numeric",month:"long",
day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",timeZoneName:"long"},tc={year:"numeric",month:"long",day:"numeric",weekday:"long",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"long"},Hc="January February March April May June July August September October November December".split(" "),Tb="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Gc="JFMAMJJASOND".split(""),Vb="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Ub="Mon Tue Wed Thu Fri Sat Sun".split(" "),
Ic="MTWTFSS".split(""),uc=["AM","PM"],Lc=["Before Christ","Anno Domini"],Kc=["BC","AD"],Jc=["B","A"],Xc={D:Ob,DD:bc,DDD:cc,DDDD:dc,t:ec,tt:fc,ttt:gc,tttt:hc,T:ic,TT:jc,TTT:kc,TTTT:lc,f:mc,ff:oc,fff:qc,ffff:sc,F:nc,FF:pc,FFF:rc,FFFF:tc};class ab{static create(a,k={}){return new ab(a,k)}static parseFormat(a){let k=null,A="",I=!1;const M=[];for(let R=0;R<a.length;R++){const fa=a.charAt(R);"'"===fa?(0<A.length&&M.push({literal:I,val:A}),k=null,A="",I=!I):I?A+=fa:fa===k?A+=fa:(0<A.length&&M.push({literal:!1,
val:A}),k=A=fa)}0<A.length&&M.push({literal:I,val:A});return M}static macroTokenToFormatOpts(a){return Xc[a]}constructor(a,k){this.opts=k;this.loc=a;this.systemLoc=null}formatWithSystemDefault(a,k){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(a,{...this.opts,...k}).format()}formatDateTime(a,k={}){return this.loc.dtFormatter(a,{...this.opts,...k}).format()}formatDateTimeParts(a,k={}){return this.loc.dtFormatter(a,{...this.opts,...k}).formatToParts()}resolvedOptions(a,
k={}){return this.loc.dtFormatter(a,{...this.opts,...k}).resolvedOptions()}num(a,k=0){if(this.opts.forceSimple)return m(a,k);const A={...this.opts};0<k&&(A.padTo=k);return this.loc.numberFormatter(A).format(a)}formatDateTimeFromString(a,k){const A="en"===this.loc.listingMode(),I=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,M=(Fa,Ja)=>this.loc.extract(a,Fa,Ja),R=Fa=>a.isOffsetFixed&&0===a.offset&&Fa.allowZ?"Z":a.isValid?a.zone.formatOffset(a.ts,Fa.format):"",fa=(Fa,Ja)=>A?ea(Fa)[a.month-
1]:M(Ja?{month:Fa}:{month:Fa,day:"numeric"},"month"),ka=(Fa,Ja)=>A?Z(Fa)[a.weekday-1]:M(Ja?{weekday:Fa}:{weekday:Fa,month:"long",day:"numeric"},"weekday"),va=Fa=>{const Ja=ab.macroTokenToFormatOpts(Fa);return Ja?this.formatWithSystemDefault(a,Ja):Fa},La=Fa=>A?pa(Fa)[0>a.year?0:1]:M({era:Fa},"era");return Xa(ab.parseFormat(k),Fa=>{switch(Fa){case "S":return this.num(a.millisecond);case "u":case "SSS":return this.num(a.millisecond,3);case "s":return this.num(a.second);case "ss":return this.num(a.second,
2);case "uu":return this.num(Math.floor(a.millisecond/10),2);case "uuu":return this.num(Math.floor(a.millisecond/100));case "m":return this.num(a.minute);case "mm":return this.num(a.minute,2);case "h":return this.num(0===a.hour%12?12:a.hour%12);case "hh":return this.num(0===a.hour%12?12:a.hour%12,2);case "H":return this.num(a.hour);case "HH":return this.num(a.hour,2);case "Z":return R({format:"narrow",allowZ:this.opts.allowZ});case "ZZ":return R({format:"short",allowZ:this.opts.allowZ});case "ZZZ":return R({format:"techie",
allowZ:this.opts.allowZ});case "ZZZZ":return a.zone.offsetName(a.ts,{format:"short",locale:this.loc.locale});case "ZZZZZ":return a.zone.offsetName(a.ts,{format:"long",locale:this.loc.locale});case "z":return a.zoneName;case "a":return A?uc[12>a.hour?0:1]:M({hour:"numeric",hourCycle:"h12"},"dayperiod");case "d":return I?M({day:"numeric"},"day"):this.num(a.day);case "dd":return I?M({day:"2-digit"},"day"):this.num(a.day,2);case "c":return this.num(a.weekday);case "ccc":return ka("short",!0);case "cccc":return ka("long",
!0);case "ccccc":return ka("narrow",!0);case "E":return this.num(a.weekday);case "EEE":return ka("short",!1);case "EEEE":return ka("long",!1);case "EEEEE":return ka("narrow",!1);case "L":return I?M({month:"numeric",day:"numeric"},"month"):this.num(a.month);case "LL":return I?M({month:"2-digit",day:"numeric"},"month"):this.num(a.month,2);case "LLL":return fa("short",!0);case "LLLL":return fa("long",!0);case "LLLLL":return fa("narrow",!0);case "M":return I?M({month:"numeric"},"month"):this.num(a.month);
case "MM":return I?M({month:"2-digit"},"month"):this.num(a.month,2);case "MMM":return fa("short",!1);case "MMMM":return fa("long",!1);case "MMMMM":return fa("narrow",!1);case "y":return I?M({year:"numeric"},"year"):this.num(a.year);case "yy":return I?M({year:"2-digit"},"year"):this.num(a.year.toString().slice(-2),2);case "yyyy":return I?M({year:"numeric"},"year"):this.num(a.year,4);case "yyyyyy":return I?M({year:"numeric"},"year"):this.num(a.year,6);case "G":return La("short");case "GG":return La("long");
case "GGGGG":return La("narrow");case "kk":return this.num(a.weekYear.toString().slice(-2),2);case "kkkk":return this.num(a.weekYear,4);case "W":return this.num(a.weekNumber);case "WW":return this.num(a.weekNumber,2);case "o":return this.num(a.ordinal);case "ooo":return this.num(a.ordinal,3);case "q":return this.num(a.quarter);case "qq":return this.num(a.quarter,2);case "X":return this.num(Math.floor(a.ts/1E3));case "x":return this.num(a.ts);default:return va(Fa)}})}formatDurationFromString(a,k){const A=
M=>{switch(M[0]){case "S":return"millisecond";case "s":return"second";case "m":return"minute";case "h":return"hour";case "d":return"day";case "M":return"month";case "y":return"year";default:return null}};k=ab.parseFormat(k);const I=k.reduce((M,{literal:R,val:fa})=>R?M:M.concat(fa),[]);a=a.shiftTo(...I.map(A).filter(M=>M));return Xa(k,(M=>R=>{const fa=A(R);return fa?this.num(M.get(fa),R.length):R})(a))}}class db{constructor(a,k){this.reason=a;this.explanation=k}toMessage(){return this.explanation?
`${this.reason}: ${this.explanation}`:this.reason}}class yb{get type(){throw new ib;}get name(){throw new ib;}get isUniversal(){throw new ib;}offsetName(a,k){throw new ib;}formatOffset(a,k){throw new ib;}offset(a){throw new ib;}equals(a){throw new ib;}get isValid(){throw new ib;}}let Pb=null;class vc extends yb{static get instance(){null===Pb&&(Pb=new vc);return Pb}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(a,
{format:k,locale:A}){return E(a,k,A)}formatOffset(a,k){return g(this.offset(a),k)}offset(a){return-(new Date(a)).getTimezoneOffset()}equals(a){return"system"===a.type}get isValid(){return!0}}let Db={};const Yc={year:0,month:1,day:2,hour:3,minute:4,second:5};let Eb={};class hb extends yb{static create(a){Eb[a]||(Eb[a]=new hb(a));return Eb[a]}static resetCache(){Eb={};Db={}}static isValidSpecifier(a){return this.isValidZone(a)}static isValidZone(a){if(!a)return!1;try{return(new Intl.DateTimeFormat("en-US",
{timeZone:a})).format(),!0}catch(k){return!1}}constructor(a){super();this.zoneName=a;this.valid=hb.isValidZone(a)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(a,{format:k,locale:A}){return E(a,k,A,this.name)}formatOffset(a,k){return g(this.offset(a),k)}offset(a){a=new Date(a);if(isNaN(a))return NaN;var k=this.name;Db[k]||(Db[k]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:k,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",
second:"2-digit"}));k=Db[k];if(k.formatToParts){k=k.formatToParts(a);var A=[];for(let La=0;La<k.length;La++){const {type:Fa,value:Ja}=k[La],Ma=Yc[Fa];z(Ma)||(A[Ma]=parseInt(Ja,10))}k=A}else{{k=k.format(a).replace(/\u200E/g,"");k=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(k);const [,La,Fa,Ja,Ma,fb,tb]=k;k=[Ja,La,Fa,Ma,fb,tb]}}const [I,M,R,fa,ka,va]=k;k=u({year:I,month:M,day:R,hour:24===fa?0:fa,minute:ka,second:va,millisecond:0});a=+a;A=a%1E3;return(k-(a-(0<=A?A:1E3+A)))/6E4}equals(a){return"iana"===
a.type&&a.name===this.name}get isValid(){return this.valid}}let Qb=null;class $a extends yb{static get utcInstance(){null===Qb&&(Qb=new $a(0));return Qb}static instance(a){return 0===a?$a.utcInstance:new $a(a)}static parseSpecifier(a){return a&&(a=a.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i))?new $a(c(a[1],a[2])):null}constructor(a){super();this.fixed=a}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${g(this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(a,k){return g(this.fixed,
k)}get isUniversal(){return!0}offset(){return this.fixed}equals(a){return"fixed"===a.type&&a.fixed===this.fixed}get isValid(){return!0}}class Mc extends yb{constructor(a){super();this.zoneName=a}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}let wc=()=>Date.now(),xc="system",yc=null,zc=null,Ac=null,Bc;class Va{static get now(){return wc}static set now(a){wc=
a}static set defaultZone(a){xc=a}static get defaultZone(){return Oa(xc,vc.instance)}static get defaultLocale(){return yc}static set defaultLocale(a){yc=a}static get defaultNumberingSystem(){return zc}static set defaultNumberingSystem(a){zc=a}static get defaultOutputCalendar(){return Ac}static set defaultOutputCalendar(a){Ac=a}static get throwOnInvalid(){return Bc}static set throwOnInvalid(a){Bc=a}static resetCaches(){Qa.resetCache();hb.resetCache()}}let Wb={},Gb={},Hb={},Ib={},Fb=null;class Zc{constructor(a,
k,A){this.padTo=A.padTo||0;this.floor=A.floor||!1;const {padTo:I,floor:M,...R}=A;if(!k||0<Object.keys(R).length)k={useGrouping:!1,...A},0<A.padTo&&(k.minimumIntegerDigits=A.padTo),this.inf=ca(a,k)}format(a){if(this.inf)return this.inf.format(this.floor?Math.floor(a):a);a=this.floor?Math.floor(a):h(a,3);return m(a,this.padTo)}}class $c{constructor(a,k,A){this.opts=A;if(a.zone.isUniversal){var I=a.offset/60*-1;I=0<=I?`Etc/GMT+${I}`:`Etc/GMT${I}`;0!==a.offset&&hb.create(I).valid?this.dt=a:(I="UTC",this.dt=
A.timeZoneName?a:0===a.offset?a:Ga.fromMillis(a.ts+6E4*a.offset))}else"system"===a.zone.type?this.dt=a:(this.dt=a,I=a.zone.name);a={...this.opts};I&&(a.timeZone=I);this.dtf=V(k,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class ad{constructor(a,k,A){this.opts={style:"long",...A};!k&&p()&&(this.rtf=na(a,A))}format(a,k){return this.rtf?this.rtf.format(a,k):Sa(k,a,this.opts.numeric,
"long"!==this.opts.style)}formatToParts(a,k){return this.rtf?this.rtf.formatToParts(a,k):[]}}class Qa{static fromOpts(a){return Qa.create(a.locale,a.numberingSystem,a.outputCalendar,a.defaultToEN)}static create(a,k,A,I=!1){a=a||Va.defaultLocale;var M;(M=a)||(I?I="en-US":(Fb||(Fb=(new Intl.DateTimeFormat).resolvedOptions().locale),I=Fb),M=I);return new Qa(M,k||Va.defaultNumberingSystem,A||Va.defaultOutputCalendar,a)}static resetCache(){Fb=null;Gb={};Hb={};Ib={}}static fromObject({locale:a,numberingSystem:k,
outputCalendar:A}={}){return Qa.create(a,k,A)}constructor(a,k,A,I){var M=a.indexOf("-u-");if(-1===M)a=[a];else{let va;M=a.substring(0,M);try{va=V(a).resolvedOptions()}catch(Ja){va=V(M).resolvedOptions()}const {numberingSystem:La,calendar:Fa}=va;a=[M,La,Fa]}const [R,fa,ka]=a;this.locale=R;this.numberingSystem=k||fa||null;this.outputCalendar=A||ka||null;k=this.locale;A=this.numberingSystem;if((a=this.outputCalendar)||A)k+="-u",a&&(k+=`-ca-${a}`),A&&(k+=`-nu-${A}`);this.intl=k;this.weekdaysCache={format:{},
standalone:{}};this.monthsCache={format:{},standalone:{}};this.meridiemCache=null;this.eraCache={};this.specifiedLocale=I;this.fastNumbersCached=null}get fastNumbers(){if(null==this.fastNumbersCached){var a=this.numberingSystem&&"latn"!==this.numberingSystem?!1:"latn"===this.numberingSystem||!this.locale||this.locale.startsWith("en")||"latn"===(new Intl.DateTimeFormat(this.intl)).resolvedOptions().numberingSystem;this.fastNumbersCached=a}return this.fastNumbersCached}listingMode(){const a=this.isEnglish(),
k=(null===this.numberingSystem||"latn"===this.numberingSystem)&&(null===this.outputCalendar||"gregory"===this.outputCalendar);return a&&k?"en":"intl"}clone(a){return a&&0!==Object.getOwnPropertyNames(a).length?Qa.create(a.locale||this.specifiedLocale,a.numberingSystem||this.numberingSystem,a.outputCalendar||this.outputCalendar,a.defaultToEN||!1):this}redefaultToEN(a={}){return this.clone({...a,defaultToEN:!0})}redefaultToSystem(a={}){return this.clone({...a,defaultToEN:!1})}months(a,k=!1,A=!0){return qa(this,
a,A,ea,()=>{const I=k?{month:a,day:"numeric"}:{month:a},M=k?"format":"standalone";this.monthsCache[M][a]||(this.monthsCache[M][a]=la(R=>this.extract(R,I,"month")));return this.monthsCache[M][a]})}weekdays(a,k=!1,A=!0){return qa(this,a,A,Z,()=>{const I=k?{weekday:a,year:"numeric",month:"long",day:"numeric"}:{weekday:a},M=k?"format":"standalone";this.weekdaysCache[M][a]||(this.weekdaysCache[M][a]=ja(R=>this.extract(R,I,"weekday")));return this.weekdaysCache[M][a]})}meridiems(a=!0){return qa(this,void 0,
a,()=>uc,()=>{if(!this.meridiemCache){const k={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Ga.utc(2016,11,13,9),Ga.utc(2016,11,13,19)].map(A=>this.extract(A,k,"dayperiod"))}return this.meridiemCache})}eras(a,k=!0){return qa(this,a,k,pa,()=>{const A={era:a};this.eraCache[a]||(this.eraCache[a]=[Ga.utc(-40,1,1),Ga.utc(2017,1,1)].map(I=>this.extract(I,A,"era")));return this.eraCache[a]})}extract(a,k,A){return(a=this.dtFormatter(a,k).formatToParts().find(I=>I.type.toLowerCase()===A))?a.value:null}numberFormatter(a=
{}){return new Zc(this.intl,a.forceSimple||this.fastNumbers,a)}dtFormatter(a,k={}){return new $c(a,this.intl,k)}relFormatter(a={}){return new ad(this.intl,this.isEnglish(),a)}listFormatter(a={}){return ua(this.intl,a)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||(new Intl.DateTimeFormat(this.intl)).resolvedOptions().locale.startsWith("en-us")}equals(a){return this.locale===a.locale&&this.numberingSystem===a.numberingSystem&&this.outputCalendar===a.outputCalendar}}const Cc=
/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Rb=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Dc=RegExp(`${Rb.source}${Cc.source}?`),Sb=RegExp(`(?:T${Dc.source})?`),bd=da("weekYear","weekNumber","weekDay"),cd=da("year","ordinal"),Ec=RegExp(`${Rb.source} ?(?:${Cc.source}|(${/[A-Za-z_+-]{1,256}(:?\/[A-Za-z0-9_+-]{1,256}(\/[A-Za-z0-9_+-]{1,256})?)?/.source}))?`),dd=RegExp(`(?: ${Ec.source})?`),ed=RegExp(`^T?${Rb.source}$`),fd=/^-?P(?:(?:(-?\d{1,9}(?:\.\d{1,9})?)Y)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,9}(?:\.\d{1,9})?)W)?(?:(-?\d{1,9}(?:\.\d{1,9})?)D)?(?:T(?:(-?\d{1,9}(?:\.\d{1,9})?)H)?(?:(-?\d{1,9}(?:\.\d{1,9})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,9}))?S)?)?)$/,
Nc={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480},gd=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/,hd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,id=/^(Monday|Tuesday|Wedsday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,
jd=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/,kd=sa(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Sb),ld=sa(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Sb),md=sa(/(\d{4})-?(\d{3})/,Sb),nd=sa(Dc),od=Na(S,aa,ia),pd=Na(bd,aa,ia),qd=Na(cd,aa,ia),rd=Na(aa,ia),sd=Na(aa),td=sa(/(\d{4})-(\d\d)-(\d\d)/,dd),ud=sa(Ec),vd=Na(S,aa,ia,wa),wd=Na(aa,ia,wa),Fc={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048E5},days:{hours:24,
minutes:1440,seconds:86400,milliseconds:864E5},hours:{minutes:60,seconds:3600,milliseconds:36E5},minutes:{seconds:60,milliseconds:6E4},seconds:{milliseconds:1E3}},xd={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536E3,milliseconds:31536E6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624E5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592E3,milliseconds:2592E6},...Fc},yd={years:{quarters:4,months:12,weeks:52.1775,
days:365.2425,hours:8765.82,minutes:525949.2,seconds:31556952,milliseconds:31556952E3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:7889238,milliseconds:7889238E3},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746E3},...Fc},ob="years quarters months weeks days hours minutes seconds milliseconds".split(" "),Oc=ob.slice(0).reverse();class Ka{constructor(a){const k="longterm"===a.conversionAccuracy||
!1;this.values=a.values;this.loc=a.loc||Qa.create();this.conversionAccuracy=k?"longterm":"casual";this.invalid=a.invalid||null;this.matrix=k?yd:xd;this.isLuxonDuration=!0}static fromMillis(a,k){return Ka.fromObject({milliseconds:a},k)}static fromObject(a,k={}){if(null==a||"object"!==typeof a)throw new bb(`Duration.fromObject: argument expected to be an object, got ${null===a?"null":typeof a}`);return new Ka({values:l(a,Ka.normalizeUnit),loc:Qa.fromObject(k),conversionAccuracy:k.conversionAccuracy})}static fromDurationLike(a){if(J(a))return Ka.fromMillis(a);
if(Ka.isDuration(a))return a;if("object"===typeof a)return Ka.fromObject(a);throw new bb(`Unknown duration argument ${a} of type ${typeof a}`);}static fromISO(a,k){const [A]=O(a,[fd,xa]);return A?Ka.fromObject(A,k):Ka.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static fromISOTime(a,k){const [A]=O(a,[ed,sd]);return A?Ka.fromObject(A,k):Ka.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static invalid(a,k=null){if(!a)throw new bb("need to specify a reason the Duration is invalid");
a=a instanceof db?a:new db(a,k);if(Va.throwOnInvalid)throw new Uc(a);return new Ka({invalid:a})}static normalizeUnit(a){const k={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[a?a.toLowerCase():a];if(!k)throw new Zb(a);return k}static isDuration(a){return a&&
a.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(a,k={}){k={...k,floor:!1!==k.round&&!1!==k.floor};return this.isValid?ab.create(this.loc,k).formatDurationFromString(this,a):"Invalid Duration"}toHuman(a={}){const k=ob.map(A=>{const I=this.values[A];return z(I)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...a,unit:A.slice(0,-1)}).format(I)}).filter(A=>A);return this.loc.listFormatter({type:"conjunction",
style:a.listStyle||"narrow",...a}).format(k)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let a="P";0!==this.years&&(a+=this.years+"Y");if(0!==this.months||0!==this.quarters)a+=this.months+3*this.quarters+"M";0!==this.weeks&&(a+=this.weeks+"W");0!==this.days&&(a+=this.days+"D");if(0!==this.hours||0!==this.minutes||0!==this.seconds||0!==this.milliseconds)a+="T";0!==this.hours&&(a+=this.hours+"H");0!==this.minutes&&(a+=this.minutes+"M");if(0!==this.seconds||
0!==this.milliseconds)a+=h(this.seconds+this.milliseconds/1E3,3)+"S";"P"===a&&(a+="T0S");return a}toISOTime(a={}){if(!this.isValid)return null;var k=this.toMillis();if(0>k||864E5<=k)return null;a={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...a};k=this.shiftTo("hours","minutes","seconds","milliseconds");let A="basic"===a.format?"hhmm":"hh:mm";a.suppressSeconds&&0===k.seconds&&0===k.milliseconds||(A+="basic"===a.format?"ss":":ss",a.suppressMilliseconds&&0===k.milliseconds||
(A+=".SSS"));k=k.toFormat(A);a.includePrefix&&(k="T"+k);return k}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(a){if(!this.isValid)return this;a=Ka.fromDurationLike(a);const k={};for(const A of ob)if(r(a.values,A)||r(this.values,A))k[A]=a.get(A)+this.get(A);return ba(this,{values:k},!0)}minus(a){if(!this.isValid)return this;a=Ka.fromDurationLike(a);return this.plus(a.negate())}mapUnits(a){if(!this.isValid)return this;
const k={};for(const A of Object.keys(this.values))k[A]=f(a(this.values[A],A));return ba(this,{values:k},!0)}get(a){return this[Ka.normalizeUnit(a)]}set(a){if(!this.isValid)return this;a={...this.values,...l(a,Ka.normalizeUnit)};return ba(this,{values:a})}reconfigure({locale:a,numberingSystem:k,conversionAccuracy:A}={}){a={loc:this.loc.clone({locale:a,numberingSystem:k})};A&&(a.conversionAccuracy=A);return ba(this,a)}as(a){return this.isValid?this.shiftTo(a).get(a):NaN}normalize(){if(!this.isValid)return this;
const a=this.toObject();t(this.matrix,a);return ba(this,{values:a},!0)}shiftTo(...a){if(!this.isValid||0===a.length)return this;a=a.map(R=>Ka.normalizeUnit(R));const k={},A={},I=this.toObject();let M;for(const R of ob)if(0<=a.indexOf(R)){M=R;let fa=0;for(const va in A)fa+=this.matrix[va][R]*A[va],A[va]=0;J(I[R])&&(fa+=I[R]);const ka=Math.trunc(fa);k[R]=ka;A[R]=(1E3*fa-1E3*ka)/1E3;for(const va in I)ob.indexOf(va)>ob.indexOf(R)&&za(this.matrix,I,va,k,R)}else J(I[R])&&(A[R]=I[R]);for(const R in A)0!==
A[R]&&(k[M]+=R===M?A[R]:A[R]/this.matrix[M][R]);return ba(this,{values:k},!0).normalize()}negate(){if(!this.isValid)return this;const a={};for(const k of Object.keys(this.values))a[k]=0===this.values[k]?0:-this.values[k];return ba(this,{values:a},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?
this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(a){if(!this.isValid||!a.isValid||!this.loc.equals(a.loc))return!1;
for(const I of ob){var k=this.values[I];var A=a.values[I];k=void 0===k||0===k?void 0===A||0===A:k===A;if(!k)return!1}return!0}}class Ra{constructor(a){this.s=a.start;this.e=a.end;this.invalid=a.invalid||null;this.isLuxonInterval=!0}static invalid(a,k=null){if(!a)throw new bb("need to specify a reason the Interval is invalid");a=a instanceof db?a:new db(a,k);if(Va.throwOnInvalid)throw new Tc(a);return new Ra({invalid:a})}static fromDateTimes(a,k){a=gb(a);k=gb(k);var A=a&&a.isValid?k&&k.isValid?k<a?
Ra.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${k.toISO()}`):null:Ra.invalid("missing or invalid end"):Ra.invalid("missing or invalid start");return null==A?new Ra({start:a,end:k}):A}static after(a,k){k=Ka.fromDurationLike(k);a=gb(a);return Ra.fromDateTimes(a,a.plus(k))}static before(a,k){k=Ka.fromDurationLike(k);a=gb(a);return Ra.fromDateTimes(a.minus(k),a)}static fromISO(a,k){const [A,I]=(a||"").split("/",2);if(A&&I){let fa;
try{var M=Ga.fromISO(A,k);fa=M.isValid}catch(va){fa=!1}let ka;try{var R=Ga.fromISO(I,k);ka=R.isValid}catch(va){ka=!1}if(fa&&ka)return Ra.fromDateTimes(M,R);if(fa){if(R=Ka.fromISO(I,k),R.isValid)return Ra.after(M,R)}else if(ka&&(M=Ka.fromISO(A,k),M.isValid))return Ra.before(R,M)}return Ra.invalid("unparsable",`the input "${a}" can't be parsed as ISO 8601`)}static isInterval(a){return a&&a.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===
this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(a="milliseconds"){return this.isValid?this.toDuration(...[a]).get(a):NaN}count(a="milliseconds"){if(!this.isValid)return NaN;const k=this.start.startOf(a),A=this.end.startOf(a);return Math.floor(A.diff(k,a).get(a))+1}hasSame(a){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,a):!1}isEmpty(){return this.s.valueOf()===
this.e.valueOf()}isAfter(a){return this.isValid?this.s>a:!1}isBefore(a){return this.isValid?this.e<=a:!1}contains(a){return this.isValid?this.s<=a&&this.e>a:!1}set({start:a,end:k}={}){return this.isValid?Ra.fromDateTimes(a||this.s,k||this.e):this}splitAt(...a){if(!this.isValid)return[];a=a.map(gb).filter(R=>this.contains(R)).sort();const k=[];let {s:A}=this,I=0;for(;A<this.e;){var M=a[I]||this.e;M=+M>+this.e?this.e:M;k.push(Ra.fromDateTimes(A,M));A=M;I+=1}return k}splitBy(a){a=Ka.fromDurationLike(a);
if(!this.isValid||!a.isValid||0===a.as("milliseconds"))return[];let {s:k}=this,A=1;const I=[];for(;k<this.e;){var M=this.start.plus(a.mapUnits(R=>R*A));M=+M>+this.e?this.e:M;I.push(Ra.fromDateTimes(k,M));k=M;A+=1}return I}divideEqually(a){return this.isValid?this.splitBy(this.length()/a).slice(0,a):[]}overlaps(a){return this.e>a.s&&this.s<a.e}abutsStart(a){return this.isValid?+this.e===+a.s:!1}abutsEnd(a){return this.isValid?+a.e===+this.s:!1}engulfs(a){return this.isValid?this.s<=a.s&&this.e>=a.e:
!1}equals(a){return this.isValid&&a.isValid?this.s.equals(a.s)&&this.e.equals(a.e):!1}intersection(a){if(!this.isValid)return this;const k=this.s>a.s?this.s:a.s;a=this.e<a.e?this.e:a.e;return k>=a?null:Ra.fromDateTimes(k,a)}union(a){return this.isValid?Ra.fromDateTimes(this.s<a.s?this.s:a.s,this.e>a.e?this.e:a.e):this}static merge(a){const [k,A]=a.sort((I,M)=>I.s-M.s).reduce(([I,M],R)=>M?M.overlaps(R)||M.abutsStart(R)?[I,M.union(R)]:[I.concat([M]),R]:[I,R],[[],null]);A&&k.push(A);return k}static xor(a){let k=
null,A=0;const I=[];a=a.map(M=>[{time:M.s,type:"s"},{time:M.e,type:"e"}]);a=Array.prototype.concat(...a).sort((M,R)=>M.time-R.time);for(const M of a)A+="s"===M.type?1:-1,1===A?k=M.time:(k&&+k!==+M.time&&I.push(Ra.fromDateTimes(k,M.time)),k=null);return Ra.merge(I)}difference(...a){return Ra.xor([this].concat(a)).map(k=>this.intersection(k)).filter(k=>k&&!k.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:"Invalid Interval"}toISO(a){return this.isValid?`${this.s.toISO(a)}/${this.e.toISO(a)}`:
"Invalid Interval"}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:"Invalid Interval"}toISOTime(a){return this.isValid?`${this.s.toISOTime(a)}/${this.e.toISOTime(a)}`:"Invalid Interval"}toFormat(a,{separator:k=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(a)}${k}${this.e.toFormat(a)}`:"Invalid Interval"}toDuration(a,k){return this.isValid?this.e.diff(this.s,a,k):Ka.invalid(this.invalidReason)}mapEndpoints(a){return Ra.fromDateTimes(a(this.s),a(this.e))}}class Bb{static hasDST(a=
Va.defaultZone){const k=Ga.now().setZone(a).set({month:12});return!a.isUniversal&&k.offset!==k.set({month:6}).offset}static isValidIANAZone(a){return hb.isValidZone(a)}static normalizeZone(a){return Oa(a,Va.defaultZone)}static months(a="long",{locale:k=null,numberingSystem:A=null,locObj:I=null,outputCalendar:M="gregory"}={}){return(I||Qa.create(k,A,M)).months(a)}static monthsFormat(a="long",{locale:k=null,numberingSystem:A=null,locObj:I=null,outputCalendar:M="gregory"}={}){return(I||Qa.create(k,A,
M)).months(a,!0)}static weekdays(a="long",{locale:k=null,numberingSystem:A=null,locObj:I=null}={}){return(I||Qa.create(k,A,null)).weekdays(a)}static weekdaysFormat(a="long",{locale:k=null,numberingSystem:A=null,locObj:I=null}={}){return(I||Qa.create(k,A,null)).weekdays(a,!0)}static meridiems({locale:a=null}={}){return Qa.create(a).meridiems()}static eras(a="short",{locale:k=null}={}){return Qa.create(k,null,"gregory").eras(a)}static features(){return{relative:p()}}}const Jb={arab:"[\u0660-\u0669]",
arabext:"[\u06f0-\u06f9]",bali:"[\u1b50-\u1b59]",beng:"[\u09e6-\u09ef]",deva:"[\u0966-\u096f]",fullwide:"[\uff10-\uff19]",gujr:"[\u0ae6-\u0aef]",hanidec:"[\u3007|\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d]",khmr:"[\u17e0-\u17e9]",knda:"[\u0ce6-\u0cef]",laoo:"[\u0ed0-\u0ed9]",limb:"[\u1946-\u194f]",mlym:"[\u0d66-\u0d6f]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0b66-\u0b6f]",tamldec:"[\u0be6-\u0bef]",telu:"[\u0c66-\u0c6f]",thai:"[\u0e50-\u0e59]",tibt:"[\u0f20-\u0f29]",
latn:"\\d"},Xb={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Pc=Jb.hanidec.replace(/[\[|\]]/g,"").split(""),Yb=`( |${String.fromCharCode(160)})`,Kb=new RegExp(Yb,"g"),Rc={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M",
"2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"}};let Lb=null;const Nb=[0,31,59,90,120,151,181,212,243,273,304,334],Mb=[0,31,60,91,121,152,182,213,244,274,305,335],ac={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},zd={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ad={ordinal:1,hour:0,
minute:0,second:0,millisecond:0},$b="year month day hour minute second millisecond".split(" "),Bd="weekYear weekNumber weekday hour minute second millisecond".split(" "),Cd="year ordinal hour minute second millisecond".split(" ");class Ga{constructor(a){const k=a.zone||Va.defaultZone;let A=a.invalid||(Number.isNaN(a.ts)?new db("invalid input"):null)||(k.isValid?null:mb(k));this.ts=z(a.ts)?Va.now():a.ts;let I=null;var M=null;A||(a.old&&a.old.ts===this.ts&&a.old.zone.equals(k)?[I,M]=[a.old.c,a.old.o]:
(M=k.offset(this.ts),I=K(this.ts,M),I=(A=Number.isNaN(I.year)?new db("invalid input"):null)?null:I,M=A?null:M));this._zone=k;this.loc=a.loc||Qa.create();this.invalid=A;this.weekData=null;this.c=I;this.o=M;this.isLuxonDateTime=!0}static now(){return new Ga({})}static local(){const [a,k]=vb(arguments),[A,I,M,R,fa,ka,va]=k;return cb({year:A,month:I,day:M,hour:R,minute:fa,second:ka,millisecond:va},a)}static utc(){const [a,k]=vb(arguments),[A,I,M,R,fa,ka,va]=k;a.zone=$a.utcInstance;return cb({year:A,month:I,
day:M,hour:R,minute:fa,second:ka,millisecond:va},a)}static fromJSDate(a,k={}){a="[object Date]"===Object.prototype.toString.call(a)?a.valueOf():NaN;if(Number.isNaN(a))return Ga.invalid("invalid input");const A=Oa(k.zone,Va.defaultZone);return A.isValid?new Ga({ts:a,zone:A,loc:Qa.fromObject(k)}):Ga.invalid(mb(A))}static fromMillis(a,k={}){if(J(a))return-864E13>a||864E13<a?Ga.invalid("Timestamp out of range"):new Ga({ts:a,zone:Oa(k.zone,Va.defaultZone),loc:Qa.fromObject(k)});throw new bb(`fromMillis requires a numerical input, but received a ${typeof a} with value ${a}`);
}static fromSeconds(a,k={}){if(J(a))return new Ga({ts:1E3*a,zone:Oa(k.zone,Va.defaultZone),loc:Qa.fromObject(k)});throw new bb("fromSeconds requires a numerical input");}static fromObject(a,k={}){a=a||{};var A=Oa(k.zone,Va.defaultZone);if(!A.isValid)return Ga.invalid(mb(A));var I=Va.now();const M=z(k.specificOffset)?A.offset(I):k.specificOffset,R=l(a,Wa);var fa=!z(R.ordinal),ka=!z(R.year),va=!z(R.month)||!z(R.day);ka=ka||va;var La=R.weekYear||R.weekNumber;k=Qa.fromObject(k);if((ka||fa)&&La)throw new Ab("Can't mix weekYear/weekNumber units with year/month/day or ordinals");
if(va&&fa)throw new Ab("Can't mix ordinal dates with month/day");va=La||R.weekday&&!ka;let Fa=K(I,M);va?(I=Bd,La=zd,Fa=Ua(Fa)):fa?(I=Cd,La=Ad,Fa=sb(Fa)):(I=$b,La=ac);let Ja=!1;for(var Ma of I)z(R[Ma])?R[Ma]=Ja?La[Ma]:Fa[Ma]:Ja=!0;va?(Ma=y(R.weekYear),I=d(R.weekNumber,1,F(R.weekYear)),La=d(R.weekday,1,7),Ma=Ma?I?La?!1:Ca("weekday",R.weekday):Ca("week",R.week):Ca("weekYear",R.weekYear)):fa?(Ma=y(R.year),I=d(R.ordinal,1,n(R.year)?366:365),Ma=Ma?I?!1:Ca("ordinal",R.ordinal):Ca("year",R.year)):Ma=Ya(R);
if(Ma=Ma||xb(R))return Ga.invalid(Ma);fa=va?kb(R):fa?wb(R):R;const [fb,tb]=Y(fa,M,A);A=new Ga({ts:fb,zone:A,o:tb,loc:k});return R.weekday&&ka&&a.weekday!==A.weekday?Ga.invalid("mismatched weekday",`you can't specify both a weekday of ${R.weekday} and a date of ${A.toISO()}`):A}static fromISO(a,k={}){const [A,I]=O(a,[kd,od],[ld,pd],[md,qd],[nd,rd]);return ma(A,I,k,"ISO 8601",a)}static fromRFC2822(a,k={}){const [A,I]=O(a.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim(),[gd,H]);return ma(A,
I,k,"RFC 2822",a)}static fromHTTP(a,k={}){const [A,I]=O(a,[hd,P],[id,P],[jd,T]);return ma(A,I,k,"HTTP",k)}static fromFormat(a,k,A={}){if(z(a)||z(k))throw new bb("fromFormat requires an input string and a format");const {locale:I=null,numberingSystem:M=null}=A;var R=Qa.fromOpts({locale:I,numberingSystem:M,defaultToEN:!0});{const {result:Fa,zone:Ja,specificOffset:Ma,invalidReason:fb}=ra(R,a,k);R=[Fa,Ja,Ma,fb]}const [fa,ka,va,La]=R;return La?Ga.invalid(La):ma(fa,ka,A,`format ${k}`,a,va)}static fromString(a,
k,A={}){return Ga.fromFormat(a,k,A)}static fromSQL(a,k={}){const [A,I]=O(a,[td,vd],[ud,wd]);return ma(A,I,k,"SQL",a)}static invalid(a,k=null){if(!a)throw new bb("need to specify a reason the DateTime is invalid");a=a instanceof db?a:new db(a,k);if(Va.throwOnInvalid)throw new Sc(a);return new Ga({invalid:a})}static isDateTime(a){return a&&a.isLuxonDateTime||!1}get(a){return this[a]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?
this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:
NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?lb(this).weekYear:NaN}get weekNumber(){return this.isValid?lb(this).weekNumber:NaN}get weekday(){return this.isValid?lb(this).weekday:NaN}get ordinal(){return this.isValid?sb(this.c).ordinal:NaN}get monthShort(){return this.isValid?Bb.months("short",{locObj:this.loc})[this.month-
1]:null}get monthLong(){return this.isValid?Bb.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Bb.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Bb.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,
{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return n(this.year)}get daysInMonth(){return x(this.year,this.month)}get daysInYear(){return this.isValid?n(this.year)?366:365:NaN}get weeksInWeekYear(){return this.isValid?F(this.weekYear):NaN}resolvedLocaleOptions(a={}){const {locale:k,numberingSystem:A,
calendar:I}=ab.create(this.loc.clone(a),a).resolvedOptions(this);return{locale:k,numberingSystem:A,outputCalendar:I}}toUTC(a=0,k={}){return this.setZone($a.instance(a),k)}toLocal(){return this.setZone(Va.defaultZone)}setZone(a,{keepLocalTime:k=!1,keepCalendarTime:A=!1}={}){a=Oa(a,Va.defaultZone);if(a.equals(this.zone))return this;if(a.isValid){let I=this.ts;if(k||A)k=a.offset(this.ts),A=this.toObject(),[I]=Y(A,k,a);return nb(this,{ts:I,zone:a})}return Ga.invalid(mb(a))}reconfigure({locale:a,numberingSystem:k,
outputCalendar:A}={}){a=this.loc.clone({locale:a,numberingSystem:k,outputCalendar:A});return nb(this,{loc:a})}setLocale(a){return this.reconfigure({locale:a})}set(a){if(!this.isValid)return this;a=l(a,Wa);var k=!z(a.weekYear)||!z(a.weekNumber)||!z(a.weekday);const A=!z(a.ordinal),I=!z(a.year),M=!z(a.month)||!z(a.day),R=a.weekYear||a.weekNumber;if((I||M||A)&&R)throw new Ab("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(M&&A)throw new Ab("Can't mix ordinal dates with month/day");
k?k=kb({...Ua(this.c),...a}):z(a.ordinal)?(k={...this.toObject(),...a},z(a.day)&&(k.day=Math.min(x(k.year,k.month),k.day))):k=wb({...sb(this.c),...a});const [fa,ka]=Y(k,this.o,this.zone);return nb(this,{ts:fa,o:ka})}plus(a){if(!this.isValid)return this;a=Ka.fromDurationLike(a);return nb(this,oa(this,a))}minus(a){if(!this.isValid)return this;a=Ka.fromDurationLike(a).negate();return nb(this,oa(this,a))}startOf(a){if(!this.isValid)return this;const k={};a=Ka.normalizeUnit(a);switch(a){case "years":k.month=
1;case "quarters":case "months":k.day=1;case "weeks":case "days":k.hour=0;case "hours":k.minute=0;case "minutes":k.second=0;case "seconds":k.millisecond=0}"weeks"===a&&(k.weekday=1);"quarters"===a&&(k.month=3*(Math.ceil(this.month/3)-1)+1);return this.set(k)}endOf(a){return this.isValid?this.plus({[a]:1}).startOf(a).minus(1):this}toFormat(a,k={}){return this.isValid?ab.create(this.loc.redefaultToEN(k)).formatDateTimeFromString(this,a):"Invalid DateTime"}toLocaleString(a=Ob,k={}){return this.isValid?
ab.create(this.loc.clone(k),a).formatDateTime(this):"Invalid DateTime"}toLocaleParts(a={}){return this.isValid?ab.create(this.loc.clone(a),a).formatDateTimeParts(this):[]}toISO({format:a="extended",suppressSeconds:k=!1,suppressMilliseconds:A=!1,includeOffset:I=!0}={}){if(!this.isValid)return null;a="extended"===a;let M=Pa(this,a);return M=M+"T"+Za(this,a,k,A,I)}toISODate({format:a="extended"}={}){return this.isValid?Pa(this,"extended"===a):null}toISOWeekDate(){return Ia(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:a=
!1,suppressSeconds:k=!1,includeOffset:A=!0,includePrefix:I=!1,format:M="extended"}={}){return this.isValid?(I?"T":"")+Za(this,"extended"===M,k,a,A):null}toRFC2822(){return Ia(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Ia(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Pa(this,!0):null}toSQLTime({includeOffset:a=!0,includeZone:k=!1,includeOffsetSpace:A=!0}={}){let I="HH:mm:ss.SSS";if(k||a)A&&(I+=" "),k?I+="z":a&&(I+="ZZ");return Ia(this,I,!0)}toSQL(a={}){return this.isValid?
`${this.toSQLDate()} ${this.toSQLTime(a)}`:null}toString(){return this.isValid?this.toISO():"Invalid DateTime"}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1E3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1E3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(a={}){if(!this.isValid)return{};const k={...this.c};a.includeConfig&&(k.outputCalendar=this.outputCalendar,k.numberingSystem=this.loc.numberingSystem,
k.locale=this.loc.locale);return k}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(a,k="milliseconds",A={}){if(!this.isValid||!a.isValid)return Ka.invalid("created by diffing an invalid DateTime");A={locale:this.locale,numberingSystem:this.numberingSystem,...A};const I=(Array.isArray(k)?k:[k]).map(Ka.normalizeUnit);k=a.valueOf()>this.valueOf();a=Q(k?this:a,k?a:this,I,A);return k?a.negate():a}diffNow(a="milliseconds",k={}){return this.diff(Ga.now(),a,k)}until(a){return this.isValid?Ra.fromDateTimes(this,
a):this}hasSame(a,k){if(!this.isValid)return!1;const A=a.valueOf();a=this.setZone(a.zone,{keepLocalTime:!0});return a.startOf(k)<=A&&A<=a.endOf(k)}equals(a){return this.isValid&&a.isValid&&this.valueOf()===a.valueOf()&&this.zone.equals(a.zone)&&this.loc.equals(a.loc)}toRelative(a={}){if(!this.isValid)return null;const k=a.base||Ga.fromObject({},{zone:this.zone}),A=a.padding?this<k?-a.padding:a.padding:0;let I="years months days hours minutes seconds".split(" "),M=a.unit;Array.isArray(a.unit)&&(I=
a.unit,M=void 0);return Cb(k,this.plus(A),{...a,numeric:"always",units:I,unit:M})}toRelativeCalendar(a={}){return this.isValid?Cb(a.base||Ga.fromObject({},{zone:this.zone}),this,{...a,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...a){if(!a.every(Ga.isDateTime))throw new bb("min requires all arguments be DateTimes");return B(a,k=>k.valueOf(),Math.min)}static max(...a){if(!a.every(Ga.isDateTime))throw new bb("max requires all arguments be DateTimes");return B(a,k=>
k.valueOf(),Math.max)}static fromFormatExplain(a,k,A={}){const {locale:I=null,numberingSystem:M=null}=A;A=Qa.fromOpts({locale:I,numberingSystem:M,defaultToEN:!0});return ra(A,a,k)}static fromStringExplain(a,k,A={}){return Ga.fromFormatExplain(a,k,A)}static get DATE_SHORT(){return Ob}static get DATE_MED(){return bc}static get DATE_MED_WITH_WEEKDAY(){return Vc}static get DATE_FULL(){return cc}static get DATE_HUGE(){return dc}static get TIME_SIMPLE(){return ec}static get TIME_WITH_SECONDS(){return fc}static get TIME_WITH_SHORT_OFFSET(){return gc}static get TIME_WITH_LONG_OFFSET(){return hc}static get TIME_24_SIMPLE(){return ic}static get TIME_24_WITH_SECONDS(){return jc}static get TIME_24_WITH_SHORT_OFFSET(){return kc}static get TIME_24_WITH_LONG_OFFSET(){return lc}static get DATETIME_SHORT(){return mc}static get DATETIME_SHORT_WITH_SECONDS(){return nc}static get DATETIME_MED(){return oc}static get DATETIME_MED_WITH_SECONDS(){return pc}static get DATETIME_MED_WITH_WEEKDAY(){return Wc}static get DATETIME_FULL(){return qc}static get DATETIME_FULL_WITH_SECONDS(){return rc}static get DATETIME_HUGE(){return sc}static get DATETIME_HUGE_WITH_SECONDS(){return tc}}
C.DateTime=Ga;C.Info=Bb;C.Interval=Ra})},"esri/core/number":function(){define(["exports","./string","../intl/locale"],function(C,z,J){function y(b){b||(b=J.getLocale());let e=b in d;if(!e){const u=b.split("-");1<u.length&&u[0]in d&&(b=u[0],e=!0);e||(b="en")}const [h,n,x="#,##0.###"]=d[b];return{decimal:h,group:n,pattern:x}}function p(b,e,h){h=h||{};!0===h.places&&(h.places=0);Infinity===h.places&&(h.places=6);e=e.split(".");var n="string"===typeof h.places&&h.places.indexOf(","),x=h.places;n?x=h.places.substring(n+
1):0<=x||(x=(e[1]||[]).length);0>h.round||(b=Number(b.toFixed(Number(x))));b=String(Math.abs(b)).split(".");const u=b[1]||"";e[1]||h.places?(n&&(h.places=h.places.substring(0,n)),n=void 0!==h.places?h.places:e[1]&&e[1].lastIndexOf("0")+1,n>u.length&&(b[1]=u.padEnd(Number(n),"0")),x<u.length&&(b[1]=u.substr(0,Number(x)))):b[1]&&b.pop();x=e[0].replace(",","");n=x.indexOf("0");-1!==n&&(n=x.length-n,n>b[0].length&&(b[0]=b[0].padStart(n,"0")),-1===x.indexOf("#")&&(b[0]=b[0].substr(b[0].length-n)));x=e[0].lastIndexOf(",");
let F,L;-1!==x&&(F=e[0].length-x-1,e=e[0].substr(0,x),x=e.lastIndexOf(","),-1!==x&&(L=e.length-x-1));e=[];for(x=b[0];x;)n=x.length-F,e.push(0<n?x.substr(n):x),x=0<n?x.slice(0,n):"",L&&(F=L,L=void 0);b[0]=e.reverse().join(h.group||",");return b.join(h.decimal||".")}function B(b){b=b||{};var e=y(b.locale);const h=b.pattern||e.pattern,n=e.group,x=e.decimal;let u=1;if(-1!==h.indexOf("%"))u/=100;else if(-1!==h.indexOf("\u2030"))u/=1E3;else if(-1!==h.indexOf("\u00a4"))throw Error("currency notation not supported");
e=h.split(";");1===e.length&&e.push("-"+e[0]);return{regexp:q(e,function(F){F="(?:"+z.escapeRegExpString(F,".")+")";return F.replace(m,function(L){const E={signed:!1,separator:b.strict?n:[n,""],fractional:b.fractional,decimal:x,exponent:!1};L=L.split(".");let c=b.places;1===L.length&&1!==u&&(L[1]="###");1===L.length||0===c?E.fractional=!1:(void 0===c&&(c=b.pattern?L[1].lastIndexOf("0")+1:Infinity),c&&null==b.fractional&&(E.fractional=!0),!b.places&&c<L[1].length&&(c+=","+L[1].length),E.places=c);
L=L[0].split(",");1<L.length&&(E.groupSize=L.pop().length,1<L.length&&(E.groupSize2=L.pop().length));return"("+D(E)+")"})},!0).replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:n,decimal:x,factor:u}}function D(b){b=b||{};"places"in b||(b.places=Infinity);"string"!==typeof b.decimal&&(b.decimal=".");"fractional"in b&&!/^0/.test(String(b.places))||(b.fractional=[!0,!1]);"exponent"in b||(b.exponent=[!0,!1]);"eSigned"in b||(b.eSigned=[!0,!1]);var e=r(b);const h=q(b.fractional,function(x){let u="";x&&0!==b.places&&
(u="\\"+b.decimal,u=Infinity===b.places?"(?:"+u+"\\d+)?":u+("\\d{"+b.places+"}"));return u},!0),n=q(b.exponent,function(x){return x?"([eE]"+r({signed:b.eSigned})+")":""});e+=h;h&&(e="(?:(?:"+e+")|(?:"+h+"))");return e+n}function r(b){b=b||{};"signed"in b||(b.signed=[!0,!1]);"separator"in b?"groupSize"in b||(b.groupSize=3):b.separator="";const e=q(b.signed,function(n){return n?"[-+]":""},!0),h=q(b.separator,function(n){if(!n)return"(?:\\d+)";n=z.escapeRegExpString(n);" "===n?n="\\s":"\u00a0"===n&&
(n="\\s\\xa0");const x=b.groupSize,u=b.groupSize2;return u?(n="(?:0|[1-9]\\d{0,"+(u-1)+"}(?:["+n+"]\\d{"+u+"})*["+n+"]\\d{"+x+"})",0<x-u?"(?:"+n+"|(?:0|[1-9]\\d{0,"+(x-1)+"}))":n):"(?:0|[1-9]\\d{0,"+(x-1)+"}(?:["+n+"]\\d{"+x+"})*)"},!0);return e+h}const d={ar:[".",","],bg:[",","\u00a0"],bs:[",","."],ca:[",","."],cs:[",","\u00a0"],da:[",","."],de:[",","."],"de-ch":[".","\u2019"],el:[",","."],en:[".",","],"en-au":[".",","],es:[",","."],"es-mx":[".",","],et:[",","\u00a0"],fi:[",","\u00a0"],fr:[",","\u202f"],
"fr-ch":[",","\u202f"],he:[".",","],hi:[".",",","#,##,##0.###"],hr:[",","."],hu:[",","\u00a0"],id:[",","."],it:[",","."],"it-ch":[".","\u2019"],ja:[".",","],ko:[".",","],lt:[",","\u00a0"],lv:[",","\u00a0"],mk:[",","."],nb:[",","\u00a0"],nl:[",","."],pl:[",","\u00a0"],pt:[",","."],"pt-pt":[",","\u00a0"],ro:[",","."],ru:[",","\u00a0"],sk:[",","\u00a0"],sl:[",","."],sr:[",","."],sv:[",","\u00a0"],th:[".",","],tr:[",","."],uk:[",","\u00a0"],vi:[",","."],zh:[".",","]},m=/[#0,]*[#0](?:\.0*#*)?/,q=function(b,
e,h){if(!(b instanceof Array))return e(b);const n=[];for(let x=0;x<b.length;x++)n.push(e(b[x]));b=n.join("|");return"("+(h?"?:":"")+b+")"};C._parseInfo=B;C.format=function(b,e){e={...e};var h=y(e.locale);e.customs=h;var n=e.pattern||h.pattern;if(isNaN(b)||Infinity===Math.abs(b))return null;{e=e||{};h=e.customs.group;const u=e.customs.decimal;n=n.split(";");var x=n[0];n=n[0>b?1:0]||"-"+x;if(-1!==n.indexOf("%"))b*=100;else if(-1!==n.indexOf("\u2030"))b*=1E3;else{if(-1!==n.indexOf("\u00a4"))throw Error("currency notation not supported");
if(-1!==n.indexOf("E"))throw Error("exponential notation not supported");}const F=m;x=x.match(F);if(!x)throw Error("unable to find a number expression in pattern: "+n);!1===e.fractional&&(e.places=0);b=n.replace(F,p(b,x[0],{decimal:u,group:h,places:e.places,round:e.round}))}return b};C.getCustoms=y;C.parse=function(b,e){e=B(e);b=(new RegExp("^"+e.regexp+"$")).exec(b);if(!b)return NaN;let h=b[1];if(!b[1]){if(!b[2])return NaN;h=b[2];e.factor*=-1}h=h.replace(new RegExp("["+e.group+"\\s\\xa0]","g"),"").replace(e.decimal,
".");return Number(h)*e.factor};C.regexp=function(b){return B(b).regexp};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/featureset/support/shared":function(){define(["exports","../../../core/promiseUtils","../../../geometry/Extent","../../../layers/support/Field"],function(C,z,J,y){function p(B){return B instanceof Date}C.FeatureServiceDatabaseType=void 0;(function(B){B[B.Standardised=0]="Standardised";B[B.StandardisedNoInterval=1]="StandardisedNoInterval";B[B.SqlServer=2]="SqlServer";
B[B.Oracle=3]="Oracle";B[B.Postgres=4]="Postgres";B[B.PGDB=5]="PGDB";B[B.FILEGDB=6]="FILEGDB";B[B.NotEvaluated=7]="NotEvaluated"})(C.FeatureServiceDatabaseType||(C.FeatureServiceDatabaseType={}));C.IdState=void 0;(function(B){B[B.InFeatureSet=0]="InFeatureSet";B[B.NotInFeatureSet=1]="NotInFeatureSet";B[B.Unknown=2]="Unknown"})(C.IdState||(C.IdState={}));C.callback=function(B,D){return function(){try{B.apply(null,arguments)}catch(r){D.reject(r)}}};C.cloneAttributes=function(B){const D={};for(const r in B)D[r]=
B[r];return D};C.cloneField=function(B){return y.fromJSON(B.toJSON())};C.convertLinearUnitsToCode=function(B){if(void 0===B)return null;if("number"===typeof B||"number"===typeof B)return B;switch(B.toLowerCase()){case "meters":case "meter":return 9001;case "miles":case "mile":return 9035;case "kilometers":case "kilometer":case "km":return 9036}return null};C.convertSquareUnitsToCode=function(B){if(void 0===B)return null;if("number"===typeof B)return B;switch(B.toLowerCase()){case "meters":case "meter":return 109404;
case "miles":case "mile":return 109413;case "kilometers":case "kilometer":case "km":return 109414}return null};C.defaultMaxRecords=1E3;C.equalityTest=function(B,D){return B===D?!0:p(B)&&p(D)?B.getTime()===D.getTime():!1};C.errback=function(B){return function(D){B.reject(D)}};C.esriFieldToJson=function(B){return B.toJSON?B.toJSON():B};C.extractServiceUrl=function(B){if(void 0===B)return"";B=B.replace(/\/featureserver\/[0-9]*/i,"/FeatureServer");B=B.replace(/\/mapserver\/[0-9]*/i,"/MapServer");return B=
B.split("?")[0]};C.isArray=function(B){return B instanceof Array};C.isBoolean=function(B){return"boolean"===typeof B};C.isDate=p;C.isNumber=function(B){return"number"===typeof B};C.isString=function(B){return"string"===typeof B||B instanceof String};C.layerFieldEsriConstants={"small-integer":"esriFieldTypeSmallInteger",integer:"esriFieldTypeInteger",long:"esriFieldTypeLong",single:"esriFieldTypeSingle",double:"esriFieldTypeDouble",string:"esriFieldTypeString",date:"esriFieldTypeDate",oid:"esriFieldTypeOID",
geometry:"esriFieldTypeGeometry",blob:"esriFieldTypeBlob",raster:"esriFieldTypeRaster",guid:"esriFieldTypeGUID","global-id":"esriFieldTypeGlobalID",xml:"eesriFieldTypeXML",esriFieldTypeSmallInteger:"esriFieldTypeSmallInteger",esriFieldTypeInteger:"esriFieldTypeInteger",esriFieldTypeLong:"esriFieldTypeLong",esriFieldTypeSingle:"esriFieldTypeSingle",esriFieldTypeDouble:"esriFieldTypeDouble",esriFieldTypeString:"esriFieldTypeString",esriFieldTypeDate:"esriFieldTypeDate",esriFieldTypeOID:"esriFieldTypeOID",
esriFieldTypeGeometry:"esriFieldTypeGeometry",esriFieldTypeBlob:"esriFieldTypeBlob",esriFieldTypeRaster:"esriFieldTypeRaster",esriFieldTypeGUID:"esriFieldTypeGUID",esriFieldTypeGlobalID:"esriFieldTypeGlobalID",esriFieldTypeXML:"eesriFieldTypeXML"};C.layerGeometryEsriConstants={point:"point",polygon:"polygon",polyline:"polyline",multipoint:"multipoint",extent:"extent",esriGeometryPoint:"point",esriGeometryPolygon:"polygon",esriGeometryPolyline:"polyline",esriGeometryMultipoint:"multipoint",esriGeometryEnvelope:"extent",
envelope:"extent"};C.layerGeometryEsriRestConstants={point:"esriGeometryPoint",polygon:"esriGeometryPolygon",polyline:"esriGeometryPolyline",multipoint:"esriGeometryMultipoint",extent:"esriGeometryEnvelope",esriGeometryPoint:"esriGeometryPoint",esriGeometryPolygon:"esriGeometryPolygon",esriGeometryPolyline:"esriGeometryPolyline",esriGeometryMultipoint:"esriGeometryMultipoint",esriGeometryEnvelope:"esriGeometryEnvelope",envelope:"esriGeometryEnvelope"};C.reduceArrayWithPromises=function(B,D){return z.create((r,
d)=>{const m=z.resolve(!0);B.reduce((q,b,e,h)=>q.then(n=>{try{return D(n,b,e,h)}catch(x){return z.reject(x)}},n=>z.reject(n)),m).then(r,d)})};C.sameGeomType=function(B,D){return B===D||"point"===B&&"esriGeometryPoint"===D||"polyline"===B&&"esriGeometryPolyline"===D||"polygon"===B&&"esriGeometryPolygon"===D||"extent"===B&&"esriGeometryEnvelope"===D||"multipoint"===B&&"esriGeometryMultipoint"===D||"point"===D&&"esriGeometryPoint"===B||"polyline"===D&&"esriGeometryPolyline"===B||"polygon"===D&&"esriGeometryPolygon"===
B||"extent"===D&&"esriGeometryEnvelope"===B||"multipoint"===D&&"esriGeometryMultipoint"===B?!0:!1};C.shapeExtent=function(B){if(null===B)return null;switch(B.type){case "polygon":case "multipoint":case "polyline":return B.extent;case "point":return new J({xmin:B.x,ymin:B.y,xmax:B.x,ymax:B.y,spatialReference:B.spatialReference});case "extent":return B}return null};C.stableStringify=function(B,D){D||(D={});"function"===typeof D&&(D={cmp:D});const r="boolean"===typeof D.cycles?D.cycles:!1,d=D.cmp&&function(q){return function(b){return function(e,
h){return q({key:e,value:b[e]},{key:h,value:b[h]})}}}(D.cmp),m=[];return function e(b){b&&b.toJSON&&"function"===typeof b.toJSON&&(b=b.toJSON());if(void 0!==b){if("number"===typeof b)return isFinite(b)?""+b:"null";if("object"!==typeof b)return JSON.stringify(b);var h;if(Array.isArray(b)){var n="[";for(h=0;h<b.length;h++)h&&(n+=","),n+=e(b[h])||"null";return n+"]"}if(null===b)return"null";if(-1!==m.indexOf(b)){if(r)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON");
}var x=m.push(b)-1,u=Object.keys(b).sort(d&&d(b));n="";for(h=0;h<u.length;h++){const F=u[h],L=e(b[F]);L&&(n&&(n+=","),n+=JSON.stringify(F)+":"+L)}m.splice(x,1);return"{"+n+"}"}}(B)};C.toEsriGeometryType=function(B){switch(B){case "point":return"esriGeometryPoint";case "polygon":return"esriGeometryPolygon";case "multipoint":return"esriGeometryMultipoint";case "polyline":return"esriGeometryPolyline";default:return"esriGeometryPoint"}};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/Attachment":function(){define(["../chunks/_rollupPluginBabelHelpers",
"./Dictionary"],function(C,z){return function(J){function y(p,B,D,r,d,m){var q=J.call(this)||this;q.attachmentUrl=d;q.immutable=!1;q.setField("id",p);q.setField("name",B);q.setField("contenttype",D);q.setField("size",r);q.setField("exifinfo",m);q.immutable=!0;return q}C._inheritsLoose(y,J);return y}(z)})},"esri/arcade/Feature":function(){define("./Dictionary ./ImmutableArray ../chunks/languageUtils ../core/promiseUtils ../geometry/Geometry ../geometry/Point ../geometry/support/jsonUtils ../layers/graphics/featureConversionUtils ../core/maybe".split(" "),
function(C,z,J,y,p,B,D,r,d){return function(){function m(){this.arcadeDeclaredClass="esri.arcade.Feature";this._layer=this.attributes=this._geometry=this._optimizedGeomDefinition=null;this.immutable=this._datesfixed=!0;this._datefields=null;this.immutable=!0}m.createFromGraphic=function(b){const e=new m;e._geometry=d.isSome(b.geometry)?b.geometry:null;e.attributes=void 0===b.attributes?{}:null===b.attributes?{}:b.attributes;b._sourceLayer?(e._layer=b._sourceLayer,e._datesfixed=!1):b._layer?(e._layer=
b._layer,e._datesfixed=!1):b.layer&&"fields"in b.layer?(e._layer=b.layer,e._datesfixed=!1):b.sourceLayer&&"fields"in b.sourceLayer&&(e._layer=b.sourceLayer,e._datesfixed=!1);return e};m.createFromArcadeFeature=function(b){const e=new m;e._datesfixed=b._datesfixed;e.attributes=b.attributes;e._geometry=b._geometry;e._optimizedGeomDefinition=b._optimizedGeomDefinition;b._layer&&(e._layer=b._layer);return e};m.createFromOptimisedFeature=function(b,e,h){const n=new m;n._geometry=b.geometry?{geometry:b.geometry}:
null;n._optimizedGeomDefinition=h;n.attributes=b.attributes||{};n._layer=e;n._datesfixed=!1;return n};m.createFromArcadeDictionary=function(b){const e=new m;e.attributes=b.field("attributes");null!==e.attributes?e.attributes instanceof C?(e.attributes=e.attributes.attributes,null===e.attributes&&(e.attributes={})):e.attributes={}:e.attributes={};e._geometry=b.field("geometry");null!==e._geometry&&(e._geometry instanceof C?e._geometry=m.parseGeometryFromDictionary(e._geometry):e._geometry instanceof
p||(e._geometry=null));return e};m.createFromGraphicLikeObject=function(b,e,h=null){const n=new m;null===e&&(e={});n.attributes=e;n._geometry=d.isSome(b)?b:null;n._layer=h;n._layer&&(n._datesfixed=!1);return n};var q=m.prototype;q.repurposeFromGraphicLikeObject=function(b,e,h=null){null===e&&(e={});this.attributes=e;this._geometry=b?b:null;this._datesfixed=(this._layer=h)?!1:!0};q.castToText=function(){let b="";!1===this._datesfixed&&this._fixDates();for(const e in this.attributes){""!==b&&(b+=",");
const h=this.attributes[e];null==h?b+=JSON.stringify(e)+":null":J.isBoolean(h)||J.isNumber(h)||J.isString(h)?b+=JSON.stringify(e)+":"+JSON.stringify(h):h instanceof p?b+=JSON.stringify(e)+":"+J.toStringExplicit(h):h instanceof z?b+=JSON.stringify(e)+":"+J.toStringExplicit(h):h instanceof Array?b+=JSON.stringify(e)+":"+J.toStringExplicit(h):h instanceof Date?b+=JSON.stringify(e)+":"+JSON.stringify(h):null!==h&&"object"===typeof h&&void 0!==h.castToText&&(b+=JSON.stringify(e)+":"+h.castToText())}return'{"geometry":'+
(null===this.geometry()?"null":J.toStringExplicit(this.geometry()))+',"attributes":{'+b+"}}"};q._fixDates=function(){if(null!==this._datefields)0<this._datefields.length&&this._fixDateFields(this._datefields);else{var b=[];for(let e=0;e<this._layer.fields.length;e++){const h=this._layer.fields[e];"date"!==h.type&&"esriFieldTypeDate"!==h.type||b.push(h.name)}this._datefields=b;0<b.length&&this._fixDateFields(b)}this._datesfixed=!0};q._fixDateFields=function(b){this.attributes={...this.attributes};
for(let e=0;e<b.length;e++){let h=this.attributes[b[e]];if(null!==h)if(void 0===h)for(const n in this.attributes){if(n.toLowerCase()===b[e].toLowerCase()){h=this.attributes[n];null===h||h instanceof Date||(this.attributes[n]=new Date(h));break}}else h instanceof Date||(this.attributes[b[e]]=new Date(h))}};q.geometry=function(){if(null===this._geometry||this._geometry instanceof p)return this._geometry;this._optimizedGeomDefinition?(this._geometry=d.unwrap(D.fromJSON(r.convertToGeometry(this._geometry,
this._optimizedGeomDefinition.geometryType,this._optimizedGeomDefinition.hasZ,this._optimizedGeomDefinition.hasM))),this._geometry.spatialReference=this._optimizedGeomDefinition.spatialReference):this._geometry=d.unwrap(D.fromJSON(this._geometry));return this._geometry};q.field=function(b){!1===this._datesfixed&&this._fixDates();var e=this.attributes[b];if(void 0!==e)return e;e=b.toLowerCase();for(const h in this.attributes)if(h.toLowerCase()===e)return this.attributes[h];if(this._hasFieldDefinition(e))return null;
throw Error("Field not Found : "+b);};q._hasFieldDefinition=function(b){if(null===this._layer)return!1;for(let e=0;e<this._layer.fields.length;e++)if(this._layer.fields[e].name.toLowerCase()===b)return!0;return!1};q.setField=function(b,e){if(this.immutable)throw Error("Feature is Immutable");if(!1===J.isSimpleType(e))throw Error("Illegal Value Assignment to Feature");const h=b.toLowerCase();if(void 0===this.attributes[b])for(const n in this.attributes)if(n.toLowerCase()===h){this.attributes[n]=e;
return}this.attributes[b]=e};q.hasField=function(b){const e=b.toLowerCase();if(void 0!==this.attributes[b])return!0;for(const h in this.attributes)if(h.toLowerCase()===e)return!0;return this._hasFieldDefinition(e)?!0:!1};q.keys=function(){let b=[];const e={};for(var h in this.attributes)b.push(h),e[h.toLowerCase()]=1;if(null!==this._layer)for(h=0;h<this._layer.fields.length;h++){const n=this._layer.fields[h];1!==e[n.name.toLowerCase()]&&b.push(n.name)}return b=b.sort()};m.parseGeometryFromDictionary=
function(b){b=m._convertDictionaryToJson(b,!0);void 0!==b.hasm&&(b.hasM=b.hasm,delete b.hasm);void 0!==b.hasz&&(b.hasZ=b.hasz,delete b.hasz);void 0!==b.spatialreference&&(b.spatialReference=b.spatialreference,delete b.spatialreference);void 0!==b.rings&&(b.rings=this._fixPathArrays(b.rings,!0===b.hasZ,!0===b.hasZ));void 0!==b.paths&&(b.paths=this._fixPathArrays(b.paths,!0===b.hasZ,!0===b.hasM));void 0!==b.points&&(b.points=this._fixPointArrays(b.points,!0===b.hasZ,!0===b.hasM));return D.fromJSON(b)};
m._fixPathArrays=function(b,e,h){const n=[];if(b instanceof Array)for(var x=0;x<b.length;x++)n.push(this._fixPointArrays(b[x],e,h));else if(b instanceof z)for(x=0;x<b.length();x++)n.push(this._fixPointArrays(b.get(x),e,h));return n};m._fixPointArrays=function(b,e,h){const n=[];if(b instanceof Array)for(var x=0;x<b.length;x++){var u=b[x];u instanceof B?e&&h?n.push([u.x,u.y,u.z,u.m]):e?n.push([u.x,u.y,u.z]):h?n.push([u.x,u.y,u.m]):n.push([u.x,u.y]):u instanceof z?n.push(u.toArray()):n.push(u)}else if(b instanceof
z)for(x=0;x<b.length();x++)u=b.get(x),u instanceof B?e&&h?n.push([u.x,u.y,u.z,u.m]):e?n.push([u.x,u.y,u.z]):h?n.push([u.x,u.y,u.m]):n.push([u.x,u.y]):u instanceof z?n.push(u.toArray()):n.push(u);return n};m._convertDictionaryToJson=function(b,e=!1){const h={};for(const n in b.attributes){let x=b.attributes[n];x instanceof C&&(x=m._convertDictionaryToJson(x));e?h[n.toLowerCase()]=x:h[n]=x}return h};m.parseAttributesFromDictionary=function(b){const e={};for(const h in b.attributes){const n=b.attributes[h];
if(J.isSimpleType(n))e[h]=n;else throw Error("Illegal Argument");}return e};m.fromJson=function(b){let e=null;null!==b.geometry&&void 0!==b.geometry&&(e=D.fromJSON(b.geometry));const h={};if(null!==b.attributes&&void 0!==b.attributes)for(const n in b.attributes){const x=b.attributes[n];if(null===x)h[n]=x;else if(J.isString(x)||J.isNumber(x)||J.isBoolean(x)||J.isDate(x))h[n]=x;else throw Error("Illegal Argument");}return m.createFromGraphicLikeObject(e,h,null)};q.fullSchema=function(){return this._layer};
q.gdbVersion=function(){if(null===this._layer)return"";const b=this._layer.gdbVersion;return void 0===b?"":""===b&&this._layer.capabilities&&this._layer.capabilities.isVersioned?"SDE.DEFAULT":b};q.castAsJson=function(b){const e={attributes:{},geometry:!0===(null==b?void 0:b.keepGeometryType)?this.geometry():this.geometry().toJSON()};for(const h in this.attributes){const n=this.attributes[h];void 0!==n&&(e.attributes[h]=J.castAsJson(n,b))}return e};q.castAsJsonAsync=function(b,e){return y.resolve(this.castAsJson(e))};
return m}()})},"esri/arcade/treeAnalysis":function(){define(["exports"],function(C){function z(c){return"string"===typeof c||c instanceof String}function J(c,f){return"0"!==c.min&&f.length<Number(c.min)||"*"!==c.max&&f.length>Number(c.max)?-2:1}function y(c,f,l){if(null!==l.localScope&&void 0!==l.localScope[c.toLowerCase()]){const g=l.localScope[c.toLowerCase()];if("FormulaFunction"===g.type||"any"===g.type)return void 0===g.signature&&(g.signature={min:"0",max:"*"}),J(g.signature,f)}return void 0!==
l.globalScope[c.toLowerCase()]&&(c=l.globalScope[c.toLowerCase()],"FormulaFunction"===c.type||"any"===c.type)?(void 0===c.signature&&(c.signature={min:"0",max:"*"}),J(c.signature,f)):-1}function p(c,f){if(c)for(const l of c)B(l,f)}function B(c,f){if(c&&!1!==f(c))switch(c.type){case "ArrayExpression":p(c.elements,f);break;case "AssignmentExpression":case "BinaryExpression":B(c.left,f);B(c.right,f);break;case "BlockStatement":p(c.body,f);break;case "CallExpression":B(c.callee,f);p(c.arguments,f);break;
case "ExpressionStatement":B(c.expression,f);break;case "ForInStatement":B(c.left,f);B(c.right,f);B(c.body,f);break;case "ForStatement":B(c.init,f);B(c.test,f);B(c.update,f);B(c.body,f);break;case "FunctionDeclaration":B(c.id,f);p(c.params,f);B(c.body,f);break;case "IfStatement":B(c.test,f);B(c.consequent,f);B(c.alternate,f);break;case "LogicalExpression":B(c.left,f);B(c.right,f);break;case "MemberExpression":B(c.object,f);B(c.property,f);break;case "ObjectExpression":p(c.properties,f);break;case "Program":p(c.body,
f);break;case "Property":B(c.key,f);B(c.value,f);break;case "ReturnStatement":B(c.argument,f);break;case "UnaryExpression":B(c.argument,f);break;case "UpdateExpression":B(c.argument,f);break;case "VariableDeclaration":p(c.declarations,f);break;case "VariableDeclarator":B(c.id,f);B(c.init,f);break;case "TemplateLiteral":p(c.expressions,f),p(c.quasis,f)}}function D(c,f=!0){let l=e(c,"SYNTAX","UNREOGNISED");try{switch(c.type){case "VariableDeclarator":return"Identifier"!==c.id.type?e(c,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER"):
null!==c.init?D(c.init,!1):"";case "VariableDeclaration":for(var g=0;g<c.declarations.length;g++)if(l=D(c.declarations[g],f),""!==l)return l;return"";case "ForInStatement":l=D(c.left,f);if(""!==l)break;if("VariableDeclaration"===c.left.type){if(1<c.left.declarations.length)return e(c,"SYNTAX","ONLY1VAR");if(null!==c.left.declarations[0].init)return e(c,"SYNTAX","CANNOTDECLAREVAL")}else if("Identifier"!==c.left.type)return e(c,"SYNTAX","LEFTNOTVAR");l=D(c.right,f);if(""!==l)break;l=D(c.body,f);if(""!==
l)break;return"";case "ForStatement":if(null!==c.test&&(l=D(c.test,f),""!==l))break;if(null!==c.init&&(l=D(c.init,f),""!==l))break;if(null!==c.update&&(l=D(c.update,f),""!==l))break;if(null!==c.body&&(l=D(c.body,f),""!==l))break;return"";case "ContinueStatement":return"";case "EmptyStatement":return"";case "BreakStatement":return"";case "IfStatement":l=D(c.test,f);if(""!==l)break;if(null!==c.consequent&&(l=D(c.consequent,!1),""!==l))break;if(null!==c.alternate&&(l=D(c.alternate,!1),""!==l))break;
return"";case "BlockStatement":g=[];for(var X=0;X<c.body.length;X++)"EmptyStatement"!==c.body[X].type&&g.push(c.body[X]);c.body=g;for(g=0;g<c.body.length;g++)if(l=D(c.body[g],f),""!==l)return l;return"";case "FunctionDeclaration":return!1===f?e(c,"SYNTAX","GLOBALFUNCTIONSONLY"):"Identifier"!==c.id.type?e(c,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"):D(c.body,!1);case "ReturnStatement":return null!==c.argument?D(c.argument,f):"";case "UpdateExpression":return"Identifier"!==c.argument.type&&"MemberExpression"!==
c.argument.type?e(c,"SYNTAX","ASSIGNMENTTOVARSONLY"):D(c.argument,f);case "AssignmentExpression":if("Identifier"!==c.left.type&&"MemberExpression"!==c.left.type)return e(c,"SYNTAX","ASSIGNMENTTOVARSONLY");l=D(c.left,f);if(""!==l)break;switch(c.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;default:return e(c,"SYNTAX","OPERATORNOTRECOGNISED")}return D(c.right,!1);case "ExpressionStatement":return D(c.expression,!1);case "Identifier":l="";break;case "MemberExpression":l=
D(c.object,f);if(""!==l)break;return!0===c.computed?D(c.property,f):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":if("Identifier"!==c.callee.type)return e(c,"SYNTAX","ONLYNODESSUPPORTED");l="";for(g=0;g<c.arguments.length;g++)if(l=D(c.arguments[g],f),""!==l)return l;return"";case "UnaryExpression":l=D(c.argument,f);break;case "BinaryExpression":l=D(c.left,f);if(""!==l)break;l=D(c.right,f);if(""!==l)break;switch(c.operator){case "|":case "\x26":case "\x3e\x3e":case "\x3c\x3c":case "\x3e\x3e\x3e":case "^":case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":break;
default:return e(c,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "LogicalExpression":l=D(c.left,f);if(""!==l)break;l=D(c.right);if(""!==l)break;switch(c.operator){case "\x26\x26":case "||":break;default:return e(c,"SYNTAX","OPERATORNOTRECOGNISED")}return"";case "ArrayExpression":l="";for(g=0;g<c.elements.length&&(l=D(c.elements[g],f),""===l);g++);break;case "TemplateLiteral":l="";for(g=0;g<c.quasis.length;g++)if(l=D(c.quasis[g],f),""!==l)return l;for(g=0;g<c.expressions.length&&(l=D(c.expressions[g],
f),""===l);g++);break;case "ObjectExpression":l="";for(g=0;g<c.properties.length;g++){l="";if(null!==c.properties[g].key&&("Literal"!==c.properties[g].key.type&&"Identifier"!==c.properties[g].key.type&&(l=e(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===c.properties[g].key.type)){X=c.properties[g].key;const ea="value"in X?X.value:null;"string"===typeof ea||ea instanceof String||(l=e(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===l&&(l=D(c.properties[g],f));if(""!==l)break}break;case "Property":if("Literal"!==
c.key.type&&"Identifier"!==c.key.type)return e(c,"SYNTAX","ONLYLITERAL");if("Identifier"!==c.key.type&&(l=D(c.key,f),""!==l))break;l=D(c.value,f)}return l}catch(ea){throw ea;}}function r(c,f){var l=e(c,"SYNTAX","UNREOGNISED");let g=null,X="";try{switch(c.type){case "VariableDeclarator":{const Z=null===c.init?"":r(c.init,f);if(""!==Z)return Z;"Identifier"===c.id.type&&(null===f.localScope?f.globalScope[c.id.name.toLowerCase()]={type:"any"}:f.localScope[c.id.name.toLowerCase()]={type:"any"});return""}case "FunctionDeclaration":g=
m(c.id.name.toLowerCase(),c);X=q(c,f);if(""!==X)return X;if(null!==f.localScope)return e(c,"SYNTAX","GLOBALFUNCTIONSONLY");g.isnative=!1;f.globalScope[c.id.name.toLowerCase()]={type:"FormulaFunction",signature:[g]};return"";case "VariableDeclaration":l="";for(var ea=0;ea<c.declarations.length&&(l=r(c.declarations[ea],f),""===l);ea++);break;case "IfStatement":l=r(c.test,f);if(""!==l)break;if("AssignmentExpression"===c.test.type||"UpdateExpression"===c.test.type)return e(c.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");
if(null!==c.consequent&&(l=r(c.consequent,f),""!==l))break;if(null!==c.alternate&&(l=r(c.alternate,f),""!==l))break;return"";case "EmptyStatement":return"";case "BlockStatement":for(ea=0;ea<c.body.length;ea++)if(l=r(c.body[ea],f),""!==l)return l;return"";case "ReturnStatement":return null!==c.argument?r(c.argument,f):"";case "ForInStatement":if("VariableDeclaration"===c.left.type){if(1<c.left.declarations.length)return e(c,"SYNTAX","ONLY1VAR");if(null!==c.left.declarations[0].init)return e(c,"SYNTAX",
"CANNOTDECLAREVAL")}else if("Identifier"!==c.left.type)return e(c,"SYNTAX","LEFTNOTVAR");l=r(c.left,f);if(""!==l)break;l=r(c.right,f);if(""!==l)break;l=r(c.body,f);if(""!==l)break;return"";case "ForStatement":if(null!==c.init&&(l=r(c.init,f),""!==l))break;if(null!==c.test&&(l=r(c.test,f),""!==l))break;if(null!==c.body&&(l=r(c.body,f),""!==l))break;if(null!==c.update&&(l=r(c.update,f),""!==l))break;return"";case "BreakStatement":return"";case "ContinueStatement":return"";case "UpdateExpression":if("Identifier"!==
c.argument.type&&"MemberExpression"!==c.argument.type)return e(c,"SYNTAX","ASSIGNMENTTOVARSONLY");l=!1;if("MemberExpression"===c.argument.type)return r(c.argument,f);null!==f.localScope&&void 0!==f.localScope[c.argument.name.toLowerCase()]&&(l=!0);void 0!==f.globalScope[c.argument.name.toLowerCase()]&&(l=!0);return!1===l?"Identifier "+c.argument.name+" has not been declared.":"";case "AssignmentExpression":if("Identifier"!==c.left.type&&"MemberExpression"!==c.left.type)return e(c,"SYNTAX","ASSIGNMENTTOVARSONLY");
ea=r(c.right,f);if(""!==ea)return ea;l=!1;if("MemberExpression"===c.left.type)return ea=r(c.left,f),""!==ea?ea:"";null!==f.localScope&&void 0!==f.localScope[c.left.name.toLowerCase()]&&(l=!0);void 0!==f.globalScope[c.left.name.toLowerCase()]&&(l=!0);return!1===l?"Identifier "+c.left.name+" has not been declared.":"";case "ExpressionStatement":return r(c.expression,f);case "Identifier":{const Z=c.name.toLowerCase();if(null!==f.localScope&&void 0!==f.localScope[Z])return"";l=void 0!==f.globalScope[Z]?
"":e(c,"SYNTAX","VARIABLENOTFOUND");break}case "MemberExpression":l=r(c.object,f);if(""!==l)break;return!0===c.computed?r(c.property,f):"";case "Literal":return"";case "TemplateElement":return"";case "CallExpression":{if("Identifier"!==c.callee.type)return e(c,"SYNTAX","ONLYNODESSUPPORTED");l="";for(ea=0;ea<c.arguments.length;ea++)if(l=r(c.arguments[ea],f),""!==l)return l;const Z=y(c.callee.name,c.arguments,f);-1===Z&&(l=e(c,"SYNTAX","NOTFOUND"));-2===Z&&(l=e(c,"SYNTAX","WRONGSIGNATURE"));break}case "UnaryExpression":l=
r(c.argument,f);break;case "BinaryExpression":l=r(c.left,f);if(""!==l)break;l=r(c.right,f);if(""!==l)break;return"";case "LogicalExpression":l=r(c.left,f);if(""!==l)break;if("AssignmentExpression"===c.left.type||"UpdateExpression"===c.left.type)return e(c.left,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION");l=r(c.right,f);if(""!==l)break;return"AssignmentExpression"===c.right.type||"UpdateExpression"===c.right.type?e(c.right,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"):"";case "ArrayExpression":l=
"";for(ea=0;ea<c.elements.length&&(l=r(c.elements[ea],f),""===l);ea++);break;case "TemplateLiteral":l="";for(ea=0;ea<c.quasis.length;ea++)if(l=r(c.quasis[ea],f),""!==l)return l;for(ea=0;ea<c.expressions.length&&(l=r(c.expressions[ea],f),""===l);ea++);break;case "ObjectExpression":l="";for(ea=0;ea<c.properties.length;ea++){l="";if(null!==c.properties[ea].key&&("Literal"!==c.properties[ea].key.type&&"Identifier"!==c.properties[ea].key.type&&(l=e(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING")),"Literal"===
c.properties[ea].key.type)){const Z=c.properties[ea].key,pa="value"in Z?Z.value:null;"string"===typeof pa||pa instanceof String||(l=e(c,"SYNTAX","OBJECTPROPERTYMUSTBESTRING"))}""===l&&(l=r(c.properties[ea],f));if(""!==l)break}break;case "Property":if("Literal"!==c.key.type&&"Identifier"!==c.key.type)return e(c,"SYNTAX","ONLYLITERAL");if("Identifier"!==c.key.type&&(l=r(c.key,f),""!==l))break;l=r(c.value,f)}return l}catch(Z){throw Z;}}function d(c,f){let l=!1;const g=f.toLowerCase();B(c,X=>{if(l)return!1;
"Identifier"===X.type&&X.name&&X.name.toLowerCase()===g&&(l=!0);return!0});return l}function m(c,f){const l=[];if(void 0!==f.params&&null!==f.params)for(let g=0;g<f.params.length;g++)l.push("any");return{name:c,return:"any",params:l}}function q(c,f){f={globalScope:f.globalScope,localScope:{}};for(let l=0;l<c.params.length;l++)f.localScope[c.params[l].name.toLowerCase()]={type:"any"};return r(c.body,f)}function b(c,f,l,g){const X={};if(void 0===c||null===c)c={};if(void 0===l||null===l)l={};X.infinity=
{type:"any"};X.textformatting={type:"any"};X.pi={type:"any"};for(const ea in f)"sync"===g&&void 0!==f[ea].min?X[ea]={type:"FormulaFunction",signature:{min:f[ea].min,max:f[ea].max}}:"sync"!==g&&void 0!==f[ea].fmin&&(X[ea]={type:"FormulaFunction",signature:{min:f[ea].fmin,max:f[ea].fmax}});for(f=0;f<l.length;f++)g=l[f],X[g.name]={type:"FormulaFunction",signature:g};for(const ea in c)X[ea]=c[ea],X[ea].type="any";return X}function e(c,f,l){let g="";switch(f){case "SYNTAX":g="Syntax Error: ";break;case "RUNTIME":g=
"Runtime Error: ";break;default:g="Syntax Error: "}try{switch(c.type){case "IfStatement":switch(l){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":g+=" Assignments not be made in logical tests";break;case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":g+=" Non Boolean used as Condition"}break;case "UpdateExpression":case "AssignmentExpression":switch(l){case "CANNOT_USE_ASSIGNMENT_IN_CONDITION":g+=" Assignments not be made in logical tests";break;case "ASSIGNMENTTOVARSONLY":g+=" Assignments can only be made to identifiers"}break;
case "ExpressionStatement":g+=" Assignments can only be made to identifiers";break;case "FunctionDeclaration":switch(l){case "GLOBALFUNCTIONSONLY":g+=" Functions cannot be declared as variables";break;case "FUNCTIONMUSTHAVEIDENTIFIER":g+=" Function Definition must have an identifier"}break;case "VariableDeclaration":g+=" Only 1 variable can be declared at a time";break;case "VariableDeclarator":switch(l){case "FUNCTIONVARIABLEDECLARATOR":g+=" Functions cannot be declared as variables";break;case "VARIABLEMUSTHAVEIDENTIFIER":g+=
" Variable Definition must have an identifier"}break;case "Identifier":g+=" Identifier Not Found. ";g+=c.name;break;case "ObjectExpression":switch(l){case "OBJECTPROPERTYMUSTBESTRING":g+=" Property name must be a string"}break;case "ForStatement":switch(l){case "CANNOT_USE_NONBOOLEAN_IN_CONDITION":g+=" Non Boolean used as Condition"}break;case "ForInStatement":switch(l){case "ONLY1VAR":g+=" Can only declare 1 var for use with IN";break;case "CANNOTDECLAREVAL":g+=" Can only declare value for use with IN";
break;case "LEFTNOVAR":g+="Must provide a variable to iterate with.";break;case "VARIABLENOTDECLARED":g+="Variable must be declared before it is used..";break;case "CANNOTITERATETHISTYPE":g+="This type cannot be used in an IN loop"}break;case "MemberExpression":switch(l){case "PROPERTYNOTFOUND":g+="Cannot find member property. ";g+=!1===c.computed?"Identifier"===c.property.type?c.property.name:"":"";break;case "OUTOFBOUNDS":g+="Out of Bounds. ";g+=!1===c.computed?"Identifier"===c.property.type?c.property.name:
"":"";break;case "NOTFOUND":g+="Cannot call member method on null. ";g+=!1===c.computed?"Identifier"===c.property.type?c.property.name:"":"";break;case "INVALIDTYPE":g+="Cannot call member property on object of this type. ",g+=!1===c.computed?"Identifier"===c.property.type?c.property.name:"":""}break;case "Property":switch(l){case "ONLYLITERAL":g+="Property names must be literals or identifiers"}break;case "Literal":break;case "CallExpression":switch(l){case "WRONGSIGNATURE":g+="Function signature does not match: ";
g+="Identifier"===c.callee.type?c.callee.name:"";break;case "ONLYNODESUPPORTED":g+="Functions must be declared.";g+="Identifier"===c.callee.type?c.callee.name:"";break;case "NOTAFUNCTION":g+="Not a Function: ";g+="Identifier"===c.callee.type?c.callee.name:"";break;case "NOTFOUND":g+="Function Not Found: "+("Identifier"===c.callee.type?c.callee.name:"")}break;case "UnaryExpression":switch(l){case "NOTSUPPORTEDUNARYOPERATOR":g+="Operator "+c.operator+" not allowed in this context. Only ! can be used with boolean, and - with a number";
break;case "NOTSUPPORTEDTYPE":g+="Unary operator "+c.operator+" cannot be used with this argument."}case "BinaryExpression":switch(l){case "OPERATORNOTRECOGNISED":g+="Binary Operator not recognised "+c.operator}break;case "LogicalExpression":switch(l){case "ONLYBOOLEAN":g+="Operator "+c.operator+" cannot be used. Only || or \x26\x26 are allowed values";break;case "ONLYORORAND":g+="Logical Expression "+c.operator+" being applied to parameters that are not boolean."}break;case "ArrayExpression":switch(l){case "FUNCTIONCONTEXTILLEGAL":g+=
" Cannot Put Function inside Array."}break;default:g+="Expression contains unrecognised code structures."}}catch(X){throw X;}return g}function h(c,f,l){return{line:c.loc.start.line,character:c.loc.start.column,reason:e(c,f,l)}}function n(c,f,l,g){f={globalScope:f.globalScope,localScope:{}};for(let X=0;X<c.params.length;X++)f.localScope[c.params[X].name.toLowerCase()]={type:"any"};x(c.body,f,l,g,!1)}function x(c,f,l,g,X=!0){if(null===c)throw Error("Unnexpexted Expression Syntax");var ea=null;try{switch(c.type){case "VariableDeclarator":"Identifier"!==
c.id.type?g.push(h(c,"SYNTAX","VARIABLEMUSTHAVEIDENTIFIER")):(c.id.name.toLowerCase(),null===f.localScope?f.globalScope[c.id.name.toLowerCase()]={type:"any"}:f.localScope[c.id.name.toLowerCase()]={type:"any"});null!==c.init&&x(c.init,f,l,g,X);break;case "FunctionDeclaration":!1===X&&g.push(h(c,"SYNTAX","GLOBALFUNCTIONSONLY"));"Identifier"!==c.id.type&&g.push(h(c,"SYNTAX","FUNCTIONMUSTHAVEIDENTIFIER"));ea=m("",c);n(c,f,l,g);null!==f.localScope&&g.push(h(c,"SYNTAX","GLOBALFUNCTIONSONLY"));ea.isnative=
!1;"Identifier"===c.id.type&&(f.globalScope[c.id.name.toLowerCase()]={type:"FormulaFunction",signature:[ea]});break;case "VariableDeclaration":for(var Z=0;Z<c.declarations.length;Z++)x(c.declarations[Z],f,l,g,X);break;case "IfStatement":null!==c.test&&(x(c.test,f,l,g,X),"AssignmentExpression"!==c.test.type&&"UpdateExpression"!==c.test.type||g.push(h(c.test,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION")));null!==c.consequent&&x(c.consequent,f,l,g,X);null!==c.alternate&&x(c.alternate,f,l,g,X);break;
case "EmptyStatement":break;case "BlockStatement":if(null!==c.body)for(Z=0;Z<c.body.length;Z++)x(c.body[Z],f,l,g,X);break;case "ReturnStatement":null!==c.argument&&x(c.argument,f,l,g,X);break;case "ForInStatement":"VariableDeclaration"===c.left.type?(1<c.left.declarations.length&&g.push(h(c,"SYNTAX","ONLY1VAR")),null!==c.left.declarations[0].init&&g.push(h(c,"SYNTAX","CANNOTDECLAREVAL"))):"Identifier"!==c.left.type&&g.push(h(c,"SYNTAX","LEFTNOTVAR"));x(c.left,f,l,g,X);x(c.right,f,l,g,X);x(c.body,
f,l,g,X);break;case "ForStatement":null!==c.init&&x(c.init,f,l,g,X);null!==c.test&&x(c.test,f,l,g,X);null!==c.body&&x(c.body,f,l,g,X);null!==c.update&&x(c.update,f,l,g,X);break;case "BreakStatement":break;case "ContinueStatement":break;case "UpdateExpression":"Identifier"!==c.argument.type&&"MemberExpression"!==c.argument.type?g.push(h(c,"SYNTAX","ASSIGNMENTTOVARSONLY")):("Identifier"===c.argument.type&&(Z=!1,!1===l&&(null!==f.localScope&&void 0!==f.localScope[c.argument.name.toLowerCase()]&&(Z=!0),
void 0!==f.globalScope[c.argument.name.toLowerCase()]&&(Z=!0),!1===Z&&g.push({line:null===c?0:c.loc.start.line,character:null===c?0:c.loc.start.column,reason:"Identifier "+c.argument.name+" has not been declared."}))),"MemberExpression"===c.argument.type&&x(c.argument,f,l,g,X));break;case "AssignmentExpression":"Identifier"!==c.left.type&&"MemberExpression"!==c.left.type&&g.push(h(c,"SYNTAX","ASSIGNMENTTOVARSONLY"));switch(c.operator){case "\x3d":case "/\x3d":case "*\x3d":case "%\x3d":case "+\x3d":case "-\x3d":break;
default:g.push(h(c,"SYNTAX","OPERATORNOTRECOGNISED"))}x(c.right,f,l,g,X);Z=!1;"Identifier"===c.left.type&&(null!==f.localScope&&void 0!==f.localScope[c.left.name.toLowerCase()]&&(Z=!0),void 0!==f.globalScope[c.left.name.toLowerCase()]&&(Z=!0),!1===l&&!1===Z&&g.push({line:null===c?0:c.loc.start.line,character:null===c?0:c.loc.start.column,reason:"Identifier "+c.left.name+" has not been declared."}));"MemberExpression"===c.left.type&&x(c.left,f,l,g,X);break;case "ExpressionStatement":x(c.expression,
f,l,g,X);break;case "Identifier":{const pa=c.name.toLowerCase();if(null!==f.localScope&&void 0!==f.localScope[pa]||void 0!==f.globalScope[pa])break;!1===l&&g.push(h(c,"SYNTAX","VARIABLENOTFOUND"));break}case "MemberExpression":x(c.object,f,l,g,X);!0===c.computed&&x(c.property,f,l,g,X);break;case "Literal":break;case "TemplateElement":break;case "CallExpression":"Identifier"!==c.callee.type&&g.push(h(c,"SYNTAX","ONLYNODESSUPPORTED"));for(ea=0;ea<c.arguments.length;ea++)x(c.arguments[ea],f,l,g,X);"Identifier"===
c.callee.type&&(Z=y(c.callee.name,c.arguments,f),!1===l&&-1===Z&&g.push(h(c,"SYNTAX","NOTFOUND")),-2===Z&&g.push(h(c,"SYNTAX","WRONGSIGNATURE")));break;case "UnaryExpression":x(c.argument,f,l,g,X);break;case "BinaryExpression":x(c.left,f,l,g,X);x(c.right,f,l,g,X);switch(c.operator){case "\x3d\x3d":case "!\x3d":case "\x3c":case "\x3c\x3d":case "\x3e":case "\x3e\x3d":case "+":case "-":case "*":case "/":case "%":case "\x26":case "|":case "^":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":break;
default:g.push(h(c,"SYNTAX","OPERATORNOTRECOGNISED"))}break;case "LogicalExpression":switch(c.operator){case "\x26\x26":case "||":break;default:g.push(h(c,"SYNTAX","OPERATORNOTRECOGNISED"))}x(c.left,f,l,g,X);"AssignmentExpression"!==c.left.type&&"UpdateExpression"!==c.left.type||g.push(h(c,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));x(c.right,f,l,g,X);"AssignmentExpression"!==c.right.type&&"UpdateExpression"!==c.right.type||g.push(h(c,"SYNTAX","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));break;case "ArrayExpression":for(Z=
0;Z<c.elements.length;Z++)x(c.elements[Z],f,l,g,X);break;case "TemplateLiteral":for(Z=0;Z<c.quasis.length;Z++)x(c.quasis[Z],f,l,g,X);for(Z=0;Z<c.expressions.length;Z++)x(c.expressions[Z],f,l,g,X);break;case "ObjectExpression":for(Z=0;Z<c.properties.length;Z++)x(c.properties[Z],f,l,g,X);break;case "Property":"Literal"!==c.key.type&&"Identifier"!==c.key.type&&g.push(h(c,"SYNTAX","ONLYLITERAL"));"Literal"===c.key.type&&x(c.key,f,l,g,X);x(c.value,f,l,g,X);break;default:g.push(h(c,"SYNTAX","UNRECOGNISED"))}}catch(pa){g.push({line:null===
c?0:c.loc.start.line,character:null===c?0:c.loc.start.column,reason:"Unnexpected Syntax"})}}function u(c){const f=[];B(c,l=>{"CallExpression"===l.type&&"Identifier"===l.callee.type&&f.push(l.callee.name.toLowerCase());return!0});return f}const F={all:{min:"2",max:"2"},none:{min:"2",max:"2"},any:{min:"2",max:"2"},reduce:{min:"2",max:"3"},map:{min:"2",max:"2"},filter:{min:"2",max:"2"},fromcodepoint:{min:"1",max:"*"},fromcharcode:{min:"1",max:"*"},tocodepoint:{min:"1",max:"2"},tocharcode:{min:"1",max:"2"},
concatenate:{min:"0",max:"*"},expects:{min:"1",max:"*"},getfeatureset:{min:"1",max:"2"},week:{min:"1",max:"2"},fromjson:{min:"1",max:"1"},length3d:{min:"1",max:"2"},tohex:{min:"1",max:"1"},hash:{min:"1",max:"1"},isoweek:{min:"1",max:"1"},isoweekday:{min:"1",max:"1"},isomonth:{min:"1",max:"1"},isoyear:{min:"1",max:"1"},resize:{min:"2",max:"3"},slice:{min:"0",max:"*"},splice:{min:"0",max:"*"},push:{min:"2",max:"2"},pop:{min:"1",max:"1"},includes:{min:"2",max:"2"},array:{min:"1",max:"2"},front:{min:"1",
max:"1"},back:{min:"1",max:"1"},insert:{min:"3",max:"3"},erase:{min:"2",max:"2"},split:{min:"2",max:"4"},guid:{min:"0",max:"1"},today:{min:"0",max:"0"},angle:{min:"2",max:"3"},bearing:{min:"2",max:"3"},urlencode:{min:"1",max:"1"},now:{min:"0",max:"0"},timestamp:{min:"0",max:"0"},day:{min:"1",max:"1"},month:{min:"1",max:"1"},year:{min:"1",max:"1"},hour:{min:"1",max:"1"},second:{min:"1",max:"1"},millisecond:{min:"1",max:"1"},minute:{min:"1",max:"1"},weekday:{min:"1",max:"1"},toutc:{min:"1",max:"1"},
tolocal:{min:"1",max:"1"},date:{min:"0",max:"7"},datediff:{min:"2",max:"3"},dateadd:{min:"2",max:"3"},trim:{min:"1",max:"1"},text:{min:"1",max:"2"},left:{min:"2",max:"2"},right:{min:"2",max:"2"},mid:{min:"2",max:"3"},upper:{min:"1",max:"1"},proper:{min:"1",max:"2"},lower:{min:"1",max:"1"},find:{min:"2",max:"3"},iif:{min:"3",max:"3"},decode:{min:"2",max:"*"},when:{min:"2",max:"*"},defaultvalue:{min:"2",max:"2"},isempty:{min:"1",max:"1"},domaincode:{min:"2",max:"4"},domainname:{min:"2",max:"4"},polygon:{min:"1",
max:"1"},point:{min:"1",max:"1"},polyline:{min:"1",max:"1"},extent:{min:"1",max:"1"},multipoint:{min:"1",max:"1"},ringisclockwise:{min:"1",max:"1"},geometry:{min:"1",max:"1"},count:{min:"0",max:"*"},number:{min:"1",max:"2"},acos:{min:"1",max:"1"},asin:{min:"1",max:"1"},atan:{min:"1",max:"1"},atan2:{min:"2",max:"2"},ceil:{min:"1",max:"2"},floor:{min:"1",max:"2"},round:{min:"1",max:"2"},cos:{min:"1",max:"1"},exp:{min:"1",max:"1"},log:{min:"1",max:"1"},min:{min:"0",max:"*"},constrain:{min:"3",max:"3"},
console:{min:"0",max:"*"},max:{min:"0",max:"*"},pow:{min:"2",max:"2"},random:{min:"0",max:"0"},sqrt:{min:"1",max:"1"},sin:{min:"1",max:"1"},tan:{min:"1",max:"1"},abs:{min:"1",max:"1"},isnan:{min:"1",max:"1"},stdev:{min:"0",max:"*"},average:{min:"0",max:"*"},mean:{min:"0",max:"*"},sum:{min:"0",max:"*"},variance:{min:"0",max:"*"},distinct:{min:"0",max:"*"},first:{min:"1",max:"1"},top:{min:"2",max:"2"},boolean:{min:"1",max:"1"},dictionary:{min:"0",max:"*"},typeof:{min:"1",max:"1"},reverse:{min:"1",max:"1"},
replace:{min:"3",max:"4"},sort:{min:"1",max:"2"},feature:{min:"1",max:"*"},haskey:{min:"2",max:"2"},indexof:{min:"2",max:"2"},disjoint:{min:"2",max:"2"},intersects:{min:"2",max:"2"},touches:{min:"2",max:"2"},crosses:{min:"2",max:"2"},within:{min:"2",max:"2"},contains:{min:"2",max:"2"},overlaps:{min:"2",max:"2"},equals:{min:"2",max:"2"},relate:{min:"3",max:"3"},intersection:{min:"2",max:"2"},union:{min:"1",max:"2"},difference:{min:"2",max:"2"},symmetricdifference:{min:"2",max:"2"},clip:{min:"2",max:"2"},
cut:{min:"2",max:"2"},area:{min:"1",max:"2"},areageodetic:{min:"1",max:"2"},length:{min:"1",max:"2"},lengthgeodetic:{min:"1",max:"2"},distancegeodetic:{min:"2",max:"3"},distance:{min:"2",max:"3"},densify:{min:"2",max:"3"},densifygeodetic:{min:"2",max:"3"},generalize:{min:"2",max:"4"},buffer:{min:"2",max:"3"},buffergeodetic:{min:"2",max:"3"},offset:{min:"2",max:"6"},rotate:{min:"2",max:"3"},issimple:{min:"1",max:"1"},simplify:{min:"1",max:"1"},centroid:{min:"1",max:"1"},isselfintersecting:{min:"1",
max:"1"},multiparttosinglepart:{min:"1",max:"1"},setgeometry:{min:"2",max:"2"},portal:{min:"1",max:"1"},getuser:{min:"1",max:"2"},subtypes:{min:"1",max:"1"},subtypecode:{min:"1",max:"1"},subtypename:{min:"1",max:"1"},domain:{min:"2",max:"3"},convertdirection:{min:"3",max:"3"},schema:{min:"1",max:"1"}};for(const c in F)F[c].fmin=F[c].min,F[c].fmax=F[c].max;const L="featureset getuser featuresetbyid featuresetbyname featuresetbyassociation featuresetbyrelationshipname featuresetbyurl getfeatureset attachments featuresetbyportalitem".split(" "),
E="disjoint intersects touches crosses within contains overlaps equals relate intersection union difference symmetricdifference clip cut area areageodetic length length3d lengthgeodetic distance distancegeodetic densify densifygeodetic generalize buffer buffergeodetic offset rotate issimple simplify multiparttosinglepart".split(" ");C.addFunctionDeclaration=function(c,f){const l=F[c.name.toLowerCase()];void 0===l?"sync"===f?F[c.name.toLowerCase()]={min:c.min,max:c.max}:F[c.name.toLowerCase()]={fmin:c.min,
fmax:c.max}:"sync"===f?(l.min=c.min,l.max=c.max):(l.fmin=c.min,l.fmax=c.max)};C.checkFunctionSignature=J;C.checkScript=function(c,f,l,g="async",X=F){const ea=[];if("BlockStatement"!==c.body[0].body.type)return[{line:0,character:0,reason:"Invalid Body"}];if(null===f||void 0===f)f={vars:{},customFunctions:[]};f={globalScope:b(f.vars,X,f.customFunctions,g),localScope:null};try{x(c.body[0].body,f,l,ea)}catch(Z){}return ea};C.constructGlobalScope=b;C.extractAllIssues=x;C.extractAllIssuesInFunction=n;C.extractFunctionDeclaration=
m;C.findExpectedFieldLiterals=function(c){const f=[];B(c,l=>{if("CallExpression"===l.type){if("Identifier"===l.callee.type&&"expects"===l.callee.name.toLowerCase()){var g="";for(let X=0;X<(l.arguments||[]).length;X++)0===X?"Identifier"===l.arguments[X].type&&(g=l.arguments[X].name.toLowerCase()):g&&"Literal"===l.arguments[X].type&&z(l.arguments[X].value)&&f.push(g+"."+l.arguments[X].value.toLowerCase());return!1}if("Identifier"===l.callee.type&&-1<["domainname","domaincode","domain","haskey"].indexOf(l.callee.name.toLowerCase())&&
2<=l.arguments.length)return g="","Identifier"===l.arguments[0].type&&(g=l.arguments[0].name.toLowerCase()),g&&"Literal"===l.arguments[1].type&&z(l.arguments[1].value)&&f.push(g+"."+l.arguments[1].value.toLowerCase()),!1}if("MemberExpression"!==l.type||"Identifier"!==l.object.type)return!0;!1===l.computed&&l.object&&l.object.name&&l.property&&"Identifier"===l.property.type&&l.property.name?f.push(l.object.name.toLowerCase()+"."+l.property.name.toLowerCase()):l.object&&l.object.name&&l.property&&"Literal"===
l.property.type&&"string"===typeof l.property.value&&f.push(l.object.name.toLowerCase()+"."+l.property.value.toString().toLowerCase());return!1});return f};C.findFieldLiterals=function(c){const f=[];B(c,l=>{if("MemberExpression"!==l.type||"Identifier"!==l.object.type)return!0;!1===l.computed&&l.object&&l.object.name&&l.property&&"Identifier"===l.property.type&&l.property.name?f.push(l.object.name.toLowerCase()+"."+l.property.name.toLowerCase()):l.object&&l.object.name&&l.property&&"Literal"===l.property.type&&
"string"===typeof l.property.value&&f.push(l.object.name.toLowerCase()+"."+l.property.value.toString().toLowerCase());return!1});return f};C.findFunction=y;C.findFunctionCalls=u;C.findScriptDependencies=function(c,f=[]){let l=null;if(void 0===c.usesFeatureSet){null===l&&(l=u(c));c.usesFeatureSet=!1;for(let g=0;g<l.length;g++)-1<L.indexOf(l[g])&&(c.usesFeatureSet=!0,c.isAsync=!0);if(!1===c.usesFeatureSet&&f&&0<f.length)for(const g of f)if(d(c,g)){c.usesFeatureSet=!0;c.isAsync=!0;break}}if(void 0===
c.usesGeometry)for(c.usesGeometry=!1,null===l&&(l=u(c)),f=0;f<l.length;f++)-1<E.indexOf(l[f])&&(c.usesGeometry=!0)};C.functionDecls=F;C.makeError=h;C.nodeErrorMessage=e;C.referencesFunction=function(c,f){let l=!1;const g=f.toLowerCase();B(c,X=>l?!1:"CallExpression"===X.type&&"Identifier"===X.callee.type&&X.callee.name&&X.callee.name.toLowerCase()===g?(l=!0,!1):!0);return l};C.referencesMember=d;C.scriptUsesFeatureSet=function(c){c=u(c);for(let f=0;f<c.length;f++)if(-1<L.indexOf(c[f]))return!0;return!1};
C.testValidityOfExpression=r;C.validateFunction=q;C.validateLanguage=function(c){return"BlockStatement"!==c.body[0].body.type?"Invalid formula content.":D(c.body[0].body)};C.validateLanguageNode=D;C.validateScript=function(c,f,l="async",g=F){f={globalScope:b(f.vars,g,f.customFunctions,l),localScope:null};return r(c.body[0].body,f)};C.walk=B;Object.defineProperty(C,"__esModule",{value:!0})})},"esri/chunks/array":function(){define(["exports","../arcade/FunctionWrapper","../arcade/ImmutableArray","./languageUtils",
"../core/promiseUtils"],function(C,z,J,y,p){function B(r){function d(q,b){if(b instanceof z)return r.arcadeCustomFunctionHandler(b);if(b instanceof y.NativeFunction)return(...e)=>b.fn(q,{preparsed:!0,arguments:e});if(b instanceof y.SizzleFunction)return(...e)=>{if(e.length!==b.paramCount)throw Error("Invalid parameters");return b.fn(...e)};throw Error("Invalid Parameter");}function m(q){if(q instanceof J)return q.toArray();if(y.isArray(q))return q;throw Error("Invalid Parameter");}r.functions.array=
function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,1,2);e=y.toNumber(n[0]);if(isNaN(e)||!1===y.isInteger(e))throw Error("Invalid Parameter");n=y.defaultUndefined(n[1],null);e=Array(e);e.fill(n);return e})};r.functions.front=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,1,1);if(y.isImmutableArray(n[0])){if(0>=n[0].length())throw Error("Array is empty");return n[0].get(0)}if(y.isArray(n[0])){if(0>=n[0].length)throw Error("Array is empty");return n[0][0]}throw Error("Invalid Parameter");
})};r.functions.back=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,1,1);if(y.isImmutableArray(n[0])){if(0>=n[0].length())throw Error("Array is empty");return n[0].get(n[0].length()-1)}if(y.isArray(n[0])){if(0>=n[0].length)throw Error("Array is empty");return n[0][n[0].length-1]}throw Error("Invalid Parameter");})};r.functions.push=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,1,2);if(y.isArray(n[0]))return n[0][n[0].length]=n[1],n[0].length;throw Error("Invalid Parameter");
})};r.functions.pop=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,1,1);if(y.isArray(n[0])){if(0>=n[0].length)throw Error("Array is empty");e=n[0][n[0].length-1];--n[0].length;return e}throw Error("Invalid Parameter");})};r.functions.erase=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,2,2);if(y.isArray(n[0])){e=y.toNumber(n[1]);if(isNaN(e)||!1===y.isInteger(e))throw Error("Invalid Parameter");n=n[0];if(0>=n.length)throw Error("Array is empty");0>
e&&(e=n.length+e);if(0>e)throw Error("Element not found");if(e>=n.length)throw Error("Index is greater than array");n.splice(e,1);return y.voidOperation}throw Error("Invalid Parameter");})};r.functions.insert=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,3,3);if(y.isArray(n[0])){e=y.toNumber(n[1]);if(isNaN(e)||!1===y.isInteger(e))throw Error("Invalid Parameter");h=n[2];n=n[0];if(e>n.length)throw Error("Index is greater than array");if(0>e&&e<-1*n.length)throw Error("Index is greater than array");
if(e===n.length)return n[e]=h,y.voidOperation;n.splice(e,0,h);return y.voidOperation}throw Error("Invalid Parameter");})};r.functions.resize=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,2,3);if(y.isArray(n[0])){h=y.toNumber(n[1]);if(isNaN(h)||!1===y.isInteger(h))throw Error("Invalid Parameter");if(0>h)throw Error("Size cannot be negative");e=y.defaultUndefined(n[2],null);n=n[0];if(n.length>=h)return n.length=h,y.voidOperation;const x=n.length;n.length=h;for(h=x;h<n.length;h++)n[h]=
e;return y.voidOperation}throw Error("Invalid Parameter");})};r.functions.includes=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,2,2);if(y.isArray(n[0])){const x=n[1];return-1<n[0].findIndex(u=>y.equalityTest(u,x))?!0:!1}if(y.isImmutableArray(n[0])){const x=n[1];return-1<n[0].toArray().findIndex(u=>y.equalityTest(u,x))?!0:!1}throw Error("Invalid Parameter");})};r.functions.slice=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,1,3);if(y.isArray(n[0])){e=
y.toNumber(y.defaultUndefined(n[1],0));h=y.toNumber(y.defaultUndefined(n[2],n[0].length));if(isNaN(e)||!1===y.isInteger(e))throw Error("Invalid Parameter");if(isNaN(h)||!1===y.isInteger(h))throw Error("Invalid Parameter");return n[0].slice(e,h)}if(y.isImmutableArray(n[0])){e=n[0];h=y.toNumber(y.defaultUndefined(n[1],0));n=y.toNumber(y.defaultUndefined(n[2],e.length()));if(isNaN(h)||!1===y.isInteger(h))throw Error("Invalid Parameter");if(isNaN(n)||!1===y.isInteger(n))throw Error("Invalid Parameter");
return e.toArray().slice(h,n)}throw Error("Invalid Parameter");})};r.functions.splice=function(q,b){return r.standardFunction(q,b,function(e,h,n){e=[];for(h=0;h<n.length;h++)y.isArray(n[h])?e.push(...n[h]):y.isImmutableArray(n[h])?e.push(...n[h].toArray()):e.push(n[h]);return e})};"sync"===r.mode&&(r.functions.any=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,2,2);e=d(q,n[1]);n=m(n[0]);for(const x of n)if(n=e(x),y.isBoolean(n)&&!0===n)return!0;return!1})},r.functions.all=
function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,2,2);e=d(q,n[1]);n=m(n[0]);for(const x of n)if(!0!==e(x))return!1;return!0})},r.functions.none=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,2,2);e=d(q,n[1]);n=m(n[0]);for(const x of n)if(!0===e(x))return!1;return!0})},r.functions.reduce=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,2,3);const x=d(q,n[1]);e=m(n[0]);return 2===n.length?0===e.length?null:e.reduce((u,F)=>{u=x(u,
F);return u=void 0!==u&&u!==y.voidOperation?u:null}):e.reduce((u,F)=>{u=x(u,F);return u=void 0!==u&&u!==y.voidOperation?u:null},n[2])})},r.functions.map=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,2,2);e=d(q,n[1]);h=m(n[0]);n=[];for(const x of h)h=e(x),void 0!==h&&h!==y.voidOperation?n.push(h):n.push(null);return n})},r.functions.filter=function(q,b){return r.standardFunction(q,b,function(e,h,n){y.pcCheck(n,2,2);e=d(q,n[1]);n=m(n[0]);h=[];for(const x of n)!0===e(x)&&h.push(x);
return h})});"async"===r.mode&&(r.functions.any=function(q,b){return r.standardFunctionAsync(q,b,function(e,h,n){y.pcCheck(n,2,2);const x=d(q,n[1]);var u=!1;return m(n[0]).reduce((F,L,E)=>F.then(c=>{0<E&&!0===c&&(u=!0);if(!0===u)return p.resolve(!0);c=x(L);return p.isPromiseLike(c)?c:p.resolve(c)}),Promise.resolve(!1)).then(F=>{!0===F&&(u=!0);return u})})},r.functions.all=function(q,b){return r.standardFunctionAsync(q,b,function(e,h,n){y.pcCheck(n,2,2);const x=d(q,n[1]);var u=!0;return m(n[0]).reduce((F,
L,E)=>F.then(c=>{0<E&&!0!==c&&(u=!1);if(!1===u)return p.resolve(!1);c=x(L);return p.isPromiseLike(c)?c:p.resolve(c)}),Promise.resolve(!0)).then(F=>{!0!==F&&(u=!1);return u})})},r.functions.none=function(q,b){return r.standardFunctionAsync(q,b,function(e,h,n){y.pcCheck(n,2,2);const x=d(q,n[1]);var u=!0;return m(n[0]).reduce((F,L,E)=>F.then(c=>{0<E&&!0===c&&(u=!1);if(!1===u)return p.resolve(!0);c=x(L);return p.isPromiseLike(c)?c:p.resolve(c)}),Promise.resolve(!1)).then(F=>{!0===F&&(u=!1);return u})})},
r.functions.filter=function(q,b){return r.standardFunctionAsync(q,b,function(e,h,n){y.pcCheck(n,2,2);const x=d(q,n[1]),u=m(n[0]),F=[];return u.reduce((L,E,c)=>L.then(f=>{0<c&&!0===f&&F.push(u[c-1]);f=x(E);return p.isPromiseLike(f)?f:p.resolve(f)}),Promise.resolve(!1)).then(L=>{!0===L&&0<u.length&&F.push(u[u.length-1]);return F})})},r.functions.reduce=function(q,b){return r.standardFunctionAsync(q,b,function(e,h,n){y.pcCheck(n,2,3);const x=d(q,n[1]);e=m(n[0]);h=null;if(2<n.length)n=y.defaultUndefined(n[2],
null),h=e.reduce((u,F)=>u.then(L=>{if(void 0===L||L===y.voidOperation)L=null;L=x(L,F);return p.isPromiseLike(L)?L:p.resolve(L)}),Promise.resolve(n));else{if(0===e.length)return null;h=e.reduce((u,F,L)=>1>=L?(u=x(u,F),p.isPromiseLike(u)?u:p.resolve(u)):u.then(E=>{if(void 0===E||E===y.voidOperation)E=null;E=x(E,F);return p.isPromiseLike(E)?E:p.resolve(E)}))}return h.then(u=>void 0!==u&&u!==y.voidOperation?u:null)})},r.functions.map=function(q,b){return r.standardFunctionAsync(q,b,function(e,h,n){y.pcCheck(n,
2,2);const x=d(q,n[1]),u=m(n[0]);var F=[];return u.reduce((L,E,c)=>L.then(f=>{0<c&&(void 0!==f&&f!==y.voidOperation?F.push(f):F.push(null));f=x(E);return p.isPromiseLike(f)?f:p.resolve(f)}),Promise.resolve()).then(L=>{0<u.length&&(void 0!==L&&L!==y.voidOperation?F.push(L):F.push(null));return F})})})}const D=Object.freeze({__proto__:null,registerFunctions:B});C.ArrayFunctions=D;C.registerFunctions=B})},"esri/arcade/functions/date":function(){define(["exports","../../chunks/languageUtils","../../intl/locale",
"../../chunks/datetime"],function(C,z,J,y){function p(m){m=new Date(m.getTime());const q=m.getFullYear();var b=new Date(0);b.setFullYear(q+1,0,4);b.setHours(0,0,0,0);b=B(b);var e=new Date(0);e.setFullYear(q,0,4);e.setHours(0,0,0,0);e=B(e);return m.getTime()>=b.getTime()?q+1:m.getTime()>=e.getTime()?q:q-1}function B(m){m=new Date(m.getTime());var q=m.getDay();q=(1>q?7:0)+q-1;m.setDate(m.getDate()-q);m.setHours(0,0,0,0);return m}function D(m){return null===m?m:isNaN(m.getTime())?null:m}const r=[0,31,
59,90,120,151,181,212,243,273,304,334],d=[0,31,60,91,121,152,182,213,244,274,305,335];C.registerFunctions=function(m,q){m.today=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,0,0);h=new Date;h.setHours(0,0,0,0);return h})};m.now=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,0,0);return new Date})};m.timestamp=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,0,0);h=new Date;return h=new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),
h.getUTCSeconds(),h.getUTCMilliseconds())})};m.toutc=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);return null===h?null:new Date(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate(),h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds())})};m.tolocal=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);return null===h?null:y.DateTime.utc(h.getFullYear(),h.getMonth()+1,h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()).toJSDate()})};
m.day=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);return null===h?NaN:h.getDate()})};m.month=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);return null===h?NaN:h.getMonth()})};m.year=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);return null===h?NaN:h.getFullYear()})};m.hour=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);return null===h?NaN:h.getHours()})};m.second=function(b,
e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);return null===h?NaN:h.getSeconds()})};m.millisecond=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);return null===h?NaN:h.getMilliseconds()})};m.minute=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);return null===h?NaN:h.getMinutes()})};m.week=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,2);h=z.toDate(x[0]);if(null===h)return NaN;x=z.toNumber(z.defaultUndefined(x[1],
0));if(0>x||6<x)throw Error("Invalid Parameter");n=h.getDate();var u=h.getMonth();const F=h.getFullYear();h=h.getDay();n=n+(0!==F%4||0===F%100&&0!==F%400?r:d)[u]-1;u=Math.floor(n/7);return h-x+(0>h-x?7:0)<n-7*u?u+1:u})};m.weekday=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);return null===h?NaN:h.getDay()})};m.isoweekday=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);if(null===h)return NaN;h=h.getDay();0===h&&(h=7);return h})};m.isomonth=
function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);return null===h?NaN:h.getMonth()+1})};m.isoweek=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);n=z.toDate(x[0]);if(null===n)return NaN;h=B(n).getTime();n=p(n);x=new Date(0);x.setFullYear(n,0,4);x.setHours(0,0,0,0);n=B(x);h-=n.getTime();return Math.round(h/6048E5)+1})};m.isoyear=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,1,1);h=z.toDate(x[0]);return null===h?NaN:p(h)})};m.date=function(b,e){return q(b,
e,function(h,n,x){z.pcCheck(x,0,7);if(3===x.length)return D(new Date(z.toNumber(x[0]),z.toNumber(x[1]),z.toNumber(x[2]),0,0,0,0));if(4===x.length)return D(new Date(z.toNumber(x[0]),z.toNumber(x[1]),z.toNumber(x[2]),z.toNumber(x[3]),0,0,0));if(5===x.length)return D(new Date(z.toNumber(x[0]),z.toNumber(x[1]),z.toNumber(x[2]),z.toNumber(x[3]),z.toNumber(x[4]),0,0));if(6===x.length)return D(new Date(z.toNumber(x[0]),z.toNumber(x[1]),z.toNumber(x[2]),z.toNumber(x[3]),z.toNumber(x[4]),z.toNumber(x[5]),
0));if(7===x.length)return D(new Date(z.toNumber(x[0]),z.toNumber(x[1]),z.toNumber(x[2]),z.toNumber(x[3]),z.toNumber(x[4]),z.toNumber(x[5]),z.toNumber(x[6])));if(2===x.length){h=z.toString(x[1]);if(""===h)return null;h=z.standardiseDateFormat(h);x="X"===h?y.DateTime.fromSeconds(z.toNumber(x[0])):"x"===h?y.DateTime.fromMillis(z.toNumber(x[0])):y.DateTime.fromFormat(z.toString(x[0]),h,{locale:J.getLocale(),numberingSystem:"latn"});return x.isValid?x.toJSDate():null}if(1===x.length){if(z.isString(x[0])){if(""===
x[0].replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))return null;if(!0===/^[0-9][0-9][0-9][0-9]$/.test(x[0]))return z.toDate(x[0]+"-01-01")}h=z.toNumber(x[0]);return!1===isNaN(h)?D(new Date(h)):z.toDate(x[0])}if(0===x.length)return new Date})};m.datediff=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,2,3);h=z.toDateTime(x[0]);n=z.toDateTime(x[1]);if(null===h||null===n)return NaN;switch(z.toString(x[2]).toLowerCase()){case "days":case "day":case "d":return h.diff(n,"days").days;case "months":case "month":return h.diff(n,
"months").months;case "minutes":case "minute":case "m":return"M"===x[2]?h.diff(n,"months").months:h.diff(n,"minutes").minutes;case "seconds":case "second":case "s":return h.diff(n,"seconds").seconds;case "milliseconds":case "millisecond":case "ms":return h.diff(n).milliseconds;case "hours":case "hour":case "h":return h.diff(n,"hours").hours;case "years":case "year":case "y":return h.diff(n,"years").years;default:return h.diff(n).milliseconds}})};m.dateadd=function(b,e){return q(b,e,function(h,n,x){z.pcCheck(x,
2,3);h=z.toDateTime(x[0]);if(null===h)return null;n=z.toNumber(x[1]);if(isNaN(n))return h.toJSDate();let u="milliseconds";switch(z.toString(x[2]).toLowerCase()){case "days":case "day":case "d":u="days";n=z.absRound(n);break;case "months":case "month":u="months";n=z.absRound(n);break;case "minutes":case "minute":case "m":u="M"===x[2]?"months":"minutes";break;case "seconds":case "second":case "s":u="seconds";break;case "milliseconds":case "millisecond":case "ms":u="milliseconds";break;case "hours":case "hour":case "h":u=
"hours";break;case "years":case "year":case "y":u="years"}return h.plus({[u]:n}).toJSDate()})}};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/functions/geometry":function(){define("exports ../Dictionary ../Feature ../ImmutablePointArray ../../chunks/languageUtils ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ./centroid ../../geometry/support/jsonUtils ../../geometry/support/coordsUtils".split(" "),
function(C,z,J,y,p,B,D,r,d,m,q,b,e,h){function n(x){return x&&"esri.arcade.Feature"===x.arcadeDeclaredClass}C.registerFunctions=function(x,u){x.ringisclockwise=function(F,L){return u(F,L,function(E,c,f){p.pcCheck(f,1,1);E=[];let l=c=!1;if(null===f[0])return!1;if(p.isArray(f[0])){for(const g of f[0])if(g instanceof d)E.push(g.hasZ?g.hasM?[g.x,g.y,g.z,g.m]:[g.x,g.y,g.z]:[g.x,g.y]);else throw Error("Invalid Argument");0<E.length&&(c=f[0][0].hasZ,l=f[0][0].hasM)}else if(f[0]instanceof y)E=f[0]._elements,
0<E.length&&(c=f[0]._hasZ,l=f[0]._hasM);else if(p.isImmutableArray(f[0])){for(const g of f[0].toArray())if(g instanceof d)E.push(g.hasZ?g.hasM?[g.x,g.y,g.z,g.m]:[g.x,g.y,g.z]:[g.x,g.y]);else throw Error("Invalid Argument");0<E.length&&(c=f[0].get(0).hasZ,l=f[0].get(0).hasM)}else throw Error("Invalid Argument");return 3>E.length?!1:h.isClockwise(E,l,c)})};x.polygon=function(F,L){return u(F,L,function(E,c,f){p.pcCheck(f,1,1);E=null;if(f[0]instanceof z){if(E=p.fixSpatialReference(J.parseGeometryFromDictionary(f[0]),
F.spatialReference),!1===E instanceof m)throw Error("Illegal Parameter");}else E=f[0]instanceof m?e.fromJSON(f[0].toJSON()):p.fixSpatialReference(new m(JSON.parse(f[0])),F.spatialReference);if(null!==E&&!1===E.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return p.fixNullGeometry(E)})};x.polyline=function(F,L){return u(F,L,function(E,c,f){p.pcCheck(f,1,1);E=null;if(f[0]instanceof z){if(E=p.fixSpatialReference(J.parseGeometryFromDictionary(f[0]),
F.spatialReference),!1===E instanceof q)throw Error("Illegal Parameter");}else E=f[0]instanceof q?e.fromJSON(f[0].toJSON()):p.fixSpatialReference(new q(JSON.parse(f[0])),F.spatialReference);if(null!==E&&!1===E.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return p.fixNullGeometry(E)})};x.point=function(F,L){return u(F,L,function(E,c,f){p.pcCheck(f,1,1);E=null;if(f[0]instanceof z){if(E=p.fixSpatialReference(J.parseGeometryFromDictionary(f[0]),
F.spatialReference),!1===E instanceof d)throw Error("Illegal Parameter");}else E=f[0]instanceof d?e.fromJSON(f[0].toJSON()):p.fixSpatialReference(new d(JSON.parse(f[0])),F.spatialReference);if(null!==E&&!1===E.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return p.fixNullGeometry(E)})};x.multipoint=function(F,L){return u(F,L,function(E,c,f){p.pcCheck(f,1,1);E=null;if(f[0]instanceof z){if(E=
p.fixSpatialReference(J.parseGeometryFromDictionary(f[0]),F.spatialReference),!1===E instanceof r)throw Error("Illegal Parameter");}else E=f[0]instanceof r?e.fromJSON(f[0].toJSON()):p.fixSpatialReference(new r(JSON.parse(f[0])),F.spatialReference);if(null!==E&&!1===E.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return p.fixNullGeometry(E)})};x.extent=function(F,L){return u(F,L,function(E,
c,f){f=p.autoCastFeatureToGeometry(f);p.pcCheck(f,1,1);E=null;f[0]instanceof z?E=p.fixSpatialReference(J.parseGeometryFromDictionary(f[0]),F.spatialReference):f[0]instanceof d?(E={xmin:f[0].x,ymin:f[0].y,xmax:f[0].x,ymax:f[0].y,spatialReference:f[0].spatialReference.toJSON()},f=f[0],f.hasZ?(E.zmin=f.z,E.zmax=f.z):f.hasM&&(E.mmin=f.m,E.mmax=f.m),E=e.fromJSON(E)):E=f[0]instanceof m?e.fromJSON(f[0].extent.toJSON()):f[0]instanceof q?e.fromJSON(f[0].extent.toJSON()):f[0]instanceof r?e.fromJSON(f[0].extent.toJSON()):
f[0]instanceof B?e.fromJSON(f[0].toJSON()):p.fixSpatialReference(new B(JSON.parse(f[0])),F.spatialReference);if(null!==E&&!1===E.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return p.fixNullGeometry(E)})};x.geometry=function(F,L){return u(F,L,function(E,c,f){p.pcCheck(f,1,1);E=null;if(null===f[0])return null;E=n(f[0])?p.fixSpatialReference(f[0].geometry(),F.spatialReference):f[0]instanceof
z?p.fixSpatialReference(J.parseGeometryFromDictionary(f[0]),F.spatialReference):p.fixSpatialReference(e.fromJSON(JSON.parse(f[0])),F.spatialReference);if(null!==E&&!1===E.spatialReference.equals(F.spatialReference))throw Error("Cannot create Geometry in this SpatialReference. Engine is using a different spatial reference.");return p.fixNullGeometry(E)})};x.setgeometry=function(F,L){return u(F,L,function(E,c,f){p.pcCheck(f,2,2);if(n(f[0])){if(!0===f[0].immutable)throw Error("Feature is Immutable");
if(f[1]instanceof D||null===f[1])f[0]._geometry=f[1];else throw Error("Illegal Argument");}else throw Error("Illegal Argument");return p.voidOperation})};x.feature=function(F,L){return u(F,L,function(E,c,f){if(0===f.length)throw Error("Missing Parameters");E=null;if(1===f.length)if(p.isString(f[0]))E=J.fromJson(JSON.parse(f[0]));else if(n(f[0]))E=J.createFromArcadeFeature(f[0]);else if(f[0]instanceof D)E=J.createFromGraphicLikeObject(f[0],null,null);else if(f[0]instanceof z)E=f[0].hasField("geometry")?
f[0].field("geometry"):null,f=f[0].hasField("attributes")?f[0].field("attributes"):null,null!==E&&E instanceof z&&(E=J.parseGeometryFromDictionary(E)),null!==f&&(f=J.parseAttributesFromDictionary(f)),E=J.createFromGraphicLikeObject(E,f,null);else throw Error("Illegal Argument");else if(2===f.length){c=E=null;if(null!==f[0])if(f[0]instanceof D)E=f[0];else if(E instanceof z)E=J.parseGeometryFromDictionary(f[0]);else throw Error("Illegal Argument");if(null!==f[1])if(f[1]instanceof z)c=J.parseAttributesFromDictionary(f[1]);
else throw Error("Illegal Argument");E=J.createFromGraphicLikeObject(E,c,null)}else{E=null;c={};if(null!==f[0])if(f[0]instanceof D)E=f[0];else if(E instanceof z)E=J.parseGeometryFromDictionary(f[0]);else throw Error("Illegal Argument");for(let l=1;l<f.length;l+=2){const g=p.toString(f[l]),X=f[l+1];if(null===X||void 0===X||p.isString(X)||isNaN(X)||p.isDate(X)||p.isNumber(X)||p.isBoolean(X)){if(p.isFunctionParameter(X)||!1===p.isSimpleType(X))throw Error("Illegal Argument");c[g]=X===p.voidOperation?
null:X}else throw Error("Illegal Argument");}E=J.createFromGraphicLikeObject(E,c,null)}E._geometry=p.fixSpatialReference(E.geometry(),F.spatialReference);E.immutable=!1;return E})};x.dictionary=function(F,L){return u(F,L,function(E,c,f){if(0===f.length)return f=new z,f.immutable=!1,f;if(1===f.length&&p.isString(f[0]))try{var l=JSON.parse(f[0]),g=z.convertObjectToArcadeDictionary(l,!1);g.immutable=!1;return g}catch(X){throw Error("Missing Parameters or Illegal Json");}if(0!==f.length%2)throw Error("Missing Parameters");
E={};for(c=0;c<f.length;c+=2)if(l=p.toString(f[c]),g=f[c+1],null===g||void 0===g||p.isString(g)||isNaN(g)||p.isDate(g)||p.isNumber(g)||p.isBoolean(g)||p.isArray(g)||p.isImmutableArray(g)){if(p.isFunctionParameter(g))throw Error("Illegal Argument");E[l]=g===p.voidOperation?null:g}else throw Error("Illegal Argument");f=new z(E);f.immutable=!1;return f})};x.haskey=function(F,L){return u(F,L,function(E,c,f){p.pcCheck(f,2,2);E=p.toString(f[1]);if(n(f[0])||f[0]instanceof z)return f[0].hasField(E);throw Error("Illegal Argument");
})};x.indexof=function(F,L){return u(F,L,function(E,c,f){p.pcCheck(f,2,2);E=f[1];if(p.isArray(f[0])){for(c=0;c<f[0].length;c++)if(p.equalityTest(E,f[0][c]))return c;return-1}if(p.isImmutableArray(f[0])){c=f[0].length();for(let l=0;l<c;l++)if(p.equalityTest(E,f[0].get(l)))return l;return-1}throw Error("Illegal Argument");})};x.angle=function(F,L){return u(F,L,function(E,c,f){f=p.autoCastFeatureToGeometry(f);p.pcCheck(f,2,3);if(!(f[0]instanceof d))throw Error("Illegal Argument");if(!(f[1]instanceof
d))throw Error("Illegal Argument");if(2<f.length&&!(f[2]instanceof d))throw Error("Illegal Argument");return 2===f.length?b.angle2D(f[0],f[1]):b.angleBetween2D(f[0],f[1],f[2])})};x.bearing=function(F,L){return u(F,L,function(E,c,f){f=p.autoCastFeatureToGeometry(f);p.pcCheck(f,2,3);if(!(f[0]instanceof d))throw Error("Illegal Argument");if(!(f[1]instanceof d))throw Error("Illegal Argument");if(2<f.length&&!(f[2]instanceof d))throw Error("Illegal Argument");return 2===f.length?b.bearing2D(f[0],f[1]):
b.bearingBetween2D(f[0],f[1],f[2])})};x.isselfintersecting=function(F,L){return u(F,L,function(E,c,f){f=p.autoCastFeatureToGeometry(f);p.pcCheck(f,1,1);E=f[0];if(E instanceof m)return E.isSelfIntersecting;if(E instanceof q)return E=E.paths,b.pathsSelfIntersecting(E);if(E instanceof r)for(c=E.points,f=0;f<c.length;f++)for(let l=0;l<c.length;l++)if(l!==f){let g=!0;for(let X=0;X<c[f].length;X++)if(c[f][X]!==c[l][X]){g=!1;break}if(!0===g)return!0}return p.isArray(E)||p.isImmutableArray(E)?(E=p.autoCastArrayOfPointsToPolyline(E,
F.spatialReference),null!==E&&(E=E.paths),b.pathsSelfIntersecting(E)):!1})}};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/functions/centroid":function(){define(["exports","../../geometry/Point","../../geometry/support/intersectsBase"],function(C,z,J){function y(b,e,h){const n={x:0,y:0};e&&(n.z=0);h&&(n.m=0);let x=0;var u=b[0];for(let f=0;f<b.length;f++){const l=b[f];a:if(l.length!==u.length)var F=!1;else{for(F=0;F<l.length;F++)if(l[F]!==u[F]){F=!1;break a}F=!0}if(!1===F){F=p(u,
l,e);{var L=l,E=e,c=h;const g={x:(u[0]+L[0])/2,y:(u[1]+L[1])/2};E&&(g.z=(u[2]+L[2])/2);E&&c?g.m=(u[3]+L[3])/2:c&&(g.m=(u[2]+L[2])/2);u=g}u.x*=F;u.y*=F;n.x+=u.x;n.y+=u.y;e&&(u.z*=F,n.z+=u.z);h&&(u.m*=F,n.m+=u.m);x+=F;u=l}}0<x?(n.x/=x,n.y/=x,e&&(n.z/=x),h&&(n.m/=x)):(n.x=b[0][0],n.y=b[0][1],e&&(n.z=b[0][2]),h&&e?n.m=b[0][3]:h&&(n.m=b[0][2]));return n}function p(b,e,h){const n=e[0]-b[0];b=e[1]-b[1];return h?(e=e[2]-e[2],Math.sqrt(n*n+b*b+e*e)):Math.sqrt(n*n+b*b)}function B(b,e,h=0){for(;b<h;)b+=e;for(h+=
e;b>=h;)b-=e;return b}function D(b,e){return Math.atan2(e.y-b.y,e.x-b.x)}function r(b,e,h){var n=b.x-e.x;b=b.y-e.y;var x=h.x-e.x;e=h.y-e.y;return Math.atan2(n*e-x*b,n*x+b*e)}const d=[];for(const b of[[9002,56146130,6131,6132,8050,8051,8228],[9003,5702,6358,6359,6360,8052,8053],[9095,5754]]){const e=b[0];for(let h=1;h<b.length;h++)d[b[h]]=e}const m=[];m[9002]=.3048;m[9003]=.3048006096012192;m[9095]=.3048007491;const q=[0,0];C.angle2D=function(b,e){return B(D(b,e),2*Math.PI)*(180/Math.PI)};C.angleBetween2D=
function(b,e,h){return B(r(b,e,h),2*Math.PI)*(180/Math.PI)};C.angleBetweenRad=r;C.angleRad=D;C.bearing2D=function(b,e){return B(Math.PI/2-D(b,e),2*Math.PI)*(180/Math.PI)};C.bearingBetween2D=function(b,e,h){return B(-1*r(b,e,h),2*Math.PI)*(180/Math.PI)};C.centroidMultiPoint=function(b){if(0===b.points.length)return null;var e=0;let h=0,n=0,x=0;for(let u=0;u<b.points.length;u++){const F=b.getPoint(u);!0===F.hasZ&&(n+=F.z);!0===F.hasM&&(x+=F.m);e+=F.x;h+=F.y;x+=F.m}e={x:e/b.points.length,y:h/b.points.length,
spatialReference:null};e.spatialReference=b.spatialReference.toJSON();!0===b.hasZ&&(e.z=n/b.points.length);!0===b.hasM&&(e.m=x/b.points.length);return new z(e)};C.centroidPolyline=function(b){const e={x:0,y:0,spatialReference:b.spatialReference.toJSON()},h={x:0,y:0,spatialReference:b.spatialReference.toJSON()};let n=0,x=0;for(let L=0;L<b.paths.length;L++)if(0!==b.paths[L].length){a:{var u=b.paths[L];var F=!0===b.hasZ;if(1>=u.length){u=0;break a}let E=0;for(let c=1;c<u.length;c++)E+=p(u[c-1],u[c],
F);u=E}0===u?(u=y(b.paths[L],!0===b.hasZ,!0===b.hasM),e.x+=u.x,e.y+=u.y,!0===b.hasZ&&(e.z+=u.z),!0===b.hasM&&(e.m+=u.m),++n):(F=y(b.paths[L],!0===b.hasZ,!0===b.hasM),h.x+=F.x*u,h.y+=F.y*u,!0===b.hasZ&&(h.z+=F.z*u),!0===b.hasM&&(h.m+=F.m*u),x+=u)}return 0<x?(h.x/=x,h.y/=x,!0===b.hasZ&&(h.z/=x),!0===b.hasM&&(h.m/=x),new z(h)):0<n?(e.x/=n,e.y/=n,!0===b.hasZ&&(h.z/=n),!0===b.hasM&&(e.m/=n),new z(e)):null};C.getMetersPerVerticalUnitForSR=function(b){return b.vcsWkid&&void 0!==d[b.vcsWkid]?m[d[b.vcsWkid]]:
b.latestVcsWkid&&void 0!==d[b.latestVcsWkid]?m[d[b.latestVcsWkid]]:1};C.pathsSelfIntersecting=function(b){for(let E=0;E<b.length;E++){const c=b[E];for(var e=0;e<c.length-1;e++){var h=c[e],n=c[e+1];for(var x=E+1;x<b.length;x++)for(var u=0;u<b[x].length-1;u++){var F=b[x][u],L=b[x][u+1];if(J.segmentIntersects(h,n,F,L,q)&&!(q[0]===h[0]&&q[1]===h[1]||q[0]===F[0]&&q[1]===F[1]||q[0]===n[0]&&q[1]===n[1]||q[0]===L[0]&&q[1]===L[1]))return!0}}e=c.length;if(!(3>e))for(h=0;h<=e-2;h++)for(n=c[h],x=c[h+1],u=h+2;u<=
e-2;u++)if(F=c[u],L=c[u+1],J.segmentIntersects(n,x,F,L,q)&&!(q[0]===n[0]&&q[1]===n[1]||q[0]===F[0]&&q[1]===F[1]||q[0]===x[0]&&q[1]===x[1]||q[0]===L[0]&&q[1]===L[1]))return!0}return!1};C.segmentLength3d=function(b,e,h){return Math.sqrt((b[0]-e[0])**2+(b[1]-e[1])**2+(void 0!==b[2]&&void 0!==e[2]?(b[2]*h-e[2]*h)**2:0))};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/functions/geomsync":function(){define("exports ../../kernel ../kernel ../../chunks/languageUtils ./centroid ../../geometry/Extent ../../geometry/Geometry ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/support/jsonUtils ../../core/unitUtils".split(" "),
function(C,z,J,y,p,B,D,r,d,m,q,b,e){function h(u){return 0===z.version.indexOf("4.")?m.fromExtent(u):new m({spatialReference:u.spatialReference,rings:[[[u.xmin,u.ymin],[u.xmin,u.ymax],[u.xmax,u.ymax],[u.xmax,u.ymin],[u.xmin,u.ymin]]]})}function n(u,F){if("polygon"!==u.type&&"polyline"!==u.type&&"extent"!==u.type)return 0;var L=1;if(u.spatialReference.vcsWkid||u.spatialReference.latestVcsWkid){L=p.getMetersPerVerticalUnitForSR(u.spatialReference);var E=e.getMetersPerUnitForSR(u.spatialReference);L/=
E}E=0;if("polyline"===u.type)for(var c of u.paths)for(var f=1;f<c.length;f++)E+=p.segmentLength3d(c[f],c[f-1],L);else if("polygon"===u.type)for(f of u.rings){for(c=1;c<f.length;c++)E+=p.segmentLength3d(f[c],f[c-1],L);if(f[0][0]!==f[f.length-1][0]||f[0][1]!==f[f.length-1][1]||void 0!==f[0][2]&&f[0][2]!==f[f.length-1][2])E+=p.segmentLength3d(f[0],f[f.length-1],L)}else"extent"===u.type&&(E+=2*p.segmentLength3d([u.xmin,u.ymin,0],[u.xmax,u.ymin,0],L),E+=2*p.segmentLength3d([u.xmin,u.ymin,0],[u.xmin,u.ymax,
0],L),E=2*E+4*Math.abs(y.defaultUndefined(u.zmax,0)*L-y.defaultUndefined(u.zmin,0)*L));u=new q({hasZ:!1,hasM:!1,spatialReference:u.spatialReference,paths:[[0,0],[0,E]]});return x.planarLength(u,F)}let x=null;C.registerFunctions=function(u,F){function L(E){y.pcCheck(E,2,2);if(!(E[0]instanceof D&&E[1]instanceof D||E[0]instanceof D&&null===E[1]||E[1]instanceof D&&null===E[0]||null===E[0]&&null===E[1]))throw Error("Illegal Argument");}u.disjoint=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);
L(g);return null===g[0]||null===g[1]?!0:x.disjoint(g[0],g[1])})};u.intersects=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?!1:x.intersects(g[0],g[1])})};u.touches=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?!1:x.touches(g[0],g[1])})};u.crosses=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?!1:x.crosses(g[0],
g[1])})};u.within=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?!1:x.within(g[0],g[1])})};u.contains=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?!1:x.contains(g[0],g[1])})};u.overlaps=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?!1:x.overlaps(g[0],g[1])})};u.equals=function(E,c){return F(E,c,function(f,
l,g){y.pcCheck(g,2,2);return g[0]===g[1]?!0:g[0]instanceof D&&g[1]instanceof D?x.equals(g[0],g[1]):y.isDate(g[0])&&y.isDate(g[1])?g[0].getTime()===g[1].getTime():!1})};u.relate=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,3,3);if(g[0]instanceof D&&g[1]instanceof D)return x.relate(g[0],g[1],y.toString(g[2]));if(g[0]instanceof D&&null===g[1]||g[1]instanceof D&&null===g[0]||null===g[0]&&null===g[1])return!1;throw Error("Illegal Argument");})};u.intersection=
function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);L(g);return null===g[0]||null===g[1]?null:x.intersect(g[0],g[1])})};u.union=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);f=[];if(0===g.length)throw Error("Function called with wrong number of Parameters");if(1===g.length)if(y.isArray(g[0]))for(g=y.autoCastFeatureToGeometry(g[0]),l=0;l<g.length;l++){if(null!==g[l]){if(!(g[l]instanceof D))throw Error("Illegal Argument");f.push(g[l])}}else if(y.isImmutableArray(g[0]))for(g=
y.autoCastFeatureToGeometry(g[0].toArray()),l=0;l<g.length;l++){if(null!==g[l]){if(!(g[l]instanceof D))throw Error("Illegal Argument");f.push(g[l])}}else{if(g[0]instanceof D)return y.fixSpatialReference(J.cloneGeometry(g[0]),E.spatialReference);if(null===g[0])return null;throw Error("Illegal Argument");}else for(l=0;l<g.length;l++)if(null!==g[l]){if(!(g[l]instanceof D))throw Error("Illegal Argument");f.push(g[l])}return 0===f.length?null:x.union(f)})};u.difference=function(E,c){return F(E,c,function(f,
l,g){g=y.autoCastFeatureToGeometry(g);L(g);return null!==g[0]&&null===g[1]?J.cloneGeometry(g[0]):null===g[0]?null:x.difference(g[0],g[1])})};u.symmetricdifference=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);L(g);return null===g[0]&&null===g[1]?null:null===g[0]?J.cloneGeometry(g[1]):null===g[1]?J.cloneGeometry(g[0]):x.symmetricDifference(g[0],g[1])})};u.clip=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,2,2);if(!(g[1]instanceof
B)&&null!==g[1])throw Error("Illegal Argument");if(null===g[0])return null;if(!(g[0]instanceof D))throw Error("Illegal Argument");return null===g[1]?null:x.clip(g[0],g[1])})};u.cut=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,2,2);if(!(g[1]instanceof q)&&null!==g[1])throw Error("Illegal Argument");if(null===g[0])return[];if(!(g[0]instanceof D))throw Error("Illegal Argument");return null===g[1]?[J.cloneGeometry(g[0])]:x.cut(g[0],g[1])})};u.area=function(E,
c){return F(E,c,function(f,l,g){y.pcCheck(g,1,2);g=y.autoCastFeatureToGeometry(g);if(null===g[0])return 0;if(y.isArray(g[0])||y.isImmutableArray(g[0]))return f=y.autoCastArrayOfPointsToPolygon(g[0],E.spatialReference),null===f?0:x.planarArea(f,J.convertSquareUnitsToCode(y.defaultUndefined(g[1],-1)));if(!(g[0]instanceof D))throw Error("Illegal Argument");return x.planarArea(g[0],J.convertSquareUnitsToCode(y.defaultUndefined(g[1],-1)))})};u.areageodetic=function(E,c){return F(E,c,function(f,l,g){y.pcCheck(g,
1,2);g=y.autoCastFeatureToGeometry(g);if(null===g[0])return 0;if(y.isArray(g[0])||y.isImmutableArray(g[0]))return f=y.autoCastArrayOfPointsToPolygon(g[0],E.spatialReference),null===f?0:x.geodesicArea(f,J.convertSquareUnitsToCode(y.defaultUndefined(g[1],-1)));if(!(g[0]instanceof D))throw Error("Illegal Argument");return x.geodesicArea(g[0],J.convertSquareUnitsToCode(y.defaultUndefined(g[1],-1)))})};u.length=function(E,c){return F(E,c,function(f,l,g){y.pcCheck(g,1,2);g=y.autoCastFeatureToGeometry(g);
if(null===g[0])return 0;if(y.isArray(g[0])||y.isImmutableArray(g[0]))return f=y.autoCastArrayOfPointsToPolyline(g[0],E.spatialReference),null===f?0:x.planarLength(f,J.convertLinearUnitsToCode(y.defaultUndefined(g[1],-1)));if(!(g[0]instanceof D))throw Error("Illegal Argument");return x.planarLength(g[0],J.convertLinearUnitsToCode(y.defaultUndefined(g[1],-1)))})};u.length3d=function(E,c){return F(E,c,function(f,l,g){y.pcCheck(g,1,2);g=y.autoCastFeatureToGeometry(g);if(null===g[0])return 0;if(y.isArray(g[0])||
y.isImmutableArray(g[0]))return f=y.autoCastArrayOfPointsToPolyline(g[0],E.spatialReference),null===f?0:!0===f.hasZ?n(f,J.convertLinearUnitsToCode(y.defaultUndefined(g[1],-1))):x.planarLength(f,J.convertLinearUnitsToCode(y.defaultUndefined(g[1],-1)));if(!(g[0]instanceof D))throw Error("Illegal Argument");return!0===g[0].hasZ?n(g[0],J.convertLinearUnitsToCode(y.defaultUndefined(g[1],-1))):x.planarLength(g[0],J.convertLinearUnitsToCode(y.defaultUndefined(g[1],-1)))})};u.lengthgeodetic=function(E,c){return F(E,
c,function(f,l,g){y.pcCheck(g,1,2);g=y.autoCastFeatureToGeometry(g);if(null===g[0])return 0;if(y.isArray(g[0])||y.isImmutableArray(g[0]))return f=y.autoCastArrayOfPointsToPolyline(g[0],E.spatialReference),null===f?0:x.geodesicLength(f,J.convertLinearUnitsToCode(y.defaultUndefined(g[1],-1)));if(!(g[0]instanceof D))throw Error("Illegal Argument");return x.geodesicLength(g[0],J.convertLinearUnitsToCode(y.defaultUndefined(g[1],-1)))})};u.distance=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);
y.pcCheck(g,2,3);f=g[0];if(y.isArray(g[0])||y.isImmutableArray(g[0]))f=y.autoCastArrayOfPointsToMultiPoint(g[0],E.spatialReference);l=g[1];if(y.isArray(g[1])||y.isImmutableArray(g[1]))l=y.autoCastArrayOfPointsToMultiPoint(g[1],E.spatialReference);if(!(f instanceof D))throw Error("Illegal Argument");if(!(l instanceof D))throw Error("Illegal Argument");return x.distance(f,l,J.convertLinearUnitsToCode(y.defaultUndefined(g[2],-1)))})};u.distancegeodetic=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);
y.pcCheck(g,2,3);f=g[0];l=g[1];if(!(f instanceof d))throw Error("Illegal Argument");if(!(l instanceof d))throw Error("Illegal Argument");const X=new q({paths:[],spatialReference:f.spatialReference});X.addPath([f,l]);return x.geodesicLength(X,J.convertLinearUnitsToCode(y.defaultUndefined(g[2],-1)))})};u.densify=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,2,3);if(null===g[0])return null;if(!(g[0]instanceof D))throw Error("Illegal Argument");f=y.toNumber(g[1]);
if(isNaN(f))throw Error("Illegal Argument");if(0>=f)throw Error("Illegal Argument");return g[0]instanceof m||g[0]instanceof q?x.densify(g[0],f,J.convertLinearUnitsToCode(y.defaultUndefined(g[2],-1))):g[0]instanceof B?x.densify(h(g[0]),f,J.convertLinearUnitsToCode(y.defaultUndefined(g[2],-1))):g[0]})};u.densifygeodetic=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,2,3);if(null===g[0])return null;if(!(g[0]instanceof D))throw Error("Illegal Argument");f=y.toNumber(g[1]);
if(isNaN(f))throw Error("Illegal Argument");if(0>=f)throw Error("Illegal Argument");return g[0]instanceof m||g[0]instanceof q?x.geodesicDensify(g[0],f,J.convertLinearUnitsToCode(y.defaultUndefined(g[2],-1))):g[0]instanceof B?x.geodesicDensify(h(g[0]),f,J.convertLinearUnitsToCode(y.defaultUndefined(g[2],-1))):g[0]})};u.generalize=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,2,4);if(null===g[0])return null;if(!(g[0]instanceof D))throw Error("Illegal Argument");
f=y.toNumber(g[1]);if(isNaN(f))throw Error("Illegal Argument");return x.generalize(g[0],f,y.toBoolean(y.defaultUndefined(g[2],!0)),J.convertLinearUnitsToCode(y.defaultUndefined(g[3],-1)))})};u.buffer=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,2,3);if(null===g[0])return null;if(!(g[0]instanceof D))throw Error("Illegal Argument");f=y.toNumber(g[1]);if(isNaN(f))throw Error("Illegal Argument");return 0===f?J.cloneGeometry(g[0]):x.buffer(g[0],f,J.convertLinearUnitsToCode(y.defaultUndefined(g[2],
-1)))})};u.buffergeodetic=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,2,3);if(null===g[0])return null;if(!(g[0]instanceof D))throw Error("Illegal Argument");f=y.toNumber(g[1]);if(isNaN(f))throw Error("Illegal Argument");return 0===f?J.cloneGeometry(g[0]):x.geodesicBuffer(g[0],f,J.convertLinearUnitsToCode(y.defaultUndefined(g[2],-1)))})};u.offset=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,2,6);if(null===g[0])return null;
if(!(g[0]instanceof m||g[0]instanceof q))throw Error("Illegal Argument");f=y.toNumber(g[1]);if(isNaN(f))throw Error("Illegal Argument");l=y.toNumber(y.defaultUndefined(g[4],10));if(isNaN(l))throw Error("Illegal Argument");const X=y.toNumber(y.defaultUndefined(g[5],0));if(isNaN(X))throw Error("Illegal Argument");return x.offset(g[0],f,J.convertLinearUnitsToCode(y.defaultUndefined(g[2],-1)),y.toString(y.defaultUndefined(g[3],"round")).toLowerCase(),l,X)})};u.rotate=function(E,c){return F(E,c,function(f,
l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,2,3);f=g[0];if(null===f)return null;if(!(f instanceof D))throw Error("Illegal Argument");f instanceof B&&(f=m.fromExtent(f));l=y.toNumber(g[1]);if(isNaN(l))throw Error("Illegal Argument");g=y.defaultUndefined(g[2],null);if(null===g)return x.rotate(f,l);if(g instanceof d)return x.rotate(f,l,g);throw Error("Illegal Argument");})};u.centroid=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,1,1);if(null===g[0])return null;
f=g[0];if(y.isArray(g[0])||y.isImmutableArray(g[0]))f=y.autoCastArrayOfPointsToMultiPoint(g[0],E.spatialReference);if(null===f)return null;if(!(f instanceof D))throw Error("Illegal Argument");return f instanceof d?y.fixSpatialReference(J.cloneGeometry(g[0]),E.spatialReference):f instanceof m?f.centroid:f instanceof q?p.centroidPolyline(f):f instanceof r?p.centroidMultiPoint(f):f instanceof B?f.center:null})};u.multiparttosinglepart=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);
y.pcCheck(g,1,1);l=[];if(null===g[0])return null;if(!(g[0]instanceof D))throw Error("Illegal Argument");if(g[0]instanceof d||g[0]instanceof B)return[y.fixSpatialReference(J.cloneGeometry(g[0]),E.spatialReference)];f=x.simplify(g[0]);if(f instanceof m){g=[];l=[];for(var X=0;X<f.rings.length;X++)if(f.isClockwise(f.rings[X])){const ea=b.fromJSON({rings:[f.rings[X]],hasZ:!0===f.hasZ,hasM:!0===f.hasM,spatialReference:f.spatialReference.toJSON()});g.push(ea)}else l.push({ring:f.rings[X],pt:f.getPoint(X,
0)});for(f=0;f<l.length;f++)for(X=0;X<g.length;X++)if(g[X].contains(l[f].pt)){g[X].addRing(l[f].ring);break}return g}if(f instanceof q){g=[];for(l=0;l<f.paths.length;l++)X=b.fromJSON({paths:[f.paths[l]],hasZ:!0===f.hasZ,hasM:!0===f.hasM,spatialReference:f.spatialReference.toJSON()}),g.push(X);return g}if(g[0]instanceof r){f=y.fixSpatialReference(J.cloneGeometry(g[0]),E.spatialReference);for(g=0;g<f.points.length;g++)l.push(f.getPoint(g));return l}return null})};u.issimple=function(E,c){return F(E,
c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,1,1);if(null===g[0])return!0;if(!(g[0]instanceof D))throw Error("Illegal Argument");return x.isSimple(g[0])})};u.simplify=function(E,c){return F(E,c,function(f,l,g){g=y.autoCastFeatureToGeometry(g);y.pcCheck(g,1,1);if(null===g[0])return null;if(!(g[0]instanceof D))throw Error("Illegal Argument");return x.simplify(g[0])})}};C.setGeometryEngine=function(u){x=u};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/kernel":function(){define(["exports",
"../geometry/Extent"],function(C,z){C.cloneGeometry=function(J){if(null===J)return null;const y=J.clone();void 0!==J.cache._geVersion&&(y.cache._geVersion=J.cache._geVersion);return y};C.convertLinearUnitsToCode=function(J){if(void 0===J)return null;if("number"===typeof J)return J;J=J.toLowerCase();J=J.replace(/\s/g,"");J=J.replace(/-/g,"");switch(J){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 9001;case "miles":case "mile":case "squaremile":case "squaremiles":return 9035;
case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 9036;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 9096;case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 9002;case "nm":case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 9030}return null};C.convertSquareUnitsToCode=function(J){if(void 0===J)return null;if("number"===typeof J)return J;
J=J.toLowerCase();J=J.replace(/\s/g,"");J=J.replace(/-/g,"");switch(J){case "meters":case "meter":case "m":case "squaremeters":case "squaremeter":return 109404;case "miles":case "mile":case "squaremile":case "squaremiles":return 109413;case "kilometers":case "kilometer":case "squarekilometers":case "squarekilometer":case "km":return 109414;case "acres":case "acre":case "ac":return 109402;case "hectares":case "hectare":case "ha":return 109401;case "yard":case "yd":case "yards":case "squareyards":case "squareyard":return 109442;
case "feet":case "ft":case "foot":case "squarefeet":case "squarefoot":return 109405;case "nm":case "nmi":case "nauticalmile":case "nauticalmiles":case "squarenauticalmile":case "squarenauticalmiles":return 109409}return null};C.sameGeomType=function(J,y){return J===y||"point"===J&&"esriGeometryPoint"===y||"polyline"===J&&"esriGeometryPolyline"===y||"polygon"===J&&"esriGeometryPolygon"===y||"extent"===J&&"esriGeometryEnvelope"===y||"multipoint"===J&&"esriGeometryMultipoint"===y||"point"===y&&"esriGeometryPoint"===
J||"polyline"===y&&"esriGeometryPolyline"===J||"polygon"===y&&"esriGeometryPolygon"===J||"extent"===y&&"esriGeometryEnvelope"===J||"multipoint"===y&&"esriGeometryMultipoint"===J?!0:!1};C.shapeExtent=function(J){if(null===J)return null;switch(J.type){case "polygon":case "multipoint":case "polyline":return J.extent;case "point":return new z({xmin:J.x,ymin:J.y,xmax:J.x,ymax:J.y,spatialReference:J.spatialReference});case "extent":return J}return null};Object.defineProperty(C,"__esModule",{value:!0})})},
"esri/arcade/functions/maths":function(){define(["exports","../../chunks/languageUtils","../../core/number"],function(C,z,J){function y(p,B,D){if("undefined"===typeof D||0===+D)return Math[p](B);B=+B;D=+D;if(isNaN(B)||"number"!==typeof D||0!==D%1)return NaN;B=B.toString().split("e");B=Math[p](+(B[0]+"e"+(B[1]?+B[1]-D:-D)));B=B.toString().split("e");return+(B[0]+"e"+(B[1]?+B[1]+D:D))}C.registerFunctions=function(p,B){function D(r,d,m){r=z.toNumber(r);return isNaN(r)?r:isNaN(d)||isNaN(m)||d>m?NaN:r<
d?d:r>m?m:r}p.number=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,2);m=b[0];return z.isNumber(m)?m:null===m?0:z.isDate(m)||z.isBoolean(m)?Number(m):z.isArray(m)?NaN:""===m||void 0===m?Number(m):z.isString(m)?void 0!==b[1]?(b=z.multiReplace(b[1],"\u2030",""),b=z.multiReplace(b,"\u00a4",""),J.parse(m,{pattern:b})):Number(m.trim()):Number(m)})};p.abs=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,1);return Math.abs(z.toNumber(b[0]))})};p.acos=function(r,d){return B(r,d,function(m,
q,b){z.pcCheck(b,1,1);return Math.acos(z.toNumber(b[0]))})};p.asin=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,1);return Math.asin(z.toNumber(b[0]))})};p.atan=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,1);return Math.atan(z.toNumber(b[0]))})};p.atan2=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,2,2);return Math.atan2(z.toNumber(b[0]),z.toNumber(b[1]))})};p.ceil=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,2);return 2===b.length?(m=z.toNumber(b[1]),
isNaN(m)&&(m=0),y("ceil",z.toNumber(b[0]),-1*m)):Math.ceil(z.toNumber(b[0]))})};p.round=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,2);return 2===b.length?(m=z.toNumber(b[1]),isNaN(m)&&(m=0),y("round",z.toNumber(b[0]),-1*m)):Math.round(z.toNumber(b[0]))})};p.floor=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,2);return 2===b.length?(m=z.toNumber(b[1]),isNaN(m)&&(m=0),y("floor",z.toNumber(b[0]),-1*m)):Math.floor(z.toNumber(b[0]))})};p.cos=function(r,d){return B(r,d,function(m,
q,b){z.pcCheck(b,1,1);return Math.cos(z.toNumber(b[0]))})};p.isnan=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,1);return"number"===typeof b[0]&&isNaN(b[0])})};p.exp=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,1);return Math.exp(z.toNumber(b[0]))})};p.log=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,1);return Math.log(z.toNumber(b[0]))})};p.pow=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,2,2);return z.toNumber(b[0])**z.toNumber(b[1])})};p.random=function(r,
d){return B(r,d,function(m,q,b){z.pcCheck(b,0,0);return Math.random()})};p.sin=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,1);return Math.sin(z.toNumber(b[0]))})};p.sqrt=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,1);return Math.sqrt(z.toNumber(b[0]))})};p.tan=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,1);return Math.tan(z.toNumber(b[0]))})};p.defaultvalue=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,2,2);return null===b[0]||""===b[0]||void 0===b[0]?
b[1]:b[0]})};p.isempty=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,1);return null===b[0]||""===b[0]||void 0===b[0]?!0:!1})};p["boolean"]=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,1,1);return z.toBoolean(b[0])})};p.constrain=function(r,d){return B(r,d,function(m,q,b){z.pcCheck(b,3,3);m=z.toNumber(b[1]);q=z.toNumber(b[2]);if(z.isArray(b[0])){var e=[];for(var h of b[0])e.push(D(h,m,q));return e}if(z.isImmutableArray(b[0])){h=[];for(e=0;e<b[0].length();e++)h.push(D(b[0].get(e),
m,q));return h}return D(b[0],m,q)})}};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/functions/stats":function(){define(["exports","../../chunks/languageUtils","./fieldStats"],function(C,z,J){function y(p,B,D,r){if(1===r.length){if(z.isArray(r[0]))return J.calculateStat(p,r[0],-1);if(z.isImmutableArray(r[0]))return J.calculateStat(p,r[0].toArray(),-1)}return J.calculateStat(p,r,-1)}C.registerFunctions=function(p,B){p.stdev=function(D,r){return B(D,r,function(d,m,q){return y("stdev",
d,m,q)})};p.variance=function(D,r){return B(D,r,function(d,m,q){return y("variance",d,m,q)})};p.average=function(D,r){return B(D,r,function(d,m,q){return y("mean",d,m,q)})};p.mean=function(D,r){return B(D,r,function(d,m,q){return y("mean",d,m,q)})};p.sum=function(D,r){return B(D,r,function(d,m,q){return y("sum",d,m,q)})};p.min=function(D,r){return B(D,r,function(d,m,q){return y("min",d,m,q)})};p.max=function(D,r){return B(D,r,function(d,m,q){return y("max",d,m,q)})};p.distinct=function(D,r){return B(D,
r,function(d,m,q){return y("distinct",d,m,q)})};p.count=function(D,r){return B(D,r,function(d,m,q){z.pcCheck(q,1,1);if(z.isArray(q[0])||z.isString(q[0]))return q[0].length;if(z.isImmutableArray(q[0]))return q[0].length();throw Error("Invalid Parameters for Count");})}};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/functions/fieldStats":function(){define(["exports","../../chunks/languageUtils"],function(C,z){function J(p){let B=0;for(let D=0;D<p.length;D++)B+=p[D];return B/p.length}
function y(p){const B=J(p);let D=0;for(let r=0;r<p.length;r++)D+=(B-p[r])**2;return D/p.length}C.calculateStat=function(p,B,D=1E3){switch(p.toLowerCase()){case "distinct":a:{p=[];const r={},d=[];for(let m=0;m<B.length;m++){if(void 0!==B[m]&&null!==B[m]&&B[m]!==z.voidOperation){const q=B[m];if(z.isNumber(q)||z.isString(q))void 0===r[q]&&(p.push(q),r[q]=1);else{let b=!1;for(let e=0;e<d.length;e++)!0===z.equalityTest(d[e],q)&&(b=!0);!1===b&&(d.push(q),p.push(q))}}if(p.length>=D&&-1!==D){B=p;break a}}B=
p}return B;case "avg":case "mean":return J(z.toNumberArray(B));case "min":return Math.min.apply(Math,z.toNumberArray(B));case "sum":B=z.toNumberArray(B);D=0;for(p=0;p<B.length;p++)D+=B[p];return B=D;case "max":return Math.max.apply(Math,z.toNumberArray(B));case "stdev":case "stddev":return Math.sqrt(y(z.toNumberArray(B)));case "var":case "variance":return y(z.toNumberArray(B));case "count":return B.length}return 0};C.decodeStatType=function(p){switch(p.toLowerCase()){case "distinct":return"distinct";
case "avg":case "mean":return"avg";case "min":return"min";case "sum":return"sum";case "max":return"max";case "stdev":case "stddev":return"stddev";case "var":case "variance":return"var";case "count":return"count"}return""};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/functions/string":function(){define("exports ../ArcadePortal ../Attachment ../Dictionary ../../chunks/languageUtils ../featureset/support/shared ./convertdirection ./hash ../../geometry/Extent ../../geometry/Multipoint ../../geometry/Point ../../geometry/Polygon ../../geometry/Polyline ../../geometry/SpatialReference".split(" "),
function(C,z,J,y,p,B,D,r,d,m,q,b,e,h){function n(u,F){if(u.x===F.x&&u.y===F.y){if(u.hasZ){if(u.z!==F.z)return!1}else if(F.hasZ)return!1;if(u.hasM){if(u.m!==F.m)return!1}else if(F.hasM)return!1;return!0}return!1}function x(u,F,L){if(null===u)F.updateUint8Array([0,139]);else if(p.isArray(u)){F.updateUint8Array([61]);if(L.map.has(u))u=L.map.get(u),F.updateIntArray([u^61237541]);else{L.map.set(u,L.currentLength++);for(var E of u)x(E,F,L);L.map.delete(u);L.currentLength--}F.updateUint8Array([199])}else if(p.isImmutableArray(u)){F.updateUint8Array([61]);
if(L.map.has(u))u=L.map.get(u),F.updateIntArray([u^61237541]);else{L.map.set(u,L.currentLength++);for(var c of u.toArray())x(c,F,L);L.map.delete(u);L.currentLength--}F.updateUint8Array([199])}else if(p.isDate(u))F.updateIntArray([u.getTime()]),F.updateUint8Array([241]);else if(p.isString(u))F.updateIntArray([u.length]),F.updateWithString(u),F.updateUint8Array([41]);else if(p.isBoolean(u))F.updateUint8Array([!0===u?1:0,113]);else if(p.isNumber(u))F.updateFloatArray([u]),F.updateUint8Array([173]);else{if(u instanceof
J)throw Error("Type not supported in Hash");if(u instanceof z)throw Error("Type not supported in Hash");if(u instanceof y){F.updateUint8Array([223]);if(L.map.has(u))u=L.map.get(u),F.updateIntArray([u^61237541]);else{L.map.set(u,L.currentLength++);for(var f of u.keys())F.updateIntArray([f.length]),F.updateWithString(f),F.updateUint8Array([251]),E=u.field(f),x(E,F,L),F.updateUint8Array([239]);L.map.delete(u);L.currentLength--}F.updateUint8Array([73])}else{if(p.isFeature(u))throw Error("Type not supported in Hash");
if(u instanceof q)F.updateIntArray([3833836621]),F.updateIntArray([0]),F.updateFloatArray([u.x]),F.updateIntArray([1]),F.updateFloatArray([u.y]),u.hasZ&&(F.updateIntArray([2]),F.updateFloatArray([u.z])),u.hasM&&(F.updateIntArray([3]),F.updateFloatArray([u.m])),F.updateIntArray([3765347959]),x(u.spatialReference.wkid,F,L);else if(u instanceof b){F.updateIntArray([1266616829]);for(f=0;f<u.rings.length;f++){c=u.rings[f];E=[];var l=null;let g=null;for(let X=0;X<c.length;X++){const ea=u.getPoint(f,X);
if(0===X)l=ea;else if(n(g,ea))continue;g=ea;X===c.length-1&&n(l,ea)||E.push(ea)}F.updateIntArray([1397116793,E.length]);for(c=0;c<E.length;c++)l=E[c],F.updateIntArray([3962308117,c]),x(l,F,L),F.updateIntArray([2716288009]);F.updateIntArray([2278822459])}F.updateIntArray([3878477243]);x(u.spatialReference.wkid,F,L)}else if(u instanceof e){F.updateIntArray([4106883559]);for(f=0;f<u.paths.length;f++){E=u.paths[f];F.updateIntArray([1397116793,E.length]);for(c=0;c<E.length;c++)F.updateIntArray([3962308117,
c]),x(u.getPoint(f,c),F,L),F.updateIntArray([2716288009]);F.updateIntArray([2278822459])}F.updateIntArray([2568784753]);x(u.spatialReference.wkid,F,L)}else if(u instanceof m){F.updateIntArray([588535921,u.points.length]);for(f=0;f<u.points.length;f++)E=u.getPoint(f),F.updateIntArray([f]),x(E,F,L);F.updateIntArray([1700171621]);x(u.spatialReference.wkid,F,L)}else if(u instanceof d)F.updateIntArray([3483648373]),F.updateIntArray([0]),F.updateFloatArray([u.xmax]),F.updateIntArray([1]),F.updateFloatArray([u.xmin]),
F.updateIntArray([2]),F.updateFloatArray([u.ymax]),F.updateIntArray([3]),F.updateFloatArray([u.ymin]),u.hasZ&&(F.updateIntArray([4]),F.updateFloatArray([u.zmax]),F.updateIntArray([5]),F.updateFloatArray([u.zmin])),u.hasM&&(F.updateIntArray([6]),F.updateFloatArray([u.mmax]),F.updateIntArray([7]),F.updateFloatArray([u.mmin])),F.updateIntArray([3622027469]),x(u.spatialReference.wkid,F,L);else if(u instanceof h)F.updateIntArray([14]),void 0!==u.wkid&&null!==u.wkid&&F.updateIntArray([u.wkid]),u.wkt&&F.updateWithString(u.wkt);
else{if(p.isFunctionParameter(u))throw Error("Type not supported in Hash");if(p.isFeatureSet(u))throw Error("Type not supported in Hash");p.isFeatureSetCollection(u);throw Error("Type not supported in Hash");}}}}C.registerFunctions=function(u,F){u.portal=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,1);return new z(p.toString(l[0]))})};u.trim=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,1);return p.toString(l[0]).trim()})};u.tohex=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,
1,1);c=p.toNumber(l[0]);return isNaN(c)?c:c.toString(16)})};u.upper=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,1);return p.toString(l[0]).toUpperCase()})};u.proper=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,2);c=1;2===l.length&&"firstword"===p.toString(l[1]).toLowerCase()&&(c=2);f=/\s/;l=p.toString(l[0]);let g="",X=!0;for(let ea=0;ea<l.length;ea++){let Z=l[ea];f.test(Z)?1===c&&(X=!0):Z.toUpperCase()!==Z.toLowerCase()&&(X?(Z=Z.toUpperCase(),X=!1):Z=Z.toLowerCase());g+=Z}return g})};
u.lower=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,1);return p.toString(l[0]).toLowerCase()})};u.guid=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,0,1);if(0<l.length)switch(p.toString(l[0]).toLowerCase()){case "digits":return p.generateUUID().replace("-","").replace("-","").replace("-","").replace("-","");case "digits-hyphen":return p.generateUUID();case "digits-hyphen-parentheses":return"("+p.generateUUID()+")"}return"{"+p.generateUUID()+"}"})};u.console=function(L,E){return F(L,
E,function(c,f,l){0!==l.length&&(1===l.length?L.console(p.toString(l[0])):L.console(p.toString(l)));return p.voidOperation})};u.mid=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,2,3);c=p.toNumber(l[1]);if(isNaN(c))return"";0>c&&(c=0);if(2===l.length)return p.toString(l[0]).substr(c);f=p.toNumber(l[2]);if(isNaN(f))return"";0>f&&(f=0);return p.toString(l[0]).substr(c,f)})};u.find=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,2,3);c=0;if(2<l.length){c=p.toNumber(p.defaultUndefined(l[2],
0));if(isNaN(c))return-1;0>c&&(c=0)}return p.toString(l[1]).indexOf(p.toString(l[0]),c)})};u.left=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,2,2);c=p.toNumber(l[1]);if(isNaN(c))return"";0>c&&(c=0);return p.toString(l[0]).substr(0,c)})};u.right=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,2,2);c=p.toNumber(l[1]);if(isNaN(c))return"";0>c&&(c=0);return p.toString(l[0]).substr(-1*c,c)})};u.split=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,2,4);c=p.toNumber(p.defaultUndefined(l[2],
-1));f=p.toBoolean(p.defaultUndefined(l[3],!1));-1===c||null===c||!0===f?l=p.toString(l[0]).split(p.toString(l[1])):(isNaN(c)&&(c=-1),-1>c&&(c=-1),l=p.toString(l[0]).split(p.toString(l[1]),c));if(!1===f)return l;f=[];for(let g=0;g<l.length&&!(-1!==c&&f.length>=c);g++)""!==l[g]&&void 0!==l[g]&&f.push(l[g]);return f})};u.text=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,2);return p.toStringExplicit(l[0],l[1])})};u.concatenate=function(L,E){return F(L,E,function(c,f,l){c=[];if(1>l.length)return"";
if(p.isArray(l[0])){f=p.defaultUndefined(l[2],"");for(var g=0;g<l[0].length;g++)c[g]=p.toStringExplicit(l[0][g],f);return 1<l.length?c.join(l[1]):c.join("")}if(p.isImmutableArray(l[0])){f=p.defaultUndefined(l[2],"");for(g=0;g<l[0].length();g++)c[g]=p.toStringExplicit(l[0].get(g),f);return 1<l.length?c.join(l[1]):c.join("")}for(f=0;f<l.length;f++)c[f]=p.toStringExplicit(l[f]);return c.join("")})};u.reverse=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,1);if(p.isArray(l[0]))return c=l[0].slice(0),
c.reverse(),c;if(p.isImmutableArray(l[0]))return c=l[0].toArray().slice(0),c.reverse(),c;throw Error("Invalid Parameter");})};u.replace=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,3,4);c=p.toString(l[0]);f=p.toString(l[1]);const g=p.toString(l[2]);return(4===l.length?p.toBoolean(l[3]):1)?p.multiReplace(c,f,g):c.replace(f,g)})};u.schema=function(L,E){return F(L,E,function(c,f,l){if(p.isFeature(l[0]))return(c=p.featureSchema(l[0]))?y.convertObjectToArcadeDictionary(c):null;throw Error("Invalid Parameter");
})};u.subtypes=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,1);if(p.isFeature(l[0]))return(c=p.featureSubtypes(l[0]))?y.convertObjectToArcadeDictionary(c):null;throw Error("Invalid Parameter");})};u.subtypecode=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,1);if(p.isFeature(l[0])){c=p.featureSubtypes(l[0]);if(!c)return null;if(c.subtypeField&&l[0].hasField(c.subtypeField)){l=l[0].field(c.subtypeField);for(const g of c.subtypes)if(g.code===l)return g.code}return null}throw Error("Invalid Parameter");
})};u.subtypename=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,1);if(p.isFeature(l[0])){c=p.featureSubtypes(l[0]);if(!c)return"";if(c.subtypeField&&l[0].hasField(c.subtypeField)){l=l[0].field(c.subtypeField);for(const g of c.subtypes)if(g.code===l)return g.name}return""}throw Error("Invalid Parameter");})};u.gdbversion=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,1);if(p.isFeature(l[0]))return l[0].gdbVersion();throw Error("Invalid Parameter");})};u.domain=function(L,E){return F(L,
E,function(c,f,l){p.pcCheck(l,2,3);if(p.isFeature(l[0]))return(c=p.featureFullDomain(l[0],p.toString(l[1]),void 0===l[2]?void 0:p.toNumber(l[2])))&&c.domain?"coded-value"===c.domain.type||"codedValue"===c.domain.type?y.convertObjectToArcadeDictionary({type:"codedValue",name:c.domain.name,dataType:B.layerFieldEsriConstants[c.field.type],codedValues:c.domain.codedValues.map(g=>({name:g.name,code:g.code}))}):y.convertObjectToArcadeDictionary({type:"range",name:c.domain.name,dataType:B.layerFieldEsriConstants[c.field.type],
min:c.domain.min,max:c.domain.max}):null;throw Error("Invalid Parameter");})};u.domainname=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,2,4);if(p.isFeature(l[0]))return p.featureDomainValueLookup(l[0],p.toString(l[1]),l[2],void 0===l[3]?void 0:p.toNumber(l[3]));throw Error("Invalid Parameter");})};u.domaincode=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,2,4);if(p.isFeature(l[0]))return p.featureDomainCodeLookup(l[0],p.toString(l[1]),l[2],void 0===l[3]?void 0:p.toNumber(l[3]));
throw Error("Invalid Parameter");})};u.urlencode=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,1);if(null===l[0])return"";if(l[0]instanceof y){c="";for(const g of l[0].keys())f=l[0].field(g),""!==c&&(c+="\x26"),c=null===f?c+(encodeURIComponent(g)+"\x3d"):c+(encodeURIComponent(g)+"\x3d"+encodeURIComponent(f));return c}return encodeURIComponent(p.toString(l[0]))})};u.hash=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,1);c=new r.XXH(0);x(l[0],c,{map:new Map,currentLength:0});return c.digest()})};
u.convertdirection=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,3,3);return D.convertDirection(l[0],l[1],l[2])})};u.fromjson=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,1);if(!1===p.isString(l[0]))throw Error("Invalid Parameter");return y.convertJsonToArcade(JSON.parse(p.toString(l[0])))})};u.expects=function(L,E){return F(L,E,function(c,f,l){if(1>l.length)throw Error("Function called with wrong number of Parameters");return p.voidOperation})};u.tocharcode=function(L,E){return F(L,
E,function(c,f,l){p.pcCheck(l,1,2);c=p.toNumber(p.defaultUndefined(l[1],0));f=p.toString(l[0]);if(0===f.length&&1===l.length)return null;if(f.length<=c||0>c)throw Error("Illegal argument");return f.charCodeAt(c)})};u.tocodepoint=function(L,E){return F(L,E,function(c,f,l){p.pcCheck(l,1,2);c=p.toNumber(p.defaultUndefined(l[1],0));f=p.toString(l[0]);if(0===f.length&&1===l.length)return null;if(f.length<=c||0>c)throw Error("Illegal argument");return f.codePointAt(c)})};u.fromcharcode=function(L,E){return F(L,
E,function(c,f,l){if(1>l.length)throw Error("Function called with wrong number of Parameters");c=l.map(g=>Math.trunc(p.toNumber(g))).filter(g=>0<=g&&65535>=g);return 0===c.length?null:String.fromCharCode.apply(null,c)})};u.fromcodepoint=function(L,E){return F(L,E,function(c,f,l){if(1>l.length)throw Error("Function called with wrong number of Parameters");let g;try{g=l.map(X=>Math.trunc(p.toNumber(X))).filter(X=>1114111>=X&&X>>>0===X)}catch(X){return null}return 0===g.length?null:String.fromCodePoint.apply(null,
g)})}};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/functions/convertdirection":function(){define(["exports","../Dictionary","../../chunks/languageUtils"],function(C,z,J){function y(O){if(!1===J.isString(O))throw Error("Invalid Parameter");return O}function p(O,da){da=10**da;return Math.round(O*da)/da}function B(O){const da=parseFloat(O.toString().replace(Math.trunc(O).toString(),"0"))*Math.sign(O);return 0>O?{fraction:da,integer:Math.ceil(O)}:{fraction:da,integer:Math.floor(O)}}
function D(O,da){switch(O){case ua.north:return"SHORT"===da?"N":"North";case ua.east:return"SHORT"===da?"E":"East";case ua.south:return"SHORT"===da?"S":"South";case ua.west:return"SHORT"===da?"W":"West"}}function r(O,da,W){for(;O.length<W;)O=da+O;return O}function d(O,da){return O-Math.floor(O/da)*da}function m(O){switch(O){case V.truncated_degrees:case V.decimal_degrees:return 360;case V.radians:return Sa;case V.gradians:return 400;case V.seconds:return 1296E3;case V.fractional_degree_minutes:return 60;
case V.fractional_minute_seconds:return 60;default:throw Error("Unnexpected evaluations");}}function q(O){switch(O.toUpperCase().trim()){case "NORTH":case "NORTHAZIMUTH":case "NORTH AZIMUTH":return ca.north_azimuth;case "POLAR":return ca.polar;case "QUADRANT":return ca.quadrant;case "SOUTH":case "SOUTHAZIMUTH":case "SOUTH AZIMUTH":return ca.south_azimuth}throw Error("Unsupported direction type");}function b(O){switch(O.toUpperCase().trim()){case "D":case "DD":case "DECIMALDEGREE":case "DECIMAL DEGREE":case "DEGREE":case "DECIMALDEGREES":case "DECIMAL DEGREES":case "DEGREES":return V.decimal_degrees;
case "DMS":case "DEGREESMINUTESSECONDS":case "DEGREES MINUTES SECONDS":return V.degrees_minutes_seconds;case "R":case "RAD":case "RADS":case "RADIAN":case "RADIANS":return V.radians;case "G":case "GON":case "GONS":case "GRAD":case "GRADS":case "GRADIAN":case "GRADIANS":return V.gradians}throw Error("Unsupported units");}function e(O,da,W){let S=null;switch(da){case V.decimal_degrees:S=Z(O,3600);break;case V.seconds:S=O;break;case V.gradians:S=Z(O,3240);break;case V.radians:S=Z(O,Xa);break;default:throw Error("Unnexpected evaluation");
}switch(W){case V.decimal_degrees:return pa(S,3600);case V.seconds:return S;case V.gradians:return pa(S,3240);case V.radians:return S/Xa;default:throw Error("Unnexpected evaluation");}}function h(O){switch(O){case V.decimal_degrees:case V.truncated_degrees:case V.degrees_minutes_seconds:return V.decimal_degrees;case V.gradians:return V.gradians;case V.fractional_degree_minutes:return V.fractional_degree_minutes;case V.radians:return V.radians;case V.seconds:case V.fractional_minute_seconds:return V.seconds}}
function n(O){switch(J.toNumber(O)){case 1:return{first:ua.north,second:ua.east};case 2:return{first:ua.south,second:ua.east};case 3:return{first:ua.south,second:ua.west};case 4:return{first:ua.north,second:ua.west}}return null}function x(O){switch(O.toUpperCase().trim()){case "N":case "NORTH":return ua.north;case "E":case "EAST":return ua.east;case "S":case "SOUTH":return ua.south;case "W":case "WEST":return ua.west}return null}function u(O){O=parseFloat(O);if(J.isNumber(O)){if(isNaN(O))throw Error("Invalid conversion");
return O}throw Error("Invalid conversion");}function F(O,da,W){const S=W===ca.quadrant;let aa=null;var ia=null;let wa=0;var xa=0;xa=0;if(S){if(2>O.length)throw Error("Conversion Error");xa=1;(ia=n(J.toString(O[O.length-1])))?(aa=ia.first,ia=ia.second):(wa=1,aa=x(J.toString(O[0])),ia=x(J.toString(O[O.length-1])));if(null===aa||null===ia)throw Error("Invalid Conversion");}switch(da){case V.decimal_degrees:case V.radians:case V.gradians:if(0===O.length)throw Error("Invalid Conversion");return S?qa.createFromAngleMeridianAndDirection(sa.createFromAngleAndUnits(u(O[wa]),
h(da)),aa,ia):qa.createFromAngleAndDirection(sa.createFromAngleAndUnits(u(O[wa]),h(da)),W);case V.degrees_minutes_seconds:xa=O.length-xa-wa;if(3===xa)return O=sa.createFromDegreesMinutesSeconds(u(O[wa]),u(O[wa+1]),u(O[wa+2])),S?qa.createFromAngleMeridianAndDirection(O,aa,ia):qa.createFromAngleAndDirection(O,W);if(1===xa)return O=u(O[wa]),O=la.numberToDms(O),O=sa.createFromDegreesMinutesSeconds(O.m_degrees,O.m_minutes,O.m_seconds),S?qa.createFromAngleMeridianAndDirection(O,aa,ia):qa.createFromAngleAndDirection(O,
W)}throw Error("Conversion Error");}function L(O){const da=[" ","-","/","'",'"',"\\","^","\u00b0",Oa,"\t","\r","\n","*"];let W="";for(let S=0;S<O.length;S++){const aa=O.charAt(S);W=-1!==da.indexOf(aa)?W+"RRSPLITRRSPLITRR":W+aa}return W.split("RRSPLITRRSPLITRR").filter(S=>""!==S)}function E(O,da,W){const S={padding:0,rounding:0,newpos:da};let aa=!1;for(;da<O.length;){const ia=O[da];if(ia===W)aa?S.rounding++:S.padding++,da++;else if("."===ia)aa=!0,da++;else break}S.newpos=da-1;return S}const c=O=>(da,
W,S)=>{S=S||14;return+O(da,W).toFixed(S)},f=(O,da)=>O+da,l=(O,da)=>O-da,g=(O,da)=>O*da,X=(O,da)=>O/da,ea=(O,da,W)=>c(f)(O,da,W),Z=(O,da,W)=>c(g)(O,da,W),pa=(O,da,W)=>c(X)(O,da,W),Sa=2*Math.PI,Xa=648E3/Math.PI,Oa=String.fromCharCode(7501);var ua;(function(O){O[O.north=0]="north";O[O.east=1]="east";O[O.south=2]="south";O[O.west=3]="west"})(ua||(ua={}));var V;(function(O){O[O.decimal_degrees=1]="decimal_degrees";O[O.seconds=2]="seconds";O[O.degrees_minutes_seconds=3]="degrees_minutes_seconds";O[O.radians=
4]="radians";O[O.gradians=5]="gradians";O[O.truncated_degrees=6]="truncated_degrees";O[O.fractional_degree_minutes=7]="fractional_degree_minutes";O[O.fractional_minute_seconds=8]="fractional_minute_seconds"})(V||(V={}));var ca;(function(O){O[O.north_azimuth=1]="north_azimuth";O[O.polar=2]="polar";O[O.quadrant=3]="quadrant";O[O.south_azimuth=4]="south_azimuth"})(ca||(ca={}));var na;(function(O){O[O.meridian=0]="meridian";O[O.direction=1]="direction"})(na||(na={}));let la=function(){function O(W,S,
aa){this.m_degrees=W;this.m_minutes=S;this.m_seconds=aa}var da=O.prototype;da.getField=function(W){switch(W){case V.decimal_degrees:case V.truncated_degrees:return this.m_degrees;case V.fractional_degree_minutes:return this.m_minutes;case V.seconds:case V.fractional_minute_seconds:return this.m_seconds;default:throw Error("Unnexpected evaluation");}};O.secondsToDMS=function(W){const S=B(W).fraction;W=B(W).integer;const aa=Math.floor(W/3600);W-=3600*aa;const ia=Math.floor(W/60);return new O(aa,ia,
W-60*ia+S)};O.numberToDms=function(W){var S=B(W).fraction;W=B(W).integer;const aa=Z(B(100*S).fraction,100);S=B(100*S).integer;return new O(W,S,aa)};da.format=function(W,S){S=p(this.m_seconds,S);let aa=this.m_minutes,ia=this.m_degrees;if(W===V.seconds||W===V.fractional_minute_seconds)60<=S&&(S-=60,++aa),60<=aa&&(aa=0,++ia),360<=ia&&(ia=0);else if(W===V.fractional_degree_minutes)S=0,aa=30<=this.m_seconds?this.m_minutes+1:this.m_minutes,ia=this.m_degrees,60<=aa&&(aa=0,++ia),360<=ia&&(ia=0);else if(W===
V.decimal_degrees||W===V.truncated_degrees)W=pa(this.m_seconds,3600),S=pa(this.m_minutes,60),ia=Math.round(this.m_degrees+S+W),S=aa=0;return new O(ia,aa,S)};O.dmsToSeconds=function(W,S,aa){return 3600*W+60*S+aa};return O}(),ja=function(){function O(da,W,S){this.meridian=da;this.angle=W;this.direction=S}O.prototype.fetchAzimuth=function(da){return da===na.meridian?this.meridian:this.direction};return O}(),qa=function(){function O(W){this.m_angle=W}O.createFromAngleAndDirection=function(W,S){return new O(new sa(O._convertDirectionFormat(W.extractAngularUnits(V.seconds),
S,ca.north_azimuth)))};var da=O.prototype;da.getAngle=function(W){const S=this.m_angle.extractAngularUnits(V.seconds);switch(W){case ca.north_azimuth:case ca.south_azimuth:case ca.polar:return new sa(O._convertDirectionFormat(S,ca.north_azimuth,W));case ca.quadrant:return W=O.secondsNorthAzimuthToQuadrant(S),new sa(W.angle)}};da.getMeridian=function(W){const S=this.m_angle.extractAngularUnits(V.seconds);switch(W){case ca.north_azimuth:return ua.north;case ca.south_azimuth:return ua.south;case ca.polar:return ua.east;
case ca.quadrant:return O.secondsNorthAzimuthToQuadrant(S).meridian}};da.getDirection=function(W){const S=this.m_angle.extractAngularUnits(V.seconds);switch(W){case ca.north_azimuth:return ua.east;case ca.south_azimuth:return ua.west;case ca.polar:return ua.north;case ca.quadrant:return O.secondsNorthAzimuthToQuadrant(S).direction}};O.secondsNorthAzimuthToQuadrant=function(W){const S=324E3>=W||972E3<=W?ua.north:ua.south;return new ja(S,S===ua.north?Math.min(1296E3-W,W):Math.abs(W-648E3),648E3<W?ua.west:
ua.east)};O.createFromAngleMeridianAndDirection=function(W,S,aa){return new O(new sa(O.secondsQuadrantToNorthAzimuth(W.extractAngularUnits(V.seconds),S,aa)))};O.secondsQuadrantToNorthAzimuth=function(W,S,aa){return S===ua.north?aa===ua.east?W:1296E3-W:aa===ua.east?648E3-W:648E3+W};O._convertDirectionFormat=function(W,S,aa){let ia=0;switch(S){case ca.north_azimuth:ia=W;break;case ca.polar:ia=324E3-W;break;case ca.quadrant:throw Error("Unnexpected evaluation");case ca.south_azimuth:ia=W+648E3}W=0;switch(aa){case ca.north_azimuth:W=
ia;break;case ca.polar:W=324E3-ia;break;case ca.quadrant:throw Error("Unnexpected evaluation");case ca.south_azimuth:W=ia-648E3}W%=1296E3;return 0>W?1296E3+W:W};return O}(),sa=function(){function O(da){this.m_seconds=da}O.createFromAngleAndUnits=function(da,W){return new O(e(da,W,V.seconds))};O.prototype.extractAngularUnits=function(da){return e(this.m_seconds,V.seconds,h(da))};O.createFromDegreesMinutesSeconds=function(da,W,S){return new O(ea(ea(Z(da,3600),Z(W,60)),S))};return O}(),Na=function(){function O(W,
S,aa,ia){this.m_view=W;this.m_angle=S;this.m_merdian=aa;this.m_direction=ia;this.m_formatted_dms=this.m_dms=null}O.createFromStringAndBearing=function(W,S,aa){return new O(W,S.getAngle(aa),S.getMeridian(aa),S.getDirection(aa))};var da=O.prototype;da.fetchAngle=function(){return this.m_angle};da.fetchMeridian=function(){return this.m_merdian};da.fetchDirection=function(){return this.m_direction};da.fetchView=function(){return this.m_view};da.fetchDms=function(){null===this.m_dms&&this._calculateDms();
return this.m_dms};da.fetchFormattedDms=function(){null===this.m_formatted_dms&&this._calculateDms();return this.m_formatted_dms};da._calculateDms=function(){var W=null;let S=V.truncated_degrees,aa=0;for(W=0;W<this.m_view.length;W++){const ia=this.m_view[W];switch(ia){case "m":W=E(this.m_view,W,ia);S=S===V.truncated_degrees?V.fractional_degree_minutes:S;W=W.newpos;continue;case "s":W=E(this.m_view,W,ia),S=V.fractional_minute_seconds,aa=aa<W.rounding?W.rounding:aa,W=W.newpos}}this.m_dms=la.secondsToDMS(this.m_angle.extractAngularUnits(V.seconds));
this.m_formatted_dms=la.secondsToDMS(this.m_angle.extractAngularUnits(V.seconds)).format(S,aa)};return O}();C.convertDirection=function(O,da,W){if(!(da instanceof z))throw Error("Invalid Parameter");if(!1===da.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");if(!1===da.hasField("angleType"))throw Error("Invalid Parameter - Missing directionType");var S=q(y(da.field("directiontype")));da=b(y(da.field("angletype")));if(J.isNumber(O)){O=J.toNumber(O);if(S===ca.quadrant)throw Error("Conversion error");
da===V.degrees_minutes_seconds?(O=la.numberToDms(O),S=qa.createFromAngleAndDirection(sa.createFromDegreesMinutesSeconds(O.m_degrees,O.m_minutes,O.m_seconds),S)):S=qa.createFromAngleAndDirection(sa.createFromAngleAndUnits(O,h(da)),S)}else if(J.isString(O))S=F(L(O),da,S);else if(J.isArray(O))S=F(O,da,S);else if(J.isImmutableArray(O))S=F(O.toArray(),da,S);else throw Error("Conversion Error");if(!(W instanceof z))throw Error("Invalid Parameter");if(!1===W.hasField("directionType"))throw Error("Invalid Parameter - Missing directionType");
if(!1===W.hasField("outputType"))throw Error("Invalid Parameter - Missing directionType");O=q(y(W.field("directiontype")));da=W.hasField("angleType")?b(y(W.field("angletype"))):null;var aa=y(W.field("outputType")).toUpperCase().trim();if(!O||!aa)throw Error("Conversion error");if(!(da||"TEXT"===aa&&W.hasField("format")))throw Error("Invalid unit");switch(aa){case "VALUE":if(O===ca.quadrant||da===V.degrees_minutes_seconds)return W=S.getAngle(O),O===ca.quadrant&&da===V.degrees_minutes_seconds?(W=la.secondsToDMS(W.extractAngularUnits(V.seconds)),
S=[D(S.getMeridian(O),"SHORT"),W.m_degrees,W.m_minutes,W.m_seconds,D(S.getDirection(O),"SHORT")]):da===V.degrees_minutes_seconds?(S=la.secondsToDMS(W.extractAngularUnits(V.seconds)),S=[S.m_degrees,S.m_minutes,S.m_seconds]):S=O===ca.quadrant?[D(S.getMeridian(O),"SHORT"),W.extractAngularUnits(da),D(S.getDirection(O),"SHORT")]:[W.extractAngularUnits(da)],S;if((W=h(da))&&da!==V.degrees_minutes_seconds)S=S.getAngle(O).extractAngularUnits(W);else throw Error("Conversion Error");return S;case "TEXT":aa=
"";W.hasField("format")&&(aa=J.toString(W.field("format")));if(null===aa||""===aa){W="";switch(da){case V.decimal_degrees:W=O===ca.quadrant?"DD.DD\u00b0":"DDD.DD\u00b0";break;case V.degrees_minutes_seconds:W=O===ca.quadrant?"dd\u00b0 mm' ss\"":"ddd\u00b0 mm' ss.ss\"";break;case V.radians:W="R.RR";break;case V.gradians:W="GGG.GG"+Oa;break;default:throw Error("Conversion error");}O===ca.quadrant&&(W="p "+W+" b");aa=W}W=aa;var ia="",wa=null,xa=null;da=Na.createFromStringAndBearing(W,S,O);aa={D:V.decimal_degrees,
d:V.truncated_degrees,m:V.fractional_degree_minutes,s:V.fractional_minute_seconds,R:V.radians,G:V.gradians};for(xa=0;xa<W.length;xa++){var G=W[xa];switch(G){case "[":wa=W;G={escaped:"",newpos:xa};for(xa++;xa<wa.length;){var H=wa[xa];xa++;if("]"===H)break;G.escaped+=H}G.newpos=xa-1;wa=G;ia+=wa.escaped;xa=wa.newpos;continue;case "D":case "d":case "m":case "s":case "R":case "G":wa=E(W,xa,G);xa=S.getAngle(O);a:{G=aa[G];H=wa.padding;var P=wa.rounding,T=da;let ba=null;switch(G){case V.decimal_degrees:case V.radians:case V.gradians:ba=
d(p(xa.extractAngularUnits(G),P),m(G));xa=r(ba.toFixed(P),"0",H+P+(0<P?1:0));break a;case V.truncated_degrees:case V.fractional_degree_minutes:ba=d(T.fetchFormattedDms().getField(G),m(G));xa=r(ba.toFixed(P),"0",H+P+(0<P?1:0));break a;case V.fractional_minute_seconds:ba=d(p(T.fetchDms().getField(G),P),m(G));xa=r(ba.toFixed(P),"0",H+P+(0<P?1:0));break a;default:throw Error("Unnexepected evaluation");}}ia+=xa;xa=wa.newpos;continue;case "P":case "p":ia+=D(da.fetchMeridian(),"p"===G?"SHORT":"LONG");continue;
case "B":case "b":ia+=D(da.fetchDirection(),"b"===G?"SHORT":"LONG");continue;default:ia+=G}}return S=ia;default:throw Error("Invalid Parameter");}};C.preciseAdd=ea;C.preciseDivide=pa;C.preciseMinus=(O,da,W)=>c(l)(O,da,W);C.preciseMultiply=Z;Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/functions/hash":function(){define(["exports"],function(C){function z(y){const p=[];for(let B=0,D=y.length;B<D;B++){let r=y.charCodeAt(B);128>r?p.push(r):2048>r?p.push(192|r>>6,128|r&63):55296>r||
57344<=r?p.push(224|r>>12,128|r>>6&63,128|r&63):(B++,r=65536+((r&1023)<<10|y.charCodeAt(B)&1023),p.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63))}return new Uint8Array(p)}let J=function(){function y(B){this.seed=B;this.totallen=0;this.bufs=[];this.init()}var p=y.prototype;p.init=function(){this.bufs=[];this.totallen=0;return this};p.updateFloatArray=function(B){const D=[];for(const r of B)isNaN(r)?D.push("NaN"):Infinity===r?D.push("Infinity"):-Infinity===r?D.push("-Infinity"):0===r?D.push("0"):
D.push(r.toString(16));this.update(z(D.join("")))};p.updateIntArray=function(B){B=Int32Array.from(B);this.update(new Uint8Array(B.buffer))};p.updateUint8Array=function(B){this.update(Uint8Array.from(B))};p.updateWithString=function(B){return this.update(z(B))};p.update=function(B){this.bufs.push(B);this.totallen+=B.length;return this};p.digest=function(){const B=new Uint8Array(this.totallen);let D=0;for(const r of this.bufs)B.set(r,D),D+=r.length;this.init();return this._xxHash32(B,this.seed)};p._xxHash32=
function(B,D=0){var r=D+374761393&4294967295;let d=0;if(16<=B.length){r=[D+2654435761+2246822519&4294967295,D+2246822519&4294967295,D+0&4294967295,D-2654435761&4294967295];D=B.length-16;var m=0;for(d=0;(d&4294967280)<=D;d+=4){var q=d;q=r[m]+(2246822519*(B[q+0]+(B[q+1]<<8))+(2246822519*(B[q+2]+(B[q+3]<<8))<<16))&4294967295;q=q<<13|q>>>19;r[m]=2654435761*(q&65535)+(2654435761*(q>>>16)<<16)&4294967295;m=m+1&3}r=(r[0]<<1|r[0]>>>31)+(r[1]<<7|r[1]>>>25)+(r[2]<<12|r[2]>>>20)+(r[3]<<18|r[3]>>>14)&4294967295}r=
r+B.length&4294967295;for(D=B.length-4;d<=D;d+=4)m=d,r=r+(3266489917*(B[m+0]+(B[m+1]<<8))+(3266489917*(B[m+2]+(B[m+3]<<8))<<16))&4294967295,r=r<<17|r>>>15,r=668265263*(r&65535)+(668265263*(r>>>16)<<16)&4294967295;for(;d<B.length;++d)r+=374761393*B[d],r=r<<11|r>>>21,r=2654435761*(r&65535)+(2654435761*(r>>>16)<<16)&4294967295;r^=r>>>15;r=(2246822519*(r&65535)&4294967295)+(2246822519*(r>>>16)<<16);r^=r>>>13;r=(3266489917*(r&65535)&4294967295)+(3266489917*(r>>>16)<<16);r^=r>>>16;return 0>r?r+4294967296:
r};return y}();C.XXH=J;Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/arcadeRuntime":function(){define("exports ./ArcadePortal ./Attachment ./Dictionary ./Feature ./FunctionWrapper ./ImmutablePathArray ./ImmutablePointArray ../chunks/languageUtils ./treeAnalysis ../chunks/array ./functions/date ./functions/geometry ./functions/geomsync ./functions/maths ./functions/stats ./functions/string ../geometry/Extent ../geometry/Geometry ../geometry/Multipoint ../geometry/Point ../geometry/Polygon ../geometry/Polyline ../geometry/SpatialReference".split(" "),
function(C,z,J,y,p,B,D,r,d,m,q,b,e,h,n,x,u,F,L,E,c,f,l,g){function X(G,H){const P=[];for(let T=0;T<H.arguments.length;T++)P.push(Z(G,H.arguments[T]));return P}function ea(G,H,P){try{return!0===H.preparsed?P(G,null,H.arguments):P(G,H,X(G,H))}catch(T){throw T;}}function Z(G,H){try{switch(H.type){case "EmptyStatement":return d.voidOperation;case "VariableDeclarator":{let ha=null===H.init?null:Z(G,H.init);ha===d.voidOperation&&(ha=null);if("Identifier"!==H.id.type)throw Error("Can only assign a regular variable");
const Ta=H.id.name.toLowerCase();null!==G.localScope?G.localScope[Ta]={value:ha,valueset:!0,node:H.init}:G.globalScope[Ta]={value:ha,valueset:!0,node:H.init};var P=d.voidOperation}return P;case "VariableDeclaration":for(var T=0;T<H.declarations.length;T++)Z(G,H.declarations[T]);return d.voidOperation;case "BlockStatement":a:{let ha=d.voidOperation;for(T=0;T<H.body.length;T++)if(ha=Z(G,H.body[T]),ha instanceof d.ReturnResult||ha===d.breakResult||ha===d.continueResult){var ba=ha;break a}ba=ha}return ba;
case "FunctionDeclaration":{const ha=H.id.name.toLowerCase();G.globalScope[ha]={valueset:!0,node:null,value:new B(H,G)};var za=d.voidOperation}return za;case "ReturnStatement":if(null===H.argument)var t=new d.ReturnResult(d.voidOperation);else{var v=Z(G,H.argument);t=new d.ReturnResult(v)}return t;case "IfStatement":{if("AssignmentExpression"===H.test.type||"UpdateExpression"===H.test.type)throw Error(m.nodeErrorMessage(H.test,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const ha=Z(G,H.test);
if(!0===ha)var N=Z(G,H.consequent);else if(!1===ha)N=null!==H.alternate?Z(G,H.alternate):d.voidOperation;else throw Error(m.nodeErrorMessage(H,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}return N;case "ExpressionStatement":if("AssignmentExpression"===H.expression.type||"UpdateExpression"===H.expression.type)var Q=Z(G,H.expression);else if("CallExpression"===H.expression.type){const ha=Z(G,H.expression);Q=ha===d.voidOperation?d.voidOperation:new d.ImplicitResult(ha)}else{{const ha=Z(G,H.expression);
Q=ha===d.voidOperation?d.voidOperation:new d.ImplicitResult(ha)}}return Q;case "AssignmentExpression":{const ha=Z(G,H.right);T=null;var U="";if("MemberExpression"===H.left.type){T=Z(G,H.left.object);!0===H.left.computed?U=Z(G,H.left.property):"Identifier"===H.left.property.type&&(U=H.left.property.name);if(d.isArray(T))if(d.isNumber(U)){0>U&&(U=T.length+U);if(0>U||U>T.length)throw Error("Assignment outside of array bounds");if(U===T.length&&"\x3d"!==H.operator)throw Error("Invalid Parameter");T[U]=
Sa(ha,H.operator,T[U],H)}else throw Error("Invalid Parameter");else if(T instanceof y){if(!1===d.isString(U))throw Error("Dictionary accessor must be a string");if(!0===T.hasField(U))T.setField(U,Sa(ha,H.operator,T.field(U),H));else{if("\x3d"!==H.operator)throw Error("Invalid Parameter");T.setField(U,Sa(ha,H.operator,null,H))}}else if(d.isFeature(T)){if(!1===d.isString(U))throw Error("Feature accessor must be a string");if(!0===T.hasField(U))T.setField(U,Sa(ha,H.operator,T.field(U),H));else{if("\x3d"!==
H.operator)throw Error("Invalid Parameter");T.setField(U,Sa(ha,H.operator,null,H))}}else{if(d.isImmutableArray(T))throw Error("Array is Immutable");throw Error("Invalid Parameter");}var ta=d.voidOperation}else if(T=H.left.name.toLowerCase(),null!==G.localScope&&void 0!==G.localScope[T])G.localScope[T]={value:Sa(ha,H.operator,G.localScope[T].value,H),valueset:!0,node:H.right},ta=d.voidOperation;else if(void 0!==G.globalScope[T])G.globalScope[T]={value:Sa(ha,H.operator,G.globalScope[T].value,H),valueset:!0,
node:H.right},ta=d.voidOperation;else throw Error("Variable not recognised");}return ta;case "UpdateExpression":{let ha;T=null;U="";if("MemberExpression"===H.argument.type){T=Z(G,H.argument.object);!0===H.argument.computed?U=Z(G,H.argument.property):"Identifier"===H.argument.property.type&&(U=H.argument.property.name);if(d.isArray(T))if(d.isNumber(U)){0>U&&(U=T.length+U);if(0>U||U>=T.length)throw Error("Assignment outside of array bounds");ha=d.toNumber(T[U]);T[U]="++"===H.operator?ha+1:ha-1}else throw Error("Invalid Parameter");
else if(T instanceof y){if(!1===d.isString(U))throw Error("Dictionary accessor must be a string");if(!0===T.hasField(U))ha=d.toNumber(T.field(U)),T.setField(U,"++"===H.operator?ha+1:ha-1);else throw Error("Invalid Parameter");}else if(d.isFeature(T)){if(!1===d.isString(U))throw Error("Feature accessor must be a string");if(!0===T.hasField(U))ha=d.toNumber(T.field(U)),T.setField(U,"++"===H.operator?ha+1:ha-1);else throw Error("Invalid Parameter");}else{if(d.isImmutableArray(T))throw Error("Array is Immutable");
throw Error("Invalid Parameter");}var Aa=!1===H.prefix?ha:"++"===H.operator?ha+1:ha-1}else{T="Identifier"===H.argument.type?H.argument.name.toLowerCase():"";if(!T)throw Error("Invalid identifier");if(null!==G.localScope&&void 0!==G.localScope[T])ha=d.toNumber(G.localScope[T].value),G.localScope[T]={value:"++"===H.operator?ha+1:ha-1,valueset:!0,node:H},Aa=!1===H.prefix?ha:"++"===H.operator?ha+1:ha-1;else if(void 0!==G.globalScope[T])ha=d.toNumber(G.globalScope[T].value),G.globalScope[T]={value:"++"===
H.operator?ha+1:ha-1,valueset:!0,node:H},Aa=!1===H.prefix?ha:"++"===H.operator?ha+1:ha-1;else throw Error("Variable not recognised");}}return Aa;case "BreakStatement":return d.breakResult;case "ContinueStatement":return d.continueResult;case "TemplateElement":return H.value?H.value.cooked:"";case "TemplateLiteral":var ya;T="";U=0;for(const ha of H.quasis)if(T+=ha.value?ha.value.cooked:"",!1===ha.tail){const Ta=H.expressions[U]?d.toString(Z(G,H.expressions[U])):"";T+=Ta;U++}return ya=T;case "ForStatement":null!==
H.init&&Z(G,H.init);U={testResult:!0,lastAction:d.voidOperation};do b:{ta=G;Aa=H;ya=U;if(null!==Aa.test){ya.testResult=Z(ta,Aa.test);if(!1===ya.testResult)break b;if(!0!==ya.testResult)throw Error(m.nodeErrorMessage(Aa,"RUNTIME","CANNOT_USE_NONBOOLEAN_IN_CONDITION"));}ya.lastAction=Z(ta,Aa.body);ya.lastAction===d.breakResult?ya.testResult=!1:ya.lastAction instanceof d.ReturnResult?ya.testResult=!1:null!==Aa.update&&Z(ta,Aa.update)}while(!0===U.testResult);T=U.lastAction instanceof d.ReturnResult?
U.lastAction:d.voidOperation;return T;case "ForInStatement":return pa(G,H);case "Identifier":return na(G,H);case "MemberExpression":return Oa(G,H);case "Literal":return H.value;case "CallExpression":return la(G,H);case "UnaryExpression":return ua(G,H);case "BinaryExpression":return V(G,H);case "LogicalExpression":return ca(G,H);case "ArrayExpression":try{T=[];for(U=0;U<H.elements.length;U++){const ha=Z(G,H.elements[U]);if(d.isFunctionParameter(ha))throw Error(m.nodeErrorMessage(H,"RUNTIME","FUNCTIONCONTEXTILLEGAL"));
ha===d.voidOperation?T.push(null):T.push(ha)}var Da=T}catch(ha){throw ha;}return Da;case "ObjectExpression":{T={};for(U=0;U<H.properties.length;U++){const Ta=Z(G,H.properties[U]);if(d.isFunctionParameter(Ta.value))throw Error("Illegal Argument");if(!1===d.isString(Ta.key))throw Error("Illegal Argument");T[Ta.key.toString()]=Ta.value===d.voidOperation?null:Ta.value}const ha=new y(T);ha.immutable=!1;var Ea=ha}return Ea;case "Property":return{key:"Identifier"===H.key.type?H.key.name:Z(G,H.key),value:Z(G,
H.value)};default:throw Error(m.nodeErrorMessage(H,"RUNTIME","UNREOGNISED"));}}catch(ha){throw ha;}}function pa(G,H){var P=Z(G,H.right);"VariableDeclaration"===H.left.type&&Z(G,H.left);let T=null;var ba="";if("VariableDeclaration"===H.left.type){var za=H.left.declarations[0].id;"Identifier"===za.type&&(ba=za.name)}else"Identifier"===H.left.type&&(ba=H.left.name);if(!ba)throw Error(m.nodeErrorMessage(H,"RUNTIME","INVALIDVARIABLE"));ba=ba.toLowerCase();null!==G.localScope&&void 0!==G.localScope[ba]&&
(T=G.localScope[ba]);null===T&&void 0!==G.globalScope[ba]&&(T=G.globalScope[ba]);if(null===T)throw Error(m.nodeErrorMessage(H,"RUNTIME","VARIABLENOTDECLARED"));if(d.isArray(P)||d.isString(P)){P=P.length;for(ba=0;ba<P;ba++){T.value=ba;za=Z(G,H.body);if(za===d.breakResult)break;if(za instanceof d.ReturnResult)return za}return d.voidOperation}if(d.isImmutableArray(P)){for(ba=0;ba<P.length();ba++){T.value=ba;za=Z(G,H.body);if(za===d.breakResult)break;if(za instanceof d.ReturnResult)return za}return d.voidOperation}if(P instanceof
y||d.isFeature(P))for(P=P.keys(),ba=0;ba<P.length;ba++){T.value=P[ba];za=Z(G,H.body);if(za===d.breakResult)break;if(za instanceof d.ReturnResult)return za}else return d.voidOperation}function Sa(G,H,P,T){switch(H){case "\x3d":return G===d.voidOperation?null:G;case "/\x3d":return d.toNumber(P)/d.toNumber(G);case "*\x3d":return d.toNumber(P)*d.toNumber(G);case "-\x3d":return d.toNumber(P)-d.toNumber(G);case "+\x3d":return d.isString(P)||d.isString(G)?d.toString(P)+d.toString(G):d.toNumber(P)+d.toNumber(G);
case "%\x3d":return d.toNumber(P)%d.toNumber(G);default:throw Error(m.nodeErrorMessage(T,"RUNTIME","OPERATORNOTRECOGNISED"));}}function Xa(G,H,P){H=H.toLowerCase();switch(H){case "hasz":return G=G.hasZ,void 0===G?!1:G;case "hasm":return G=G.hasM,void 0===G?!1:G;case "spatialreference":return H=G.spatialReference._arcadeCacheId,void 0===H&&(P=!0,Object.freeze&&Object.isFrozen(G.spatialReference)&&(P=!1),P&&(ia++,H=G.spatialReference._arcadeCacheId=ia)),G=new y({wkt:G.spatialReference.wkt,wkid:G.spatialReference.wkid}),
void 0!==H&&(G._arcadeCacheId="SPREF"+H.toString()),G}switch(G.type){case "extent":switch(H){case "xmin":case "xmax":case "ymin":case "ymax":case "zmin":case "zmax":case "mmin":case "mmax":return G=G[H],void 0!==G?G:null;case "type":return"Extent"}break;case "polygon":switch(H){case "rings":return H=G.cache._arcadeCacheId,void 0===H&&(ia++,H=ia,G.cache._arcadeCacheId=H),new D(G.rings,G.spatialReference,!0===G.hasZ,!0===G.hasM,H);case "type":return"Polygon"}break;case "point":switch(H){case "x":case "y":case "z":case "m":return void 0!==
G[H]?G[H]:null;case "type":return"Point"}break;case "polyline":switch(H){case "paths":return H=G.cache._arcadeCacheId,void 0===H&&(ia++,H=ia,G.cache._arcadeCacheId=H),new D(G.paths,G.spatialReference,!0===G.hasZ,!0===G.hasM,H);case "type":return"Polyline"}break;case "multipoint":switch(H){case "points":return H=G.cache._arcadeCacheId,void 0===H&&(ia++,H=ia,G.cache._arcadeCacheId=H),new r(G.points,G.spatialReference,!0===G.hasZ,!0===G.hasM,H,1);case "type":return"Multipoint"}}throw Error(m.nodeErrorMessage(P,
"RUNTIME","PROPERTYNOTFOUND"));}function Oa(G,H){try{const P=Z(G,H.object);if(null===P)throw Error(m.nodeErrorMessage(H,"RUNTIME","NOTFOUND"));if(!1===H.computed){if("Identifier"===H.property.type){if(P instanceof y||d.isFeature(P))return P.field(H.property.name);if(P instanceof L)return Xa(P,H.property.name,H)}throw Error(m.nodeErrorMessage(H,"RUNTIME","INVALIDTYPE"));}{let T=Z(G,H.property);if(P instanceof y||d.isFeature(P)){if(d.isString(T))return P.field(T);throw Error(m.nodeErrorMessage(H,"RUNTIME",
"INVALIDTYPE"));}if(P instanceof L){if(d.isString(T))return Xa(P,T,H);throw Error(m.nodeErrorMessage(H,"RUNTIME","INVALIDTYPE"));}if(d.isArray(P)){if(d.isNumber(T)&&isFinite(T)&&Math.floor(T)===T){0>T&&(T=P.length+T);if(T>=P.length||0>T)throw Error(m.nodeErrorMessage(H,"RUNTIME","OUTOFBOUNDS"));return P[T]}throw Error(m.nodeErrorMessage(H,"RUNTIME","INVALIDTYPE"));}if(d.isString(P)){if(d.isNumber(T)&&isFinite(T)&&Math.floor(T)===T){0>T&&(T=P.length+T);if(T>=P.length||0>T)throw Error(m.nodeErrorMessage(H,
"RUNTIME","OUTOFBOUNDS"));return P[T]}throw Error(m.nodeErrorMessage(H,"RUNTIME","INVALIDTYPE"));}if(d.isImmutableArray(P)&&d.isNumber(T)&&isFinite(T)&&Math.floor(T)===T){0>T&&(T=P.length()+T);if(T>=P.length()||0>T)throw Error(m.nodeErrorMessage(H,"RUNTIME","OUTOFBOUNDS"));return P.get(T)}throw Error(m.nodeErrorMessage(H,"RUNTIME","INVALIDTYPE"));}}catch(P){throw P;}}function ua(G,H){try{const P=Z(G,H.argument);if(d.isBoolean(P)){if("!"===H.operator)return!P;if("-"===H.operator)return-1*d.toNumber(P);
if("+"===H.operator)return 1*d.toNumber(P);if("~"===H.operator)return~d.toNumber(P);throw Error(m.nodeErrorMessage(H,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}if("~"===H.operator)return~d.toNumber(P);if("-"===H.operator)return-1*d.toNumber(P);if("+"===H.operator)return 1*d.toNumber(P);throw Error(m.nodeErrorMessage(H,"RUNTIME","NOTSUPPORTEDUNARYOPERATOR"));}catch(P){throw P;}}function V(G,H){try{const P=[Z(G,H.left),Z(G,H.right)],T=P[0],ba=P[1];switch(H.operator){case "|":case "\x3c\x3c":case "\x3e\x3e":case "\x3e\x3e\x3e":case "^":case "\x26":return d.binaryOperator(d.toNumber(T),
d.toNumber(ba),H.operator);case "\x3d\x3d":return d.equalityTest(T,ba);case "!\x3d":return!d.equalityTest(T,ba);case "\x3c":return d.greaterThanLessThan(T,ba,H.operator);case "\x3e":return d.greaterThanLessThan(T,ba,H.operator);case "\x3c\x3d":return d.greaterThanLessThan(T,ba,H.operator);case "\x3e\x3d":return d.greaterThanLessThan(T,ba,H.operator);case "+":return d.isString(T)||d.isString(ba)?d.toString(T)+d.toString(ba):d.toNumber(T)+d.toNumber(ba);case "-":return d.toNumber(T)-d.toNumber(ba);
case "*":return d.toNumber(T)*d.toNumber(ba);case "/":return d.toNumber(T)/d.toNumber(ba);case "%":return d.toNumber(T)%d.toNumber(ba);default:throw Error(m.nodeErrorMessage(H,"RUNTIME","OPERATORNOTRECOGNISED"));}}catch(P){throw P;}}function ca(G,H){try{if("AssignmentExpression"===H.left.type||"UpdateExpression"===H.left.type)throw Error(m.nodeErrorMessage(H.left,"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));if("AssignmentExpression"===H.right.type||"UpdateExpression"===H.right.type)throw Error(m.nodeErrorMessage(H.right,
"RUNTIME","CANNOT_USE_ASSIGNMENT_IN_CONDITION"));const P=Z(G,H.left);if(d.isBoolean(P))switch(H.operator){case "||":if(!0===P)return P;{const T=Z(G,H.right);if(d.isBoolean(T))return T;throw Error(m.nodeErrorMessage(H,"RUNTIME","ONLYORORAND"));}case "\x26\x26":if(!1===P)return P;{const T=Z(G,H.right);if(d.isBoolean(T))return T;throw Error(m.nodeErrorMessage(H,"RUNTIME","ONLYORORAND"));}default:throw Error(m.nodeErrorMessage(H,"RUNTIME","ONLYORORAND"));}throw Error(m.nodeErrorMessage(H,"RUNTIME","ONLYBOOLEAN"));
}catch(P){throw P;}}function na(G,H){let P;try{const T=H.name.toLowerCase();if(null!==G.localScope&&void 0!==G.localScope[T]){P=G.localScope[T];if(!0===P.valueset)return P.value;P.value=Z(G,P.node);P.valueset=!0;return P.value}if(void 0!==G.globalScope[T]){P=G.globalScope[T];if(!0===P.valueset)return P.value;P.value=Z(G,P.node);P.valueset=!0;return P.value}throw Error(m.nodeErrorMessage(H,"RUNTIME","VARIABLENOTFOUND"));}catch(T){throw T;}}function la(G,H){try{if("Identifier"!==H.callee.type)throw Error(m.nodeErrorMessage(H,
"RUNTIME","ONLYNODESSUPPORTED"));if(null!==G.localScope&&void 0!==G.localScope[H.callee.name.toLowerCase()]){const P=G.localScope[H.callee.name.toLowerCase()];if(P.value instanceof d.NativeFunction)return P.value.fn(G,H);if(P.value instanceof B)return da(G,H,P.value.definition);throw Error(m.nodeErrorMessage(H,"RUNTIME","NOTAFUNCTION"));}if(void 0!==G.globalScope[H.callee.name.toLowerCase()]){const P=G.globalScope[H.callee.name.toLowerCase()];if(P.value instanceof d.NativeFunction)return P.value.fn(G,
H);if(P.value instanceof B)return da(G,H,P.value.definition);throw Error(m.nodeErrorMessage(H,"RUNTIME","NOTAFUNCTION"));}throw Error(m.nodeErrorMessage(H,"RUNTIME","NOTFOUND"));}catch(P){throw P;}}function ja(G){return null==G?"":d.isArray(G)||d.isImmutableArray(G)?"Array":d.isDate(G)?"Date":d.isString(G)?"String":d.isBoolean(G)?"Boolean":d.isNumber(G)?"Number":G instanceof J?"Attachment":G instanceof z?"Portal":G instanceof y?"Dictionary":d.isFeature(G)?"Feature":G instanceof c?"Point":G instanceof
f?"Polygon":G instanceof l?"Polyline":G instanceof E?"Multipoint":G instanceof F?"Extent":d.isFunctionParameter(G)?"Function":d.isFeatureSet(G)?"FeatureSet":d.isFeatureSetCollection(G)?"FeatureSetCollection":G===d.voidOperation?"":"number"===typeof G&&isNaN(G)?"Number":"Unrecognised Type"}function qa(G,H,P,T){try{const ba=Z(G,H.arguments[P]);if(d.equalityTest(ba,T))return Z(G,H.arguments[P+1]);{const za=H.arguments.length-P;return 1===za?Z(G,H.arguments[P]):2===za?null:3===za?Z(G,H.arguments[P+2]):
qa(G,H,P+2,T)}}catch(ba){throw ba;}}function sa(G,H,P,T){try{if(!0===T)return Z(G,H.arguments[P+1]);if(3===H.arguments.length-P)return Z(G,H.arguments[P+2]);{const ba=Z(G,H.arguments[P+2]);if(!1===d.isBoolean(ba))throw Error("WHEN needs boolean test conditions");return sa(G,H,P+2,ba)}}catch(ba){throw ba;}}function Na(G,H){var P=G.length,T=Math.floor(P/2);if(0===P)return[];if(1===P)return[G[0]];var ba=Na(G.slice(0,T),H);G=Na(G.slice(T,P),H);for(P=[];0<ba.length||0<G.length;)0<ba.length&&0<G.length?
(T=H(ba[0],G[0]),isNaN(T)&&(T=0),0>=T?(P.push(ba[0]),ba=ba.slice(1)):(P.push(G[0]),G=G.slice(1))):0<ba.length?(P.push(ba[0]),ba=ba.slice(1)):0<G.length&&(P.push(G[0]),G=G.slice(1));return H=P}function O(G,H,P){try{const T=G.body;if(P.length!==G.params.length)throw Error("Invalid Parameter calls to function.");for(let za=0;za<P.length;za++)H.localScope[G.params[za].name.toLowerCase()]={value:P[za],valueset:!0,node:null};const ba=Z(H,T);if(ba instanceof d.ReturnResult)return ba.value;if(ba===d.breakResult)throw Error("Cannot Break from a Function");
if(ba===d.continueResult)throw Error("Cannot Continue from a Function");return ba instanceof d.ImplicitResult?ba.value:ba}catch(T){throw T;}}function da(G,H,P){return ea(G,H,function(T,ba,za){T={spatialReference:G.spatialReference,globalScope:G.globalScope,depthCounter:G.depthCounter+1,console:G.console,lrucache:G.lrucache,interceptor:G.interceptor,localScope:{}};if(64<T.depthCounter)throw Error("Exceeded maximum function depth");return O(P,T,za)})}function W(G){return function(){const H={spatialReference:G.context.spatialReference,
console:G.context.console,lrucache:G.context.lrucache,interceptor:G.context.interceptor,localScope:{},depthCounter:G.context.depthCounter+1,globalScope:G.context.globalScope};if(64<H.depthCounter)throw Error("Exceeded maximum function depth");return O(G.definition,H,arguments)}}function S(G){console.log(G)}function aa(G){const H={mode:"sync",compiled:!1,functions:{},signatures:[],standardFunction:ea,evaluateIdentifier:na,arcadeCustomFunctionHandler:W};for(let P=0;P<G.length;P++)G[P].registerFunctions(H);
for(const P in H.functions)wa[P]={value:new d.NativeFunction(H.functions[P]),valueset:!0,node:null},xa.prototype[P]=wa[P];for(G=0;G<H.signatures.length;G++)m.addFunctionDeclaration(H.signatures[G],"async")}let ia=0;const wa={};b.registerFunctions(wa,ea);u.registerFunctions(wa,ea);n.registerFunctions(wa,ea);e.registerFunctions(wa,ea);x.registerFunctions(wa,ea);h.registerFunctions(wa,ea);wa["typeof"]=function(G,H){return ea(G,H,function(P,T,ba){d.pcCheck(ba,1,1);P=ja(ba[0]);if("Unrecognised Type"===
P)throw Error("Unrecognised Type");return P})};wa.iif=function(G,H){try{d.pcCheck(null===H.arguments?[]:H.arguments,3,3);const P=Z(G,H.arguments[0]);if(!1===d.isBoolean(P))throw Error("IF Function must have a boolean test condition");const T=Z(G,H.arguments[1]),ba=Z(G,H.arguments[2]);return!0===P?T:ba}catch(P){throw P;}};wa.decode=function(G,H){try{if(2>H.arguments.length)throw Error("Missing Parameters");if(2===H.arguments.length)return Z(G,H.arguments[1]);{if(0===(H.arguments.length-1)%2)throw Error("Must have a default value result.");
const P=Z(G,H.arguments[0]);return qa(G,H,1,P)}}catch(P){throw P;}};wa.when=function(G,H){try{if(3>H.arguments.length)throw Error("Missing Parameters");if(0===H.arguments.length%2)throw Error("Must have a default value result.");const P=Z(G,H.arguments[0]);if(!1===d.isBoolean(P))throw Error("WHEN needs boolean test conditions");return sa(G,H,0,P)}catch(P){throw P;}};wa.top=function(G,H){return ea(G,H,function(P,T,ba){d.pcCheck(ba,2,2);if(d.isArray(ba[0]))return d.toNumber(ba[1])>=ba[0].length?ba[0].slice(0):
ba[0].slice(0,d.toNumber(ba[1]));if(d.isImmutableArray(ba[0]))return d.toNumber(ba[1])>=ba[0].length()?ba[0].slice(0):ba[0].slice(0,d.toNumber(ba[1]));throw Error("Top cannot accept this parameter type");})};wa.first=function(G,H){return ea(G,H,function(P,T,ba){d.pcCheck(ba,1,1);return d.isArray(ba[0])?0===ba[0].length?null:ba[0][0]:d.isImmutableArray(ba[0])?0===ba[0].length()?null:ba[0].get(0):null})};wa.sort=function(G,H){return ea(G,H,function(P,T,ba){d.pcCheck(ba,1,2);P=ba[0];d.isImmutableArray(P)&&
(P=P.toArray());if(!1===d.isArray(P))throw Error("Illegal Argument");if(1<ba.length){if(!1===d.isFunctionParameter(ba[1]))throw Error("Illegal Argument");var za=P;const v=W(ba[1]);return za=Na(za,function(N,Q){return v(N,Q)})}ba=P;if(0===ba.length)return[];P={};for(T=0;T<ba.length;T++){var t=ja(ba[T]);""!==t&&(P[t]=!0)}if(!0===P.Array||!0===P.Dictionary||!0===P.Feature||!0===P.Point||!0===P.Polygon||!0===P.Polyline||!0===P.Multipoint||!0===P.Extent||!0===P.Function)return ba.slice(0);T=0;t="";for(za in P)T++,
t=za;return ba=1<T||"String"===t?Na(ba,function(v,N){if(null===v||void 0===v||v===d.voidOperation)return null===N||void 0===N||N===d.voidOperation?0:1;if(null===N||void 0===N||N===d.voidOperation)return-1;v=d.toString(v);N=d.toString(N);return v<N?-1:v===N?0:1}):"Number"===t?Na(ba,function(v,N){return v-N}):"Boolean"===t?Na(ba,function(v,N){return v===N?0:N?-1:1}):"Date"===t?Na(ba,function(v,N){return N-v}):ba.slice(0)})};for(const G in wa)wa[G]={value:new d.NativeFunction(wa[G]),valueset:!0,node:null};
const xa=function(){};xa.prototype=wa;xa.prototype.infinity={value:Number.POSITIVE_INFINITY,valueset:!0,node:null};xa.prototype.pi={value:Math.PI,valueset:!0,node:null};b={fixSpatialReference:d.fixSpatialReference,parseArguments:X,standardFunction:ea};aa([q.ArrayFunctions]);C.executeScript=function(G,H){let P=H.spatialReference;if(null===P||void 0===P)P=new g({wkid:102100});{var T=H.vars;var ba=H.customfunctions;const za=new xa;T||(T={});ba||(ba={});const t=new y({newline:"\n",tab:"\t",singlequote:"'",
doublequote:'"',forwardslash:"/",backwardslash:"\\"});t.immutable=!1;za.textformatting={value:t,valueset:!0,node:null};for(const v in ba)za[v]={value:new d.NativeFunction(ba[v]),native:!0,valueset:!0,node:null};for(const v in T)za[v]=T[v]&&"esri.Graphic"===T[v].declaredClass?{value:p.createFromGraphic(T[v]),valueset:!0,node:null}:{value:T[v],valueset:!0,node:null};T=za}G=Z({spatialReference:P,globalScope:T,localScope:null,console:H.console?H.console:S,lrucache:H.lrucache,interceptor:H.interceptor,
depthCounter:1},G.body[0].body);G instanceof d.ReturnResult&&(G=G.value);G instanceof d.ImplicitResult&&(G=G.value);G===d.voidOperation&&(G=null);if(G===d.breakResult)throw Error("Cannot return BREAK");if(G===d.continueResult)throw Error("Cannot return CONTINUE");if(G instanceof B)throw Error("Cannot return FUNCTION");if(G instanceof d.NativeFunction)throw Error("Cannot return FUNCTION");return G};C.extend=aa;C.extractExpectedFieldLiterals=function(G){return m.findExpectedFieldLiterals(G)};C.extractFieldLiterals=
function(G,H){return m.findFieldLiterals(G)};C.findFunctionCalls=function(G){return m.findFunctionCalls(G)};C.functionHelper=b;C.referencesFunction=function(G,H){return m.referencesFunction(G,H)};C.referencesMember=function(G,H){return m.referencesMember(G,H)};C.validateScript=function(G,H){return m.validateScript(G,H,"simple")};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/parser":function(){define(["exports","./treeAnalysis","./lib/arcade-parser"],function(C,z,J){C.extractExpectedFieldLiterals=
function(y){return z.findExpectedFieldLiterals(y)};C.extractFieldLiterals=function(y,p){return z.findFieldLiterals(y)};C.parseScript=function(y,p=[]){y=J.parse("function _() { "+y+"\n}");if(null===y.body||void 0===y.body)throw Error("No formula provided.");if(0===y.body.length)throw Error("No formula provided.");if(0===y.body.length)throw Error("No formula provided.");if("BlockStatement"!==y.body[0].body.type)throw Error("Invalid formula content.");const B=z.validateLanguage(y);if(""!==B)throw Error(B);
z.findScriptDependencies(y,p);return y};C.referencesFunction=function(y,p){return z.referencesFunction(y,p)};C.referencesMember=function(y,p){return z.referencesMember(y,p)};C.scriptCheck=function(y,p,B,D,r){const d=[];y="function _() { \n"+y+"\n}";try{const m=J.parse(y,{tolerant:!0,loc:!0,range:!0}),q=m.errors;if(0<q.length)for(let e=0;e<q.length;e++)d.push({line:q[e].lineNumber-2,character:q[e].column,reason:q[e].description});const b=z.checkScript(m,p,B,D,r);for(p=0;p<b.length;p++)b[p].line-=2,
b[p].range&&(b[p].range=[b[p][0]-15,b[p][1]-15]),b[p].loc&&(b[p].loc.start.line-=2,b[p].loc.end.line-=2),d.push(b[p])}catch(m){try{if("Unexpected token }"===m.description){const q=y.split("\n").length;m.lineNumber===q?(m.index=y.length-1,d.push({line:m.lineNumber-4,character:m.column,reason:"Unexpected end of script"})):(m.index=y.length-1,d.push({line:m.lineNumber-2,character:m.column,reason:"Unexpected end of script"}))}else d.push({line:m.lineNumber-2,character:m.column,reason:m.description})}catch(q){}}return d};
C.validateScript=function(y,p,B){return z.validateScript(y,p,B)};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/lib/arcade-parser":function(){define("exports ./comment-handler ./parser ./tokenizer ./syntax ./token ./nodes".split(" "),function(C,z,J,y,p,B,D){C.Syntax=p.Syntax;C.TokenName=B.TokenName;Object.defineProperty(C,"TokenType",{enumerable:!0,get:()=>B.TokenType});C.ArrayExpression=D.ArrayExpression;C.AssignmentExpression=D.AssignmentExpression;C.AssignmentOperators=D.AssignmentOperators;
C.BinaryExpression=D.BinaryExpression;C.BinaryOperators=D.BinaryOperators;C.BlockStatement=D.BlockStatement;C.BreakStatement=D.BreakStatement;C.CallExpression=D.CallExpression;C.Comment=D.Comment;C.ComputedMemberExpression=D.ComputedMemberExpression;C.ContinueStatement=D.ContinueStatement;C.EmptyStatement=D.EmptyStatement;C.ExpressionStatement=D.ExpressionStatement;C.ForInStatement=D.ForInStatement;C.ForStatement=D.ForStatement;C.FunctionDeclaration=D.FunctionDeclaration;C.Identifier=D.Identifier;
C.IfStatement=D.IfStatement;C.Literal=D.Literal;C.LogicalOperators=D.LogicalOperators;C.ObjectExpression=D.ObjectExpression;C.Program=D.Program;C.Property=D.Property;C.ReturnStatement=D.ReturnStatement;C.StaticMemberExpression=D.StaticMemberExpression;C.TemplateElement=D.TemplateElement;C.TemplateLiteral=D.TemplateLiteral;C.UnaryExpression=D.UnaryExpression;C.UnaryOperators=D.UnaryOperators;C.UpdateExpression=D.UpdateExpression;C.UpdateOperators=D.UpdateOperators;C.VariableDeclaration=D.VariableDeclaration;
C.VariableDeclarator=D.VariableDeclarator;C.parse=function(r,d,m){let q=null;const b=(n,x)=>{m&&m(n,x);q&&q.visit(n,x)};let e="function"===typeof m?b:void 0,h=!1;if(d){h="boolean"===typeof d.comment&&d.comment;const n="boolean"===typeof d.attachComment&&d.attachComment;if(h||n)q=new z.CommentHandler,q.attach=n,d.comment=!0,e=b}r=new J.Parser(r,d,e);d=r.parseScript();h&&q&&(d.comments=q.comments);r.config.tokens&&(d.tokens=r.tokens);r.config.tolerant&&(d.errors=r.errorHandler.errors);return d};C.tokenize=
function(r,d,m){r=new y.Tokenizer(r,d);d=[];let q=void 0;try{for(;;){let b=r.getNextToken();if(!b)break;m&&(b=m(b));d.push(b)}}catch(b){r.errorHandler.tolerate(b)}r.errorHandler.tolerant&&(q=r.errors());return{tokens:d,errors:q}};C.version="4.0.0-dev";Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/lib/comment-handler":function(){define(["exports","./syntax"],function(C,z){let J=function(){function y(){this.attach=!1;this.comments=[];this.stack=[];this.leading=[];this.trailing=[]}
var p=y.prototype;p.insertInnerComments=function(B,D){if(B.type===z.Syntax.BlockStatement&&0===B.body.length){const r=[];for(let d=this.leading.length-1;0<=d;--d){const m=this.leading[d];D.end.offset>=m.start&&(r.unshift(m.comment),this.leading.splice(d,1),this.trailing.splice(d,1))}r.length&&(B.innerComments=r)}};p.findTrailingComments=function(B){let D=[];if(0<this.trailing.length){for(var r=this.trailing.length-1;0<=r;--r){var d=this.trailing[r];d.start>=B.end.offset&&D.unshift(d.comment)}this.trailing.length=
0;return D}(r=this.stack[this.stack.length-1])&&r.node.trailingComments&&(d=r.node.trailingComments[0])&&d.range[0]>=B.end.offset&&(D=r.node.trailingComments,delete r.node.trailingComments);return D};p.findLeadingComments=function(B){const D=[];for(var r;0<this.stack.length;){var d=this.stack[this.stack.length-1];if(d&&d.start>=B.start.offset)r=d.node,this.stack.pop();else break}if(r){d=r.leadingComments?r.leadingComments.length:0;for(--d;0<=d;--d){const m=r.leadingComments[d];m.range[1]<=B.start.offset&&
(D.unshift(m),r.leadingComments.splice(d,1))}r.leadingComments&&0===r.leadingComments.length&&delete r.leadingComments;return D}for(r=this.leading.length-1;0<=r;--r)d=this.leading[r],d.start<=B.start.offset&&(D.unshift(d.comment),this.leading.splice(r,1));return D};p.visitNode=function(B,D){if(!(B.type===z.Syntax.Program&&0<B.body.length)){this.insertInnerComments(B,D);var r=this.findTrailingComments(D),d=this.findLeadingComments(D);0<d.length&&(B.leadingComments=d);0<r.length&&(B.trailingComments=
r);this.stack.push({node:B,start:D.start.offset})}};p.visitComment=function(B,D){this.comments.push(B);this.attach&&(D={comment:{type:B.type,value:B.value,range:[D.start.offset,D.end.offset]},start:D.start.offset},B.loc&&(D.comment.loc=B.loc),this.leading.push(D),this.trailing.push(D))};p.visit=function(B,D){"Line"===B.type||"Block"===B.type?this.visitComment(B,D):this.attach&&this.visitNode(B,D)};return y}();C.CommentHandler=J;Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/lib/syntax":function(){define(["exports"],
function(C){C.Syntax={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",ContinueStatement:"ContinueStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",
IfStatement:"IfStatement",Literal:"Literal",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",ObjectExpression:"ObjectExpression",Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator"};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/lib/parser":function(){define("exports ./assert ./error-handler ./messages ./nodes ./scanner ./syntax ./token".split(" "),
function(C,z,J,y,p,B,D,r){let d=function(){function m(b,e={},h){this.config={range:"boolean"===typeof e.range&&e.range,loc:"boolean"===typeof e.loc&&e.loc,source:null,tokens:"boolean"===typeof e.tokens&&e.tokens,comment:"boolean"===typeof e.comment&&e.comment,tolerant:"boolean"===typeof e.tolerant&&e.tolerant,globalReturn:!!e.globalReturn};this.config.loc&&e.source&&null!==e.source&&(this.config.source=String(e.source));this.delegate=h;this.errorHandler=new J.ErrorHandler;this.errorHandler.tolerant=
this.config.tolerant;this.scanner=new B.Scanner(b,this.errorHandler);this.scanner.trackComment=this.config.comment;this.operatorPrecedence={")":0,";":0,",":0,"\x3d":0,"]":0,"||":1,"\x26\x26":2,"|":3,"^":4,"\x26":5,"\x3d\x3d":6,"!\x3d":6,"\x3d\x3d\x3d":6,"!\x3d\x3d":6,"\x3c":7,"\x3e":7,"\x3c\x3d":7,"\x3e\x3d":7,"\x3c\x3c":8,"\x3e\x3e":8,"\x3e\x3e\x3e":8,"+":9,"-":9,"*":11,"/":11,"%":11};this.lookahead={type:r.TokenType.EOF,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0};this.hasLineTerminator=
!1;this.context={allowIn:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,curlyParsing:"asObject"};this.tokens=[];this.startMarker={index:0,line:this.scanner.lineNumber,column:0};this.lastMarker={index:0,line:this.scanner.lineNumber,column:0};this.nextToken();this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}var q=m.prototype;q.tolerateError=function(b,...e){const h=
e.slice();b=b.replace(/%(\d)/g,(n,x)=>{z.assert(x<h.length,"Message reference must be in range");return h[x]});this.errorHandler.tolerateError(this.lastMarker.index,this.scanner.lineNumber,this.lastMarker.column+1,b)};q.unexpectedTokenError=function(b,e){let h=e||y.Messages.UnexpectedToken;b?(e||(h=b.type===r.TokenType.EOF?y.Messages.UnexpectedEOS:b.type===r.TokenType.Identifier?y.Messages.UnexpectedIdentifier:b.type===r.TokenType.NumericLiteral?y.Messages.UnexpectedNumber:b.type===r.TokenType.StringLiteral?
y.Messages.UnexpectedString:b.type===r.TokenType.Template?y.Messages.UnexpectedTemplate:y.Messages.UnexpectedToken),e=b.value.toString()):e="ILLEGAL";h=h.replace("%0",e);return b&&"number"===typeof b.lineNumber?this.errorHandler.createError(b.start,b.lineNumber,b.start-(this.lastMarker.index-this.lastMarker.column)+1,h):this.errorHandler.createError(this.lastMarker.index,this.lastMarker.line,this.lastMarker.column+1,h)};q.throwUnexpectedToken=function(b,e){throw this.unexpectedTokenError(b,e);};q.tolerateUnexpectedToken=
function(b,e){this.errorHandler.tolerate(this.unexpectedTokenError(b,e))};q.collectComments=function(){if(this.config.comment){const b=this.scanner.scanComments();if(b&&0<b.length&&this.delegate)for(let e=0;e<b.length;++e){const h=b[e],n=new p.Comment(h.multiLine?"Block":"Line",this.scanner.source.slice(h.slice[0],h.slice[1]));this.config.range&&(n.range=h.range);this.config.loc&&(n.loc=h.loc);this.delegate(n,{start:{line:h.loc.start.line,column:h.loc.start.column,offset:h.range[0]},end:{line:h.loc.end.line,
column:h.loc.end.column,offset:h.range[1]}})}}else this.scanner.scanComments()};q.peekAhead=function(b){const e=this.scanner.saveState();b.call(this,()=>{this.scanner.scanComments();return this.scanner.lex()});this.scanner.restoreState(e)};q.getTokenRaw=function(b){return this.scanner.source.slice(b.start,b.end)};q.convertToken=function(b){const e={type:r.TokenName[b.type],value:this.getTokenRaw(b)};this.config.range&&(e.range=[b.start,b.end]);this.config.loc&&(e.loc={start:{line:this.startMarker.line,
column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}});b.type===r.TokenType.RegularExpression&&(e.regex={pattern:b.pattern,flags:b.flags});return e};q.nextToken=function(){const b=this.lookahead;this.lastMarker.index=this.scanner.index;this.lastMarker.line=this.scanner.lineNumber;this.lastMarker.column=this.scanner.index-this.scanner.lineStart;this.collectComments();this.scanner.index!==this.startMarker.index&&(this.startMarker.index=
this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);const e=this.scanner.lex();this.hasLineTerminator=b.lineNumber!==e.lineNumber;this.lookahead=e;this.config.tokens&&e.type!==r.TokenType.EOF&&this.tokens.push(this.convertToken(e));return b};q.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}};q.startNode=function(b,e=0){let h=b.start-b.lineStart,n=b.lineNumber;
0>h&&(h+=e,n--);return{index:b.start,line:n,column:h}};q.finalize=function(b,e){this.config.range&&(e.range=[b.index,this.lastMarker.index]);this.config.loc&&(e.loc={start:{line:b.line,column:b.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(e.loc.source=this.config.source));this.delegate&&this.delegate(e,{start:{line:b.line,column:b.column,offset:b.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}});return e};
q.expect=function(b){const e=this.nextToken();e.type===r.TokenType.Punctuator&&e.value===b||this.throwUnexpectedToken(e)};q.expectCommaSeparator=function(){if(this.config.tolerant){const b=this.lookahead;b.type===r.TokenType.Punctuator&&","===b.value?this.nextToken():b.type===r.TokenType.Punctuator&&";"===b.value?(this.nextToken(),this.tolerateUnexpectedToken(b)):this.tolerateUnexpectedToken(b,y.Messages.UnexpectedToken)}else this.expect(",")};q.expectKeyword=function(b){const e=this.nextToken();
e.type===r.TokenType.Keyword&&e.value.toString().toLowerCase()===b.toLowerCase()||this.throwUnexpectedToken(e)};q.match=function(b){return this.lookahead.type===r.TokenType.Punctuator&&this.lookahead.value===b};q.matchKeyword=function(b){return this.lookahead.type===r.TokenType.Keyword&&this.lookahead.value.toLowerCase()===b.toLowerCase()};q.matchContextualKeyword=function(b){return this.lookahead.type===r.TokenType.Identifier&&this.lookahead.value===b};q.matchAssign=function(){return this.lookahead.type!==
r.TokenType.Punctuator?!1:p.AssignmentOperators.includes(this.lookahead.value)};q.isolateCoverGrammar=function(b){const e=this.context.isBindingElement,h=this.context.isAssignmentTarget,n=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;b=b.call(this);null!==this.context.firstCoverInitializedNameError&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError);this.context.isBindingElement=
e;this.context.isAssignmentTarget=h;this.context.firstCoverInitializedNameError=n;return b};q.inheritCoverGrammar=function(b){const e=this.context.isBindingElement,h=this.context.isAssignmentTarget,n=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0;this.context.isAssignmentTarget=!0;this.context.firstCoverInitializedNameError=null;b=b.call(this);this.context.isBindingElement=this.context.isBindingElement&&e;this.context.isAssignmentTarget=this.context.isAssignmentTarget&&
h;this.context.firstCoverInitializedNameError=n||this.context.firstCoverInitializedNameError;return b};q.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type===r.TokenType.EOF||this.match("}")||this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)};q.parsePrimaryExpression=function(){var b=this.createNode();let e,h;switch(this.lookahead.type){case r.TokenType.Identifier:b=
this.finalize(b,new p.Identifier(this.nextToken().value));break;case r.TokenType.NumericLiteral:case r.TokenType.StringLiteral:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;e=this.nextToken();h=this.getTokenRaw(e);b=this.finalize(b,new p.Literal(e.value,h));break;case r.TokenType.BooleanLiteral:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;e=this.nextToken();h=this.getTokenRaw(e);b=this.finalize(b,new p.Literal("true"===e.value.toString().toLowerCase(),
h));break;case r.TokenType.NullLiteral:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;e=this.nextToken();h=this.getTokenRaw(e);b=this.finalize(b,new p.Literal(null,h));break;case r.TokenType.Template:b=this.parseTemplateLiteral();break;case r.TokenType.Punctuator:switch(this.lookahead.value){case "(":this.context.isBindingElement=!1;b=this.inheritCoverGrammar(this.parseGroupExpression);break;case "[":b=this.inheritCoverGrammar(this.parseArrayInitializer);break;case "{":b=this.inheritCoverGrammar(this.parseObjectInitializer);
break;default:b=this.throwUnexpectedToken(this.nextToken())}break;case r.TokenType.Keyword:this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1;b=this.throwUnexpectedToken(this.nextToken());break;default:b=this.throwUnexpectedToken(this.nextToken())}return b};q.parseArrayInitializer=function(){const b=this.createNode(),e=[];for(this.expect("[");!this.match("]");)this.match(",")?(this.nextToken(),e.push(null)):(e.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||
this.expect(","));this.expect("]");return this.finalize(b,new p.ArrayExpression(e))};q.parseObjectPropertyKey=function(){var b=this.createNode();const e=this.nextToken();switch(e.type){case r.TokenType.StringLiteral:case r.TokenType.NumericLiteral:b=this.finalize(b,new p.Literal(e.value,this.getTokenRaw(e)));break;case r.TokenType.Identifier:case r.TokenType.BooleanLiteral:case r.TokenType.NullLiteral:case r.TokenType.Keyword:b=this.finalize(b,new p.Identifier(e.value));break;default:b=this.throwUnexpectedToken(e)}return b};
q.parseObjectProperty=function(){const b=this.createNode();var e=this.lookahead;let h=!1,n=!1;var x=null;e.type===r.TokenType.Identifier?(x=e.value,this.nextToken(),h=this.match("["),x=this.finalize(b,new p.Identifier(x))):this.match("*")?this.nextToken():(h=this.match("["),x=this.parseObjectPropertyKey());x||this.throwUnexpectedToken(this.lookahead);let u=null;this.match(":")?(this.nextToken(),u=this.inheritCoverGrammar(this.parseAssignmentExpression)):e.type===r.TokenType.Identifier?(e=this.finalize(b,
new p.Identifier(e.value)),n=!0,u=e):this.throwUnexpectedToken(this.nextToken());return this.finalize(b,new p.Property("init",x,h,u,!1,n))};q.parseObjectInitializer=function(){const b=this.createNode();this.expect("{");const e=[];for(;!this.match("}");)e.push(this.parseObjectProperty()),this.match("}")||this.expectCommaSeparator();this.expect("}");return this.finalize(b,new p.ObjectExpression(e))};q.parseTemplateHead=function(){z.assert(this.lookahead.head,"Template literal must start with a template head");
const b=this.createNode(),e=this.nextToken();return this.finalize(b,new p.TemplateElement({raw:e.value,cooked:e.cooked},e.tail))};q.parseTemplateElement=function(){this.lookahead.type!==r.TokenType.Template&&this.throwUnexpectedToken();const b=this.createNode(),e=this.nextToken();return this.finalize(b,new p.TemplateElement({raw:e.value,cooked:e.cooked},e.tail))};q.parseTemplateLiteral=function(){const b=this.createNode(),e=[],h=[];let n=this.parseTemplateHead();for(h.push(n);!n.tail;)e.push(this.parseExpression()),
n=this.parseTemplateElement(),h.push(n);return this.finalize(b,new p.TemplateLiteral(h,e))};q.parseGroupExpression=function(){this.expect("(");this.context.isBindingElement=!0;const b=this.inheritCoverGrammar(this.parseAssignmentExpression);this.expect(")");this.context.isBindingElement=!1;return b};q.parseArguments=function(){this.expect("(");const b=[];if(!this.match(")"))for(;;){const e=this.isolateCoverGrammar(this.parseAssignmentExpression);b.push(e);if(this.match(")"))break;this.expectCommaSeparator();
if(this.match(")"))break}this.expect(")");return b};q.isIdentifierName=function(b){return b.type===r.TokenType.Identifier||b.type===r.TokenType.Keyword||b.type===r.TokenType.BooleanLiteral||b.type===r.TokenType.NullLiteral};q.parseIdentifierName=function(){const b=this.createNode(),e=this.nextToken();this.isIdentifierName(e)||this.throwUnexpectedToken(e);return this.finalize(b,new p.Identifier(e.value))};q.parseLeftHandSideExpressionAllowCall=function(){const b=this.lookahead,e=this.context.allowIn;
this.context.allowIn=!0;let h=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("(")){this.context.isBindingElement=!1;this.context.isAssignmentTarget=!1;var n=this.parseArguments();h=this.finalize(this.startNode(b),new p.CallExpression(h,n))}else if(this.match("["))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("["),n=this.isolateCoverGrammar(this.parseExpression),this.expect("]"),h=this.finalize(this.startNode(b),new p.ComputedMemberExpression(h,
n));else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),n=this.parseIdentifierName(),h=this.finalize(this.startNode(b),new p.StaticMemberExpression(h,n));else break;this.context.allowIn=e;return h};q.parseLeftHandSideExpression=function(){z.assert(this.context.allowIn,"callee of new expression always allow in keyword.");const b=this.startNode(this.lookahead);let e=this.inheritCoverGrammar(this.parsePrimaryExpression);for(;;)if(this.match("[")){this.context.isBindingElement=
!1;this.context.isAssignmentTarget=!0;this.expect("[");var h=this.isolateCoverGrammar(this.parseExpression);this.expect("]");e=this.finalize(b,new p.ComputedMemberExpression(e,h))}else if(this.match("."))this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("."),h=this.parseIdentifierName(),e=this.finalize(b,new p.StaticMemberExpression(e,h));else break;return e};q.parseUpdateExpression=function(){let b;var e=this.lookahead;if(this.match("++")||this.match("--")){e=this.startNode(e);
var h=this.nextToken();b=this.inheritCoverGrammar(this.parseUnaryExpression);this.context.isAssignmentTarget||this.tolerateError(y.Messages.InvalidLHSInAssignment);b=this.finalize(e,new p.UpdateExpression(h.value,b,!0));this.context.isAssignmentTarget=!1;this.context.isBindingElement=!1}else b=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),this.hasLineTerminator||this.lookahead.type!==r.TokenType.Punctuator||!this.match("++")&&!this.match("--")||(this.context.isAssignmentTarget||
this.tolerateError(y.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,h=this.nextToken().value,b=this.finalize(this.startNode(e),new p.UpdateExpression(h,b,!1)));return b};q.parseUnaryExpression=function(){let b;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")){const e=this.startNode(this.lookahead),h=this.nextToken();b=this.inheritCoverGrammar(this.parseUnaryExpression);b=this.finalize(e,new p.UnaryExpression(h.value,b));this.context.isAssignmentTarget=
!1;this.context.isBindingElement=!1}else b=this.parseUpdateExpression();return b};q.binaryPrecedence=function(b){const e=b.value;return b.type===r.TokenType.Punctuator?this.operatorPrecedence[e]||0:b.type===r.TokenType.Keyword?this.context.allowIn&&"in"===e?12:0:0};q.parseBinaryExpression=function(){var b=this.lookahead,e=this.inheritCoverGrammar(this.parseUnaryExpression),h=this.lookahead,n=this.binaryPrecedence(h);if(0<n){this.nextToken();this.context.isAssignmentTarget=!1;this.context.isBindingElement=
!1;b=[b,this.lookahead];var x=this.inheritCoverGrammar(this.parseUnaryExpression);h=[e,h.value,x];for(var u=[n];;){n=this.binaryPrecedence(this.lookahead);if(0>=n)break;for(;2<h.length&&n<=u[u.length-1];){x=h.pop();const L=h.pop();u.pop();e=h.pop();b.pop();var F=b[b.length-1];F=this.startNode(F,F.lineStart);h.push(this.finalize(F,new p.BinaryExpression(L,e,x)))}h.push(this.nextToken().value);u.push(n);b.push(this.lookahead);h.push(this.inheritCoverGrammar(this.parseUnaryExpression))}n=h.length-1;
e=h[n];for(u=b.pop();1<n;){x=b.pop();if(!x)break;u=this.startNode(x,u&&u.lineStart);e=this.finalize(u,new p.BinaryExpression(h[n-1],h[n-2],e));n-=2;u=x}}return e};q.parseAssignmentExpression=function(){const b=this.lookahead;var e=b;let h=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.matchAssign()){this.context.isAssignmentTarget||this.tolerateError(y.Messages.InvalidLHSInAssignment);this.match("\x3d")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1);e=this.nextToken();
e=e.value;const n=this.isolateCoverGrammar(this.parseAssignmentExpression);h=this.finalize(this.startNode(b),new p.AssignmentExpression(e,h,n));this.context.firstCoverInitializedNameError=null}return h};q.parseExpression=function(){return this.isolateCoverGrammar(this.parseAssignmentExpression)};q.parseStatementListItem=function(){let b;this.context.isAssignmentTarget=!0;this.context.isBindingElement=!0;if(this.lookahead.type===r.TokenType.Keyword)switch(this.lookahead.value){case "function":b=this.parseFunctionDeclaration();
break;default:b=this.parseStatement()}else b=this.parseStatement();return b};q.parseBlock=function(){const b=this.createNode();this.expect("{");const e=[];for(;!this.match("}");)e.push(this.parseStatementListItem());this.expect("}");return this.finalize(b,new p.BlockStatement(e))};q.parseObjectStatement=function(){const b=this.createNode(),e=this.parseObjectInitializer();return this.finalize(b,new p.ExpressionStatement(e))};q.parseBlockOrObjectStatement=function(){let b="asObject"===this.context.curlyParsing;
"asObjectOrBlock"===this.context.curlyParsing&&this.peekAhead(e=>{let h=e();if(h.type===r.TokenType.Identifier||h.type===r.TokenType.StringLiteral)h=e(),h.type===r.TokenType.Punctuator&&":"===h.value&&(b=!0)});return b?this.parseObjectStatement():this.parseBlock()};q.parseVariableIdentifier=function(){const b=this.createNode(),e=this.nextToken();e.type!==r.TokenType.Identifier&&this.throwUnexpectedToken(e,y.Messages.IdentiferExpected);return this.finalize(b,new p.Identifier(e.value))};q.parseVariableDeclaration=
function(b){const e=this.createNode(),h=this.parseVariableIdentifier();let n=null;this.match("\x3d")?(this.nextToken(),n=this.isolateCoverGrammar(this.parseAssignmentExpression)):h.type===D.Syntax.Identifier||b.inFor||this.expect("\x3d");return this.finalize(e,new p.VariableDeclarator(h,n))};q.parseVariableDeclarationList=function(b){const e=[this.parseVariableDeclaration(b)];for(;this.match(",");)this.nextToken(),e.push(this.parseVariableDeclaration(b));return e};q.parseVariableStatement=function(){const b=
this.createNode();this.expectKeyword("var");const e=this.parseVariableDeclarationList({inFor:!1});this.consumeSemicolon();return this.finalize(b,new p.VariableDeclaration(e,"var"))};q.parseEmptyStatement=function(){const b=this.createNode();this.expect(";");return this.finalize(b,new p.EmptyStatement)};q.parseExpressionStatement=function(){const b=this.createNode(),e=this.parseExpression();this.consumeSemicolon();return this.finalize(b,new p.ExpressionStatement(e))};q.parseIfClause=function(){const b=
this.context.curlyParsing;this.context.curlyParsing="asObjectOrBlock";const e=this.parseStatement();this.context.curlyParsing=b;return e};q.parseIfStatement=function(){const b=this.createNode();let e,h=null;this.expectKeyword("if");this.expect("(");const n=this.parseExpression();!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),e=this.finalize(this.createNode(),new p.EmptyStatement)):(this.expect(")"),e=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),
h=this.parseIfClause()));return this.finalize(b,new p.IfStatement(n,e,h))};q.parseForStatement=function(){let b=null,e=null,h=null,n=null,x=null;const u=this.createNode();this.expectKeyword("for");this.expect("(");if(this.match(";"))this.nextToken();else if(this.matchKeyword("var")){var F=this.createNode();this.nextToken();var L=this.context.allowIn;this.context.allowIn=!1;var E=this.parseVariableDeclarationList({inFor:!0});this.context.allowIn=L;1===E.length&&this.matchKeyword("in")?(E[0].init&&
this.tolerateError(y.Messages.ForInOfLoopInitializer,"for-in"),n=this.finalize(F,new p.VariableDeclaration(E,"var")),this.nextToken(),x=this.parseExpression()):(b=this.finalize(F,new p.VariableDeclaration(E,"var")),this.expect(";"))}else{F=this.context.isBindingElement;L=this.context.isAssignmentTarget;E=this.context.firstCoverInitializedNameError;const c=this.context.allowIn;this.context.allowIn=!1;b=this.inheritCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=c;this.matchKeyword("in")?
(this.context.isAssignmentTarget&&b.type!==D.Syntax.AssignmentExpression||this.tolerateError(y.Messages.InvalidLHSInForIn),this.nextToken(),n=b,x=this.parseExpression(),b=null):(this.context.isBindingElement=F,this.context.isAssignmentTarget=L,this.context.firstCoverInitializedNameError=E,this.expect(";"))}n||(this.match(";")||(e=this.isolateCoverGrammar(this.parseExpression)),this.expect(";"),this.match(")")||(h=this.isolateCoverGrammar(this.parseExpression)));!this.match(")")&&this.config.tolerant?
(this.tolerateUnexpectedToken(this.nextToken()),F=this.finalize(this.createNode(),new p.EmptyStatement)):(this.expect(")"),L=this.context.inIteration,E=this.context.curlyParsing,this.context.inIteration=!0,this.context.curlyParsing="asObjectOrBlock",F=this.isolateCoverGrammar(this.parseStatement),this.context.curlyParsing=E,this.context.inIteration=L);return n&&x?this.finalize(u,new p.ForInStatement(n,x,F)):this.finalize(u,new p.ForStatement(b,e,h,F))};q.parseContinueStatement=function(){const b=
this.createNode();this.expectKeyword("continue");this.consumeSemicolon();return this.finalize(b,new p.ContinueStatement)};q.parseBreakStatement=function(){const b=this.createNode();this.expectKeyword("break");this.consumeSemicolon();return this.finalize(b,new p.BreakStatement)};q.parseReturnStatement=function(){this.config.globalReturn||this.context.inFunctionBody||this.tolerateError(y.Messages.IllegalReturn);const b=this.createNode();this.expectKeyword("return");const e=(this.match(";")||this.match("}")||
this.hasLineTerminator||this.lookahead.type===r.TokenType.EOF)&&this.lookahead.type!==r.TokenType.StringLiteral&&this.lookahead.type!==r.TokenType.Template?null:this.parseExpression();this.consumeSemicolon();return this.finalize(b,new p.ReturnStatement(e))};q.parseStatement=function(){switch(this.lookahead.type){case r.TokenType.BooleanLiteral:case r.TokenType.NullLiteral:case r.TokenType.NumericLiteral:case r.TokenType.StringLiteral:case r.TokenType.Template:case r.TokenType.Identifier:var b=this.parseExpressionStatement();
break;case r.TokenType.Punctuator:b=this.lookahead.value;b="{"===b?this.parseBlockOrObjectStatement():"("===b?this.parseExpressionStatement():";"===b?this.parseEmptyStatement():this.parseExpressionStatement();break;case r.TokenType.Keyword:switch(this.lookahead.value.toLowerCase()){case "break":b=this.parseBreakStatement();break;case "continue":b=this.parseContinueStatement();break;case "for":b=this.parseForStatement();break;case "function":b=this.parseFunctionDeclaration();break;case "if":b=this.parseIfStatement();
break;case "return":b=this.parseReturnStatement();break;case "var":b=this.parseVariableStatement();break;default:b=this.parseExpressionStatement()}break;default:b=this.throwUnexpectedToken(this.lookahead)}return b};q.parseFunctionSourceElements=function(){const b=this.createNode();this.expect("{");const e=this.context.inIteration,h=this.context.inFunctionBody;this.context.inIteration=!1;this.context.inFunctionBody=!0;const n=[];for(;this.lookahead.type!==r.TokenType.EOF&&!this.match("}");)n.push(this.parseStatementListItem());
this.expect("}");this.context.inIteration=e;this.context.inFunctionBody=h;return this.finalize(b,new p.BlockStatement(n))};q.parseFormalParameters=function(){const b=[];this.expect("(");if(!this.match(")"))for(;this.lookahead.type!==r.TokenType.EOF;){b.push(this.parseVariableIdentifier());if(this.match(")"))break;this.expect(",");if(this.match(")"))break}this.expect(")");return b};q.parseFunctionDeclaration=function(){const b=this.createNode();this.expectKeyword("function");const e=this.parseVariableIdentifier(),
h=this.parseFormalParameters(),n=this.parseFunctionSourceElements();return this.finalize(b,new p.FunctionDeclaration(e,h,n))};q.parseScript=function(){const b=this.createNode(),e=[];for(;this.lookahead.type!==r.TokenType.EOF;)e.push(this.parseStatementListItem());return this.finalize(b,new p.Program(e))};return m}();C.Parser=d;Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/lib/assert":function(){define(["exports"],function(C){C.assert=function(z,J){if(!z)throw Error("ASSERT: "+J);
};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/lib/error-handler":function(){define(["exports"],function(C){let z=function(){function J(){this.errors=[];this.tolerant=!1}var y=J.prototype;y.recordError=function(p){this.errors.push(p)};y.tolerate=function(p){if(this.tolerant)this.recordError(p);else throw p;};y.constructError=function(p,B){p=Error(p);try{throw p;}catch(D){Object.create&&Object.defineProperty&&(p=Object.create(D),Object.defineProperty(p,"column",{value:B}))}return p};
y.createError=function(p,B,D,r){D=this.constructError("Line "+B+": "+r,D);D.index=p;D.lineNumber=B;D.description=r;return D};y.throwError=function(p,B,D,r){throw this.createError(p,B,D,r);};y.tolerateError=function(p,B,D,r){p=this.createError(p,B,D,r);if(this.tolerant)this.recordError(p);else throw p;};return J}();C.ErrorHandler=z;Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/lib/messages":function(){define(["exports"],function(C){C.Messages={ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",
GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",
InvalidRegExp:"Invalid regular expression",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictParamDupe:"Strict mode function may not have duplicate parameter names",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",
UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnterminatedRegExp:"Invalid regular expression: missing /",IdentiferExpected:"Identifier expected"};Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/lib/nodes":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","./syntax"],function(C,z,J){var y=function(){};let p=function(V){function ca(na,la){var ja=V.call(this)||this;ja.type=na;ja.value=la;return ja}z._inheritsLoose(ca,V);return ca}(y),
B=function(V){function ca(na){var la=V.call(this)||this;la.elements=na;la.type=J.Syntax.ArrayExpression;return la}z._inheritsLoose(ca,V);return ca}(y),D=function(V){function ca(na,la,ja){var qa=V.call(this)||this;qa.operator=na;qa.left=la;qa.right=ja;qa.type=J.Syntax.AssignmentExpression;return qa}z._inheritsLoose(ca,V);return ca}(y);const r=["||","\x26\x26"];let d=function(V){function ca(na,la,ja){var qa=V.call(this)||this;qa.operator=na;qa.left=la;qa.right=ja;qa.type=r.includes(na)?J.Syntax.LogicalExpression:
J.Syntax.BinaryExpression;return qa}z._inheritsLoose(ca,V);return ca}(y),m=function(V){function ca(na){var la=V.call(this)||this;la.body=na;la.type=J.Syntax.BlockStatement;return la}z._inheritsLoose(ca,V);return ca}(y),q=function(V){function ca(){var na=V.apply(this,arguments)||this;na.type=J.Syntax.BreakStatement;return na}z._inheritsLoose(ca,V);return ca}(y),b=function(V){function ca(na,la){var ja=V.call(this)||this;ja.callee=na;ja.args=la;ja.type=J.Syntax.CallExpression;ja.arguments=la;return ja}
z._inheritsLoose(ca,V);return ca}(y),e=function(V){function ca(na,la){var ja=V.call(this)||this;ja.object=na;ja.property=la;ja.type=J.Syntax.MemberExpression;ja.computed=!0;return ja}z._inheritsLoose(ca,V);return ca}(y),h=function(V){function ca(na,la){var ja=V.call(this)||this;ja.object=na;ja.property=la;ja.type=J.Syntax.MemberExpression;ja.computed=!1;return ja}z._inheritsLoose(ca,V);return ca}(y),n=function(V){function ca(){var na=V.apply(this,arguments)||this;na.type=J.Syntax.ContinueStatement;
return na}z._inheritsLoose(ca,V);return ca}(y),x=function(V){function ca(){var na=V.apply(this,arguments)||this;na.type=J.Syntax.EmptyStatement;return na}z._inheritsLoose(ca,V);return ca}(y),u=function(V){function ca(na){var la=V.call(this)||this;la.expression=na;la.type=J.Syntax.ExpressionStatement;return la}z._inheritsLoose(ca,V);return ca}(y),F=function(V){function ca(na,la,ja){var qa=V.call(this)||this;qa.left=na;qa.right=la;qa.body=ja;qa.type=J.Syntax.ForInStatement;qa.each=!1;return qa}z._inheritsLoose(ca,
V);return ca}(y),L=function(V){function ca(na,la,ja,qa){var sa=V.call(this)||this;sa.init=na;sa.test=la;sa.update=ja;sa.body=qa;sa.type=J.Syntax.ForStatement;return sa}z._inheritsLoose(ca,V);return ca}(y),E=function(V){function ca(na,la,ja){var qa=V.call(this)||this;qa.id=na;qa.params=la;qa.body=ja;qa.type=J.Syntax.FunctionDeclaration;qa.generator=!1;qa.expression=!1;qa.async=!1;return qa}z._inheritsLoose(ca,V);return ca}(y),c=function(V){function ca(na){var la=V.call(this)||this;la.name=na;la.type=
J.Syntax.Identifier;return la}z._inheritsLoose(ca,V);return ca}(y),f=function(V){function ca(na,la,ja){var qa=V.call(this)||this;qa.test=na;qa.consequent=la;qa.alternate=ja;qa.type=J.Syntax.IfStatement;return qa}z._inheritsLoose(ca,V);return ca}(y),l=function(V){function ca(na,la){var ja=V.call(this)||this;ja.value=na;ja.raw=la;ja.type=J.Syntax.Literal;return ja}z._inheritsLoose(ca,V);return ca}(y),g=function(V){function ca(na){var la=V.call(this)||this;la.properties=na;la.type=J.Syntax.ObjectExpression;
return la}z._inheritsLoose(ca,V);return ca}(y),X=function(V){function ca(na,la,ja,qa,sa,Na){var O=V.call(this)||this;O.kind=na;O.key=la;O.computed=ja;O.value=qa;O.method=sa;O.shorthand=Na;O.type=J.Syntax.Property;return O}z._inheritsLoose(ca,V);return ca}(y),ea=function(V){function ca(na){var la=V.call(this)||this;la.argument=na;la.type=J.Syntax.ReturnStatement;return la}z._inheritsLoose(ca,V);return ca}(y),Z=function(V){function ca(na){var la=V.call(this)||this;la.body=na;la.type=J.Syntax.Program;
return la}z._inheritsLoose(ca,V);return ca}(y),pa=function(V){function ca(na,la){var ja=V.call(this)||this;ja.value=na;ja.tail=la;ja.type=J.Syntax.TemplateElement;return ja}z._inheritsLoose(ca,V);return ca}(y),Sa=function(V){function ca(na,la){var ja=V.call(this)||this;ja.quasis=na;ja.expressions=la;ja.type=J.Syntax.TemplateLiteral;return ja}z._inheritsLoose(ca,V);return ca}(y),Xa=function(V){function ca(na,la){var ja=V.call(this)||this;ja.operator=na;ja.argument=la;ja.type=J.Syntax.UnaryExpression;
ja.prefix=!0;return ja}z._inheritsLoose(ca,V);return ca}(y),Oa=function(V){function ca(na,la,ja){var qa=V.call(this)||this;qa.operator=na;qa.argument=la;qa.prefix=ja;qa.type=J.Syntax.UpdateExpression;return qa}z._inheritsLoose(ca,V);return ca}(y),ua=function(V){function ca(na,la){var ja=V.call(this)||this;ja.declarations=na;ja.kind=la;ja.type=J.Syntax.VariableDeclaration;return ja}z._inheritsLoose(ca,V);return ca}(y);y=function(V){function ca(na,la){var ja=V.call(this)||this;ja.id=na;ja.init=la;ja.type=
J.Syntax.VariableDeclarator;return ja}z._inheritsLoose(ca,V);return ca}(y);C.ArrayExpression=B;C.AssignmentExpression=D;C.AssignmentOperators="\x3d /\x3d *\x3d %\x3d +\x3d -\x3d".split(" ");C.BinaryExpression=d;C.BinaryOperators="| \x26 \x3e\x3e \x3c\x3c \x3e\x3e \x3e\x3e\x3e ^ \x3d\x3d !\x3d \x3c \x3c\x3d \x3e \x3e\x3d + - * / %".split(" ");C.BlockStatement=m;C.BreakStatement=q;C.CallExpression=b;C.Comment=p;C.ComputedMemberExpression=e;C.ContinueStatement=n;C.EmptyStatement=x;C.ExpressionStatement=
u;C.ForInStatement=F;C.ForStatement=L;C.FunctionDeclaration=E;C.Identifier=c;C.IfStatement=f;C.Literal=l;C.LogicalOperators=r;C.ObjectExpression=g;C.Program=Z;C.Property=X;C.ReturnStatement=ea;C.StaticMemberExpression=h;C.TemplateElement=pa;C.TemplateLiteral=Sa;C.UnaryExpression=Xa;C.UnaryOperators=["-","+","!","~"];C.UpdateExpression=Oa;C.UpdateOperators=["++","--"];C.VariableDeclaration=ua;C.VariableDeclarator=y;Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/lib/scanner":function(){define(["exports",
"./assert","./character","./messages","./token"],function(C,z,J,y,p){let B=function(){function D(d,m){this.source=d;this.errorHandler=m;this.isModule=this.trackComment=!1;this.length=d.length;this.index=0;this.lineNumber=0<d.length?1:0;this.lineStart=0;this.curlyStack=[]}var r=D.prototype;r.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart,curlyStack:this.curlyStack.slice()}};r.restoreState=function(d){this.index=d.index;this.lineNumber=d.lineNumber;
this.lineStart=d.lineStart;this.curlyStack=d.curlyStack};r.eof=function(){return this.index>=this.length};r.throwUnexpectedToken=function(d=y.Messages.UnexpectedTokenIllegal){return this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,d)};r._tolerateUnexpectedToken=function(d=y.Messages.UnexpectedTokenIllegal){this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,d)};r._skipSingleLineComment=function(d){let m=[],q=0,b=null;this.trackComment&&
(m=[],q=this.index-d,b={start:{line:this.lineNumber,column:this.index-this.lineStart-d},end:{line:0,column:0}});for(;!this.eof();){const e=this.source.charCodeAt(this.index);++this.index;if(J.Character.isLineTerminator(e))return b&&(b.end={line:this.lineNumber,column:this.index-this.lineStart-1},m.push({multiLine:!1,slice:[q+d,this.index-1],range:[q,this.index-1],loc:b})),13===e&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,m}b&&(b.end={line:this.lineNumber,
column:this.index-this.lineStart},m.push({multiLine:!1,slice:[q+d,this.index],range:[q,this.index],loc:b}));return m};r._skipMultiLineComment=function(){const d=[];let m=0,q=null;this.trackComment&&(m=this.index-2,q={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{line:0,column:0}});for(;!this.eof();){const b=this.source.charCodeAt(this.index);if(J.Character.isLineTerminator(b))13===b&&10===this.source.charCodeAt(this.index+1)&&++this.index,++this.lineNumber,++this.index,this.lineStart=
this.index;else{if(42===b&&47===this.source.charCodeAt(this.index+1))return this.index+=2,q&&(q.end={line:this.lineNumber,column:this.index-this.lineStart},d.push({multiLine:!0,slice:[m+2,this.index-2],range:[m,this.index],loc:q})),d;++this.index}}q&&(q.end={line:this.lineNumber,column:this.index-this.lineStart},d.push({multiLine:!0,slice:[m+2,this.index],range:[m,this.index],loc:q}));this._tolerateUnexpectedToken();return d};r.scanComments=function(){let d=null;this.trackComment&&(d=[]);for(var m=
0===this.index;!this.eof();){var q=this.source.charCodeAt(this.index);if(J.Character.isWhiteSpace(q))++this.index;else if(J.Character.isLineTerminator(q))++this.index,13===q&&10===this.source.charCodeAt(this.index)&&++this.index,++this.lineNumber,this.lineStart=this.index,m=!0;else if(47===q)if(q=this.source.charCodeAt(this.index+1),47===q)this.index+=2,m=this._skipSingleLineComment(2),d&&(d=d.concat(m)),m=!0;else if(42===q)this.index+=2,q=this._skipMultiLineComment(),d&&(d=d.concat(q));else break;
else if(m&&45===q)if(45===this.source.charCodeAt(this.index+1)&&62===this.source.charCodeAt(this.index+2))this.index+=3,q=this._skipSingleLineComment(3),d&&(d=d.concat(q));else break;else if(60!==q||this.isModule)break;else if("!--"===this.source.slice(this.index+1,this.index+4))this.index+=4,q=this._skipSingleLineComment(4),d&&(d=d.concat(q));else break}return d};r._isKeyword=function(d){d=d.toLowerCase();switch(d.length){case 2:return"if"===d||"in"===d;case 3:return"var"===d||"for"===d;case 4:return"else"===
d;case 5:return"break"===d;case 6:return"return"===d;case 8:return"function"===d||"continue"===d;default:return!1}};r._codePointAt=function(d){let m=this.source.charCodeAt(d);55296<=m&&56319>=m&&(d=this.source.charCodeAt(d+1),56320<=d&&57343>=d&&(m=1024*(m-55296)+d-56320+65536));return m};r._scanHexEscape=function(d){d="u"===d?4:2;let m=0;for(let q=0;q<d;++q)if(!this.eof()&&J.Character.isHexDigit(this.source.charCodeAt(this.index)))m=16*m+"0123456789abcdef".indexOf(this.source[this.index++].toLowerCase());
else return null;return String.fromCharCode(m)};r._scanUnicodeCodePointEscape=function(){let d=this.source[this.index],m=0;for("}"===d&&this.throwUnexpectedToken();!this.eof();){d=this.source[this.index++];if(!J.Character.isHexDigit(d.charCodeAt(0)))break;m=16*m+"0123456789abcdef".indexOf(d.toLowerCase())}(1114111<m||"}"!==d)&&this.throwUnexpectedToken();return J.Character.fromCodePoint(m)};r._getIdentifier=function(){const d=this.index++;for(;!this.eof();){const m=this.source.charCodeAt(this.index);
if(92===m||55296<=m&&57343>m)return this.index=d,this._getComplexIdentifier();if(J.Character.isIdentifierPart(m))++this.index;else break}return this.source.slice(d,this.index)};r._getComplexIdentifier=function(){let d=this._codePointAt(this.index),m=J.Character.fromCodePoint(d);this.index+=m.length;let q;92===d&&(117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,q=this._scanUnicodeCodePointEscape()):(q=this._scanHexEscape("u"),
null!==q&&"\\"!==q&&J.Character.isIdentifierStart(q.charCodeAt(0))||this.throwUnexpectedToken()),m=q);for(;!this.eof();){d=this._codePointAt(this.index);if(!J.Character.isIdentifierPart(d))break;q=J.Character.fromCodePoint(d);m+=q;this.index+=q.length;92===d&&(m=m.substr(0,m.length-1),117!==this.source.charCodeAt(this.index)&&this.throwUnexpectedToken(),++this.index,"{"===this.source[this.index]?(++this.index,q=this._scanUnicodeCodePointEscape()):(q=this._scanHexEscape("u"),null!==q&&"\\"!==q&&J.Character.isIdentifierPart(q.charCodeAt(0))||
this.throwUnexpectedToken()),m+=q)}return m};r._octalToDecimal=function(d){let m="0"!==d,q="01234567".indexOf(d);!this.eof()&&J.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(m=!0,q=8*q+"01234567".indexOf(this.source[this.index++]),0<="0123".indexOf(d)&&!this.eof()&&J.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(q=8*q+"01234567".indexOf(this.source[this.index++])));return{code:q,octal:m}};r._scanIdentifier=function(){let d;const m=this.index,q=92===this.source.charCodeAt(m)?
this._getComplexIdentifier():this._getIdentifier();d=1===q.length?p.TokenType.Identifier:this._isKeyword(q)?p.TokenType.Keyword:"null"===q.toLowerCase()?p.TokenType.NullLiteral:"true"===q.toLowerCase()||"false"===q.toLowerCase()?p.TokenType.BooleanLiteral:p.TokenType.Identifier;if(d!==p.TokenType.Identifier&&m+q.length!==this.index){const b=this.index;this.index=m;this._tolerateUnexpectedToken(y.Messages.InvalidEscapedReservedWord);this.index=b}return{type:d,value:q,lineNumber:this.lineNumber,lineStart:this.lineStart,
start:m,end:this.index}};r._scanPunctuator=function(){const d=this.index;let m=this.source[this.index];switch(m){case "(":case "{":"{"===m&&this.curlyStack.push("{");++this.index;break;case ".":++this.index;break;case "}":++this.index;this.curlyStack.pop();break;case ")":case ";":case ",":case "[":case "]":case ":":case "?":case "~":++this.index;break;default:m=this.source.substr(this.index,4),"\x3e\x3e\x3e\x3d"===m?this.index+=4:(m=m.substr(0,3),"\x3d\x3d\x3d"===m||"!\x3d\x3d"===m||"\x3e\x3e\x3e"===
m||"\x3c\x3c\x3d"===m||"\x3e\x3e\x3d"===m||"**\x3d"===m?this.index+=3:(m=m.substr(0,2),"\x26\x26"===m||"||"===m||"\x3d\x3d"===m||"!\x3d"===m||"+\x3d"===m||"-\x3d"===m||"*\x3d"===m||"/\x3d"===m||"++"===m||"--"===m||"\x3c\x3c"===m||"\x3e\x3e"===m||"\x26\x3d"===m||"|\x3d"===m||"^\x3d"===m||"%\x3d"===m||"\x3c\x3d"===m||"\x3e\x3d"===m||"\x3d\x3e"===m||"**"===m?this.index+=2:(m=this.source[this.index],0<="\x3c\x3e\x3d!+-*%\x26|^/".indexOf(m)&&++this.index)))}this.index===d&&this.throwUnexpectedToken();
return{type:p.TokenType.Punctuator,value:m,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}};r._scanHexLiteral=function(d){let m="";for(;!this.eof()&&J.Character.isHexDigit(this.source.charCodeAt(this.index));)m+=this.source[this.index++];0===m.length&&this.throwUnexpectedToken();J.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:p.TokenType.NumericLiteral,value:parseInt("0x"+m,16),lineNumber:this.lineNumber,lineStart:this.lineStart,
start:d,end:this.index}};r._scanBinaryLiteral=function(d){let m="";for(;!this.eof();){var q=this.source[this.index];if("0"!==q&&"1"!==q)break;m+=this.source[this.index++]}0===m.length&&this.throwUnexpectedToken();this.eof()||(q=this.source.charCodeAt(this.index),(J.Character.isIdentifierStart(q)||J.Character.isDecimalDigit(q))&&this.throwUnexpectedToken());return{type:p.TokenType.NumericLiteral,value:parseInt(m,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}};r._scanOctalLiteral=
function(d,m){let q="",b=!1;J.Character.isOctalDigit(d.charCodeAt(0))?(b=!0,q="0"+this.source[this.index++]):++this.index;for(;!this.eof()&&J.Character.isOctalDigit(this.source.charCodeAt(this.index));)q+=this.source[this.index++];b||0!==q.length||this.throwUnexpectedToken();(J.Character.isIdentifierStart(this.source.charCodeAt(this.index))||J.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken();return{type:p.TokenType.NumericLiteral,value:parseInt(q,8),octal:b,
lineNumber:this.lineNumber,lineStart:this.lineStart,start:m,end:this.index}};r._scanNumericLiteral=function(){const d=this.index;let m=this.source[d];z.assert(J.Character.isDecimalDigit(m.charCodeAt(0))||"."===m,"Numeric literal must start with a decimal digit or a decimal point");let q="";if("."!==m){q=this.source[this.index++];m=this.source[this.index];if("0"===q){if("x"===m||"X"===m)return++this.index,this._scanHexLiteral(d);if("b"===m||"B"===m)return++this.index,this._scanBinaryLiteral(d);if("o"===
m||"O"===m)return this._scanOctalLiteral(m,d)}for(;J.Character.isDecimalDigit(this.source.charCodeAt(this.index));)q+=this.source[this.index++];m=this.source[this.index]}if("."===m){for(q+=this.source[this.index++];J.Character.isDecimalDigit(this.source.charCodeAt(this.index));)q+=this.source[this.index++];m=this.source[this.index]}if("e"===m||"E"===m){q+=this.source[this.index++];m=this.source[this.index];if("+"===m||"-"===m)q+=this.source[this.index++];if(J.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;J.Character.isDecimalDigit(this.source.charCodeAt(this.index));)q+=
this.source[this.index++];else this.throwUnexpectedToken()}J.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken();return{type:p.TokenType.NumericLiteral,value:parseFloat(q),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}};r._scanStringLiteral=function(){const d=this.index;let m=this.source[d];z.assert("'"===m||'"'===m,"String literal must starts with a quote");++this.index;let q=!1,b="";for(;!this.eof();){var e=this.source[this.index++];
if(e===m){m="";break}if("\\"===e)if((e=this.source[this.index++])&&J.Character.isLineTerminator(e.charCodeAt(0)))++this.lineNumber,"\r"===e&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(e){case "u":"{"===this.source[this.index]?(++this.index,b+=this._scanUnicodeCodePointEscape()):(e=this._scanHexEscape(e),null===e&&this.throwUnexpectedToken(),b+=e);break;case "x":e=this._scanHexEscape(e);null===e&&this.throwUnexpectedToken(y.Messages.InvalidHexEscapeSequence);
b+=e;break;case "n":b+="\n";break;case "r":b+="\r";break;case "t":b+="\t";break;case "b":b+="\b";break;case "f":b+="\f";break;case "v":b+="\v";break;case "8":case "9":b+=e;this._tolerateUnexpectedToken();break;default:e&&J.Character.isOctalDigit(e.charCodeAt(0))?(e=this._octalToDecimal(e),q=e.octal||q,b+=String.fromCharCode(e.code)):b+=e}else if(J.Character.isLineTerminator(e.charCodeAt(0)))break;else b+=e}""!==m&&(this.index=d,this.throwUnexpectedToken());return{type:p.TokenType.StringLiteral,value:b,
octal:q,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}};r._scanTemplate=function(){let d="",m=!1;const q=this.index,b="`"===this.source[q];let e=!1,h=2;for(++this.index;!this.eof();){var n=this.source[this.index++];if("`"===n){h=1;m=e=!0;break}if("$"===n){if("{"===this.source[this.index]){this.curlyStack.push("${");++this.index;m=!0;break}d+=n}else if("\\"===n)if(n=this.source[this.index++],J.Character.isLineTerminator(n.charCodeAt(0)))++this.lineNumber,"\r"===n&&"\n"===
this.source[this.index]&&++this.index,this.lineStart=this.index;else switch(n){case "n":d+="\n";break;case "r":d+="\r";break;case "t":d+="\t";break;case "u":if("{"===this.source[this.index])++this.index,d+=this._scanUnicodeCodePointEscape();else{const x=this.index,u=this._scanHexEscape(n);null!==u?d+=u:(this.index=x,d+=n)}break;case "x":n=this._scanHexEscape(n);null===n&&this.throwUnexpectedToken(y.Messages.InvalidHexEscapeSequence);d+=n;break;case "b":d+="\b";break;case "f":d+="\f";break;case "v":d+=
"\v";break;default:"0"===n?(J.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(y.Messages.TemplateOctalLiteral),d+="\x00"):J.Character.isOctalDigit(n.charCodeAt(0))?this.throwUnexpectedToken(y.Messages.TemplateOctalLiteral):d+=n}else J.Character.isLineTerminator(n.charCodeAt(0))?(++this.lineNumber,"\r"===n&&"\n"===this.source[this.index]&&++this.index,this.lineStart=this.index,d+="\n"):d+=n}m||this.throwUnexpectedToken();b||this.curlyStack.pop();return{type:p.TokenType.Template,
value:this.source.slice(q+1,this.index-h),cooked:d,head:b,tail:e,lineNumber:this.lineNumber,lineStart:this.lineStart,start:q,end:this.index}};r._testRegExp=function(d,m){let q=d;0<=m.indexOf("u")&&(q=q.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,(b,e,h)=>{b=parseInt(e||h,16);1114111<b&&this.throwUnexpectedToken(y.Messages.InvalidRegExp);return 65535>=b?String.fromCharCode(b):"\uffff"}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"\uffff"));try{RegExp(q)}catch(b){this.throwUnexpectedToken(y.Messages.InvalidRegExp)}try{return new RegExp(d,
m)}catch(b){return null}};r._scanRegExpBody=function(){let d=this.source[this.index];z.assert("/"===d,"Regular expression literal must start with a slash");let m=this.source[this.index++],q=!1,b=!1;for(;!this.eof();)if(d=this.source[this.index++],m+=d,"\\"===d)d=this.source[this.index++],J.Character.isLineTerminator(d.charCodeAt(0))&&this.throwUnexpectedToken(y.Messages.UnterminatedRegExp),m+=d;else if(J.Character.isLineTerminator(d.charCodeAt(0)))this.throwUnexpectedToken(y.Messages.UnterminatedRegExp);
else if(q)"]"===d&&(q=!1);else{if("/"===d){b=!0;break}"["===d&&(q=!0)}b||this.throwUnexpectedToken(y.Messages.UnterminatedRegExp);return m.substr(1,m.length-2)};r._scanRegExpFlags=function(){let d="";for(;!this.eof();){var m=this.source[this.index];if(!J.Character.isIdentifierPart(m.charCodeAt(0)))break;++this.index;if("\\"!==m||this.eof())d+=m;else{m=this.source[this.index];if("u"===m){++this.index;m=this.index;const q=this._scanHexEscape("u");if(null!==q)for(d+=q;m<this.index;++m);else this.index=
m,d+="u"}this._tolerateUnexpectedToken()}}return d};r.scanRegExp=function(){const d=this.index,m=this._scanRegExpBody(),q=this._scanRegExpFlags(),b=this._testRegExp(m,q);return{type:p.TokenType.RegularExpression,value:"",pattern:m,flags:q,regex:b,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}};r.lex=function(){if(this.eof())return{type:p.TokenType.EOF,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};const d=this.source.charCodeAt(this.index);
return J.Character.isIdentifierStart(d)?this._scanIdentifier():40===d||41===d||59===d?this._scanPunctuator():39===d||34===d?this._scanStringLiteral():46===d?J.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this._scanNumericLiteral():this._scanPunctuator():J.Character.isDecimalDigit(d)?this._scanNumericLiteral():96===d||125===d&&"${"===this.curlyStack[this.curlyStack.length-1]?this._scanTemplate():55296<=d&&57343>d&&J.Character.isIdentifierStart(this._codePointAt(this.index))?this._scanIdentifier():
this._scanPunctuator()};return D}();C.Scanner=B;Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/lib/character":function(){define(["exports"],function(C){var z=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDEC0-\uDEEB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,
J=/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05EF-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u07FD\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D3-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u09FE\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1878\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CD0-\u1CD2\u1CD4-\u1CFA\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7BF\uA7C2-\uA7C6\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB67\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD27\uDD30-\uDD39\uDF00-\uDF1C\uDF27\uDF30-\uDF50\uDFE0-\uDFF6]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD44-\uDD46\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDC9-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3B-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC5E\uDC5F\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDC00-\uDC3A\uDCA0-\uDCE9\uDCFF\uDDA0-\uDDA7\uDDAA-\uDDD7\uDDDA-\uDDE1\uDDE3\uDDE4\uDE00-\uDE3E\uDE47\uDE50-\uDE99\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD8E\uDD90\uDD91\uDD93-\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF4F-\uDF87\uDF8F-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD00-\uDD2C\uDD30-\uDD3D\uDD40-\uDD49\uDD4E\uDEC0-\uDEF9]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4B\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/;
const y={fromCodePoint(p){return 65536>p?String.fromCharCode(p):String.fromCharCode(55296+(p-65536>>10))+String.fromCharCode(56320+(p-65536&1023))},isWhiteSpace(p){return 32===p||9===p||11===p||12===p||160===p||5760<=p&&0<=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(p)},isLineTerminator(p){return 10===p||13===p||8232===p||8233===p},isIdentifierStart(p){return 36===p||95===p||65<=p&&90>=p||97<=p&&122>=p||92===p||128<=p&&z.test(y.fromCodePoint(p))},isIdentifierPart(p){return 36===
p||95===p||65<=p&&90>=p||97<=p&&122>=p||48<=p&&57>=p||92===p||128<=p&&J.test(y.fromCodePoint(p))},isDecimalDigit(p){return 48<=p&&57>=p},isHexDigit(p){return 48<=p&&57>=p||65<=p&&70>=p||97<=p&&102>=p},isOctalDigit(p){return 48<=p&&55>=p}};C.Character=y;Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/lib/token":function(){define(["exports"],function(C){C.TokenType=void 0;var z=C.TokenType||(C.TokenType={});z[z.BooleanLiteral=1]="BooleanLiteral";z[z.EOF=2]="EOF";z[z.Identifier=3]="Identifier";
z[z.Keyword=4]="Keyword";z[z.NullLiteral=5]="NullLiteral";z[z.NumericLiteral=6]="NumericLiteral";z[z.Punctuator=7]="Punctuator";z[z.StringLiteral=8]="StringLiteral";z[z.RegularExpression=9]="RegularExpression";z[z.Template=10]="Template";z={};z[C.TokenType.BooleanLiteral]="Boolean";z[C.TokenType.EOF]="\x3cend\x3e";z[C.TokenType.Identifier]="Identifier";z[C.TokenType.Keyword]="Keyword";z[C.TokenType.NullLiteral]="Null";z[C.TokenType.NumericLiteral]="Numeric";z[C.TokenType.Punctuator]="Punctuator";
z[C.TokenType.StringLiteral]="String";z[C.TokenType.RegularExpression]="RegularExpression";z[C.TokenType.Template]="Template";C.TokenName=z;Object.defineProperty(C,"__esModule",{value:!0})})},"esri/arcade/lib/tokenizer":function(){define(["exports","./error-handler","./nodes","./scanner","./token"],function(C,z,J,y,p){let B=function(){function r(){this.values=[];this.curly=this.paren=-1}var d=r.prototype;d.beforeFunctionExpression=function(m){return 0<=["(","{","[","return",",",...J.AssignmentOperators,
...J.BinaryOperators,...J.LogicalOperators,...J.UnaryOperators].indexOf(m)};d.isRegexStart=function(){var m=this.values[this.values.length-1];let q=null!==m;switch(m){case "this":case "]":q=!1;break;case ")":m=this.values[this.paren-1];q="if"===m||"while"===m||"for"===m||"with"===m;break;case "}":q=!0,"function"===this.values[this.curly-3]?q=(m=this.values[this.curly-4])?!this.beforeFunctionExpression(m):!1:"function"===this.values[this.curly-4]&&(q=(m=this.values[this.curly-5])?!this.beforeFunctionExpression(m):
!0)}return q};d.push=function(m){m.type===p.TokenType.Punctuator||m.type===p.TokenType.Keyword?("{"===m.value?this.curly=this.values.length:"("===m.value&&(this.paren=this.values.length),this.values.push(m.value)):this.values.push(null)};return r}(),D=function(){function r(m,q){this.errorHandler=new z.ErrorHandler;this.errorHandler.tolerant=q?"boolean"===typeof q.tolerant&&q.tolerant:!1;this.scanner=new y.Scanner(m,this.errorHandler);this.scanner.trackComment=q?"boolean"===typeof q.comment&&q.comment:
!1;this.trackRange=q?"boolean"===typeof q.range&&q.range:!1;this.trackLoc=q?"boolean"===typeof q.loc&&q.loc:!1;this.buffer=[];this.reader=new B}var d=r.prototype;d.errors=function(){return this.errorHandler.errors};d.getNextToken=function(){if(0===this.buffer.length){var m=this.scanner.scanComments();if(m)for(var q=0;q<m.length;++q){const e=m[q];var b=this.scanner.source.slice(e.slice[0],e.slice[1]);b={type:e.multiLine?"BlockComment":"LineComment",value:b};this.trackRange&&(b.range=e.range);this.trackLoc&&
(b.loc=e.loc);this.buffer.push(b)}if(!this.scanner.eof()){m=null;this.trackLoc&&(m={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{line:0,column:0}});let e;if("/"===this.scanner.source[this.scanner.index]&&this.reader.isRegexStart()){q=this.scanner.saveState();try{e=this.scanner.scanRegExp()}catch(h){this.scanner.restoreState(q),e=this.scanner.lex()}}else e=this.scanner.lex();this.reader.push(e);q={type:p.TokenName[e.type],value:this.scanner.source.slice(e.start,
e.end)};this.trackRange&&(q.range=[e.start,e.end]);this.trackLoc&&m&&(m.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},q.loc=m);e.type===p.TokenType.RegularExpression&&(q.regex={pattern:e.pattern,flags:e.flags});this.buffer.push(q)}}return this.buffer.shift()};return r}();C.Tokenizer=D;Object.defineProperty(C,"__esModule",{value:!0})})},"*noref":1}});
define("exports ../chunks/arcade ../arcade/Dictionary ../arcade/Feature ../core/lang ../renderers/visualVariables/support/sizeVariableUtils".split(" "),function(C,z,J,y,p,B){function D(h){return h.replace(/[|\\{}()[\]^$+*?.]/g,"\\$\x26")}function r(h){if(!h)return null;try{return z.parseScript(h)}catch(n){}return null}function d(h,n){if(!h)return!1;if("string"===typeof h)return n(h);if("simple"===h.type||"class-breaks"===h.type||"unique-value"===h.type||"dot-density"===h.type||"dictionary"===h.type){if("dot-density"===
h.type){var x=h.attributes.some(u=>n(u.valueExpression));if(x)return x}x=h.visualVariables;x=!!x&&x.some(u=>{let F=n(u.valueExpression);"size"===u.type&&(B.isSizeVariable(u.minSize)&&(F=F||n(u.minSize.valueExpression)),B.isSizeVariable(u.maxSize)&&(F=F||n(u.maxSize.valueExpression)));return F});return"valueExpression"in h&&n(h.valueExpression)?!0:x}return"esri.layers.support.LabelClass"===h.declaredClass?(h=h.labelExpressionInfo&&h.labelExpressionInfo.expression,!(!h||!n(h))||!1):"esri.PopupTemplate"===
h.declaredClass?!!h.expressionInfos&&h.expressionInfos.some(u=>n(u.expression))||Array.isArray(h.content)&&h.content.some(u=>{var F;return"expression"===u.type&&n(null==(F=u.expressionInfo)?void 0:F.expression)}):!1}function m(h){h=r(h);return!!h&&z.scriptTouchesGeometry(h)}function q(h){h=r(h);return!!h&&z.scriptUsesGeometryEngine(h)}const b=/^\$(feature|aggregatedFeatures)\./i,e={vars:{$feature:"any",$view:"any"},spatialReference:null};C.arcade=z.arcade;C.Dictionary=J;C.arcadeFeature=y;C.convertFeatureLayerToFeatureSet=
function({layer:h,spatialReference:n,outFields:x,returnGeometry:u,lrucache:F,interceptor:L}){if(null===h)return null;const E=z.featureSetUtils();return E?E.constructFeatureSet(h,n,x,null!=u?u:!0,F,L):null};C.convertMapToFeatureSetCollection=function(h){if(null===(null==h?void 0:h.map))return null;const n=z.featureSetUtils();return n?n.createFeatureSetCollectionFromMap(h.map,h.spatialReference,h.lrucache,h.interceptor):null};C.convertServiceUrlToWorkspace=function({url:h,spatialReference:n,lrucache:x,
interceptor:u}){const F=z.featureSetUtils();return F?F.createFeatureSetCollectionFromService(h,n,x,u):null};C.createExecContext=function(h,n){return{vars:{$feature:null==h?new y:y.createFromGraphic(h),$view:n&&n.view},spatialReference:n&&n.sr}};C.createFeature=function(h,n,x){return y.createFromGraphicLikeObject(n,h,x)};C.createFunction=function(h,n){h="string"===typeof h?r(h):h;if(!h)return null;try{return n=n||p.clone(e),z.compileScript(h,n)}catch(x){}return null};C.createSyntaxTree=r;C.dependsOnView=
function(h){return z.referencesMember(h,"$view")};C.enableFeatureSetOperations=function(){return z.enableFeatureSetSupport()};C.enableGeometryOperations=function(){return z.enableGeometrySupport()};C.evalSyntaxTree=function(h,n){let x;try{x=z.executeScript(h,n)}catch(u){x=null}return x};C.executeAsyncFunction=function(h,n){try{return h?h(n):Promise.resolve(null)}catch(x){return Promise.resolve(null)}};C.executeFunction=function(h,n){let x;try{x=h?h(n):null}catch(u){x=null}return x};C.extractFieldNames=
function(h,n){if(!h)return[];h="string"===typeof h?r(h):h;if(!h)return[];let x=[];z.extractExpectedFieldLiterals(h).forEach(F=>{b.test(F)&&(F=F.replace(b,""),x.push(F))});const u=x.filter(F=>F.includes("*"));x=x.filter(F=>!u.includes(F));n&&u.forEach(F=>{const L=new RegExp(`^${F.split(/\*+/).map(D).join(".*")}$`,"i");n.forEach(E=>L.test(E)?x.push(E):null)});return[...new Set(x.sort())]};C.getViewInfo=function(h){if(h&&(null!=h.spatialReference||null!=h.scale&&null!=h.viewingMode))return{view:h.viewingMode&&
null!=h.scale?new J({viewingMode:h.viewingMode,scale:h.scale}):null,sr:h.spatialReference}};C.hasGeometryFunctions=function(h){return d(h,m)};C.hasGeometryOperations=function(h){return d(h,q)};C.hasVariable=function(h,n){return h?z.referencesMember(h,n):!1};C.loadScriptDependencies=function(h,n,x=[]){return z.loadScriptDependencies(h,n,x)};C.updateExecContext=function(h,n){h.vars.$feature=n};Object.defineProperty(C,"__esModule",{value:!0})});