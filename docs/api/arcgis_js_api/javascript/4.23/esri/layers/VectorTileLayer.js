// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/mixins/ArcGISCachedService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../support/serviceTileInfoProperty ../support/TilemapCache ../../geometry/SpatialReference".split(" "),function(b,a,q,e,d,f,g,
l,m,k,r,v,w){b.ArcGISCachedService=x=>{x=function(A){function C(){var E=A.apply(this,arguments)||this;E.copyright=null;E.minScale=0;E.maxScale=0;E.spatialReference=null;E.tileInfo=null;E.tilemapCache=null;return E}a._inheritsLoose(C,A);var R=C.prototype;R.readMinScale=function(E,F){return null!=F.minLOD&&null!=F.maxLOD?E:0};R.readMaxScale=function(E,F){return null!=F.minLOD&&null!=F.maxLOD?E:0};R.readTilemapCache=function(E,F){return F.capabilities&&-1<F.capabilities.indexOf("Tilemap")?new v.TilemapCache({layer:this}):
null};a._createClass(C,[{key:"supportsBlankTile",get:function(){return 10.2<=this.version}}]);return C}(x);q.__decorate([d.property({json:{read:{source:"copyrightText"}}})],x.prototype,"copyright",void 0);q.__decorate([d.property()],x.prototype,"minScale",void 0);q.__decorate([m.reader("service","minScale")],x.prototype,"readMinScale",null);q.__decorate([d.property()],x.prototype,"maxScale",void 0);q.__decorate([m.reader("service","maxScale")],x.prototype,"readMaxScale",null);q.__decorate([d.property({type:w})],
x.prototype,"spatialReference",void 0);q.__decorate([d.property({readOnly:!0})],x.prototype,"supportsBlankTile",null);q.__decorate([d.property(r.serviceTileInfoProperty)],x.prototype,"tileInfo",void 0);q.__decorate([d.property()],x.prototype,"tilemapCache",void 0);q.__decorate([m.reader("service","tilemapCache",["capabilities"])],x.prototype,"readTilemapCache",null);q.__decorate([d.property()],x.prototype,"version",void 0);return x=q.__decorate([k.subclass("esri.layers.mixins.ArcGISCachedService")],
x)};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/layers/support/serviceTileInfoProperty":function(){define(["exports","./TileInfo"],function(b,a){function q(d,f,g,l){if(!d)return null;const {minScale:m,maxScale:k,minLOD:r,maxLOD:v}=f;if(null!=r&&null!=v)return l&&l.ignoreMinMaxLOD?a.fromJSON(d):a.fromJSON({...d,lods:d.lods.filter(({level:w})=>null!=w&&w>=r&&w<=v)});if(0!==m&&0!==k){const w=m?Math.round(1E4*m)/1E4:Infinity,x=k?Math.round(1E4*k)/1E4:-Infinity;return a.fromJSON({...d,lods:d.lods.filter(A=>
{A=Math.round(1E4*A.scale)/1E4;return A<=w&&A>=x})})}return a.fromJSON(d)}const e={type:a,json:{origins:{service:{read:{source:["tileInfo","minScale","maxScale","minLOD","maxLOD"],reader:q}}}}};b.readServiceTileInfo=q;b.serviceTileInfoProperty=e;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/layers/support/TileInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/Point ../../geometry/SpatialReference ../../geometry/support/aaBoundingRect ../../geometry/support/spatialReferenceUtils ../../geometry/support/webMercatorUtils ./LOD".split(" "),
function(b,a,q,e,d,f,g,l,m,k,r,v,w,x,A,C,R,E,F){var I;q=new q.JSONMap({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});e=I=function(P){function M(n){n=P.call(this,n)||this;n.dpi=96;n.format=null;n.origin=null;n.minScale=0;n.maxScale=0;n.size=null;n.spatialReference=null;return n}b._inheritsLoose(M,P);M.create=function(n=
{}){const {resolutionFactor:u=1,scales:D,size:B=256,spatialReference:H=A.WebMercator,numLODs:N=24}=n;if(!R.isValid(H)){n=[];if(D)for(var L=0;L<D.length;L++){var O=D[L];n.push({level:L,scale:O,resolution:O})}else for(L=5E-4,O=N-1;0<=O;O--)n.unshift({level:O,scale:L,resolution:L}),L*=2;return new I({dpi:96,lods:n,origin:new x(0,0,H),size:[B,B],spatialReference:H})}L=R.getInfo(H);n=n.origin?new x({x:n.origin.x,y:n.origin.y,spatialReference:H}):L?new x({x:L.origin[0],y:L.origin[1],spatialReference:H}):
new x({x:0,y:0,spatialReference:H});L=1/(39.37*f.getMetersPerUnitForSR(H)*96);O=[];if(D)for(var S=0;S<D.length;S++){var V=D[S];O.push({level:S,scale:V,resolution:V*L})}else{var W=R.isGeographic(H)?512/B*5.916575275917094E8:256/B*5.91657527591555E8;S=Math.ceil(N/u);O.push({level:0,scale:W,resolution:W*L});for(V=1;V<S;V++)W/=2**u,O.push({level:V,scale:W,resolution:W*L})}return new I({dpi:96,lods:O,origin:n,size:[B,B],spatialReference:H})};var z=M.prototype;z.readOrigin=function(n,u){return x.fromJSON({spatialReference:u.spatialReference,
...n})};z.readSize=function(n,u){return[u.cols,u.rows]};z.writeSize=function(n,u){u.cols=n[0];u.rows=n[1]};z.zoomToScale=function(n){const u=this.scales;if(0>=n)return u[0];if(n>=u.length-1)return u[u.length-1];{const D=Math.floor(n);return u[D]/(u[D]/u[D+1])**(n-D)}};z.scaleToZoom=function(n){const u=this.scales,D=u.length-1;let B=0;for(;B<D;B++){const H=u[B],N=u[B+1];if(H<=n)break;if(N===n)return B+1;if(H>n&&N<n)return B+Math.log(H/n)/Math.log(H/N)}return B};z.snapScale=function(n,u=.95){n=this.scaleToZoom(n);
return n%Math.floor(n)>=u?this.zoomToScale(Math.ceil(n)):this.zoomToScale(Math.floor(n))};z.tileAt=function(n,u,D,B){var H=this.lodAt(n);if(!H)return null;let N;if("number"===typeof u)N=u,u=D;else{if(R.equals(u.spatialReference,this.spatialReference))N=u.x,u=u.y;else{B=E.project(u,this.spatialReference);if(d.isNone(B))return null;N=B.x;u=B.y}B=D}D=H.resolution*this.size[0];H=H.resolution*this.size[1];B||(B={id:null,level:0,row:0,col:0,extent:C.create()});B.level=n;B.row=Math.floor((this.origin.y-
u)/H+.001);B.col=Math.floor((N-this.origin.x)/D+.001);this.updateTileInfo(B);return B};z.updateTileInfo=function(n,u=I.ExtrapolateOptions.NONE){var D=this.lodAt(n.level);D||u!==I.ExtrapolateOptions.POWER_OF_TWO||(u=this.lods[this.lods.length-1],u.level<n.level&&(D=u));if(D){var B=n.level-D.level;u=D.resolution*this.size[0]/2**B;D=D.resolution*this.size[1]/2**B;n.id=`${n.level}/${n.row}/${n.col}`;n.extent||(n.extent=C.create());n.extent[0]=this.origin.x+n.col*u;n.extent[1]=this.origin.y-(n.row+1)*
D;n.extent[2]=n.extent[0]+u;n.extent[3]=n.extent[1]+D}};z.upsampleTile=function(n){const u=this._upsampleLevels[n.level];if(!u||-1===u.parentLevel)return!1;n.level=u.parentLevel;n.row=Math.floor(n.row/u.factor+.001);n.col=Math.floor(n.col/u.factor+.001);this.updateTileInfo(n);return!0};z.getTileBounds=function(n,u){var {resolution:D}=this.lodAt(u.level);const B=D*this.size[0];D*=this.size[1];n[0]=this.origin.x+u.col*B;n[1]=this.origin.y-(u.row+1)*D;n[2]=n[0]+B;n[3]=n[1]+D;return n};z.lodAt=function(n){return this._levelToLOD&&
this._levelToLOD[n]||null};z.clone=function(){return I.fromJSON(this.write({}))};z.getOrCreateCompatible=function(n,u){if(256===this.size[0]&&256===this.size[1])return 256===n?this:null;const D=[],B=this.lods.length;for(let H=0;H<B;H++){const N=this.lods[H];D.push(new F({level:N.level,scale:N.scale,resolution:N.resolution*u}))}return new I({size:[n,n],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:D})};z._initializeUpsampleLevels=
function(){const n=this.lods;this._upsampleLevels=[];let u=null;for(let D=0;D<n.length;D++){const B=n[D];this._upsampleLevels[B.level]={parentLevel:u?u.level:-1,factor:u?u.resolution/B.resolution:0};u=B}};b._createClass(M,[{key:"isWrappable",get:function(){const {spatialReference:n,origin:u}=this;if(n&&u){const D=R.getInfo(n);return n.isWrappable&&Math.abs(D.origin[0]-u.x)<=D.dx}return!1}},{key:"lods",set:function(n){let u=0,D=0;const B=[];this._levelToLOD={};n&&(u=-Infinity,D=Infinity,n.forEach(H=>
{B.push(H.scale);u=H.scale>u?H.scale:u;D=H.scale<D?H.scale:D;this._levelToLOD[H.level]=H}));this._set("scales",B);this._set("minScale",u);this._set("maxScale",D);this._set("lods",n);this._initializeUpsampleLevels()}}]);return M}(e.JSONSupport);a.__decorate([g.property({type:Number,json:{write:!0}})],e.prototype,"compressionQuality",void 0);a.__decorate([g.property({type:Number,json:{write:!0}})],e.prototype,"dpi",void 0);a.__decorate([g.property({type:String,json:{read:q.read,write:q.write,origins:{"web-scene":{read:!1,
write:!1}}}})],e.prototype,"format",void 0);a.__decorate([g.property({readOnly:!0})],e.prototype,"isWrappable",null);a.__decorate([g.property({type:x,json:{write:!0}})],e.prototype,"origin",void 0);a.__decorate([r.reader("origin")],e.prototype,"readOrigin",null);a.__decorate([g.property({type:[F],value:null,json:{write:!0}})],e.prototype,"lods",null);a.__decorate([g.property({readOnly:!0})],e.prototype,"minScale",void 0);a.__decorate([g.property({readOnly:!0})],e.prototype,"maxScale",void 0);a.__decorate([g.property({readOnly:!0})],
e.prototype,"scales",void 0);a.__decorate([g.property({cast:P=>Array.isArray(P)?P:"number"===typeof P?[P,P]:[256,256]})],e.prototype,"size",void 0);a.__decorate([r.reader("size",["rows","cols"])],e.prototype,"readSize",null);a.__decorate([w.writer("size",{cols:{type:k.Integer},rows:{type:k.Integer}})],e.prototype,"writeSize",null);a.__decorate([g.property({type:A,json:{write:!0}})],e.prototype,"spatialReference",void 0);e=I=a.__decorate([v.subclass("esri.layers.support.TileInfo")],e);(function(P){P=
P.ExtrapolateOptions||(P.ExtrapolateOptions={});P[P.NONE=0]="NONE";P[P.POWER_OF_TWO=1]="POWER_OF_TWO"})(e||(e={}));return e})},"esri/layers/support/LOD":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(b,a,q,e,d,f,g,l){var m;q=m=function(k){function r(v){v=
k.call(this,v)||this;v.cols=null;v.level=0;v.levelValue=null;v.origin=null;v.resolution=0;v.rows=null;v.scale=0;return v}b._inheritsLoose(r,k);r.prototype.clone=function(){return new m({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})};return r}(q.JSONSupport);a.__decorate([e.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],q.prototype,"cols",void 0);a.__decorate([e.property({type:g.Integer,
json:{write:!0}})],q.prototype,"level",void 0);a.__decorate([e.property({type:String,json:{write:!0}})],q.prototype,"levelValue",void 0);a.__decorate([e.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],q.prototype,"origin",void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],q.prototype,"resolution",void 0);a.__decorate([e.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],q.prototype,
"rows",void 0);a.__decorate([e.property({type:Number,json:{write:!0}})],q.prototype,"scale",void 0);return q=m=a.__decorate([l.subclass("esri.layers.support.LOD")],q)})},"esri/layers/support/TilemapCache":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../request ../../core/Accessor ../../core/byteSizeEstimations ../../core/Error ../../core/HandleOwner ../../core/Logger ../../core/LRUCache ../../core/PooledArray ../../core/promiseUtils ../../core/reactiveUtils ../../core/scheduling ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/subclass ./Tilemap".split(" "),
function(b,a,q,e,d,f,g,l,m,k,r,v,w,x,A,C,R,E,F,I,P){var M;const z=m.getLogger("esri.layers.support.TilemapCache");b.TilemapCache=M=function(n){function u(B){B=n.call(this,B)||this;B._pendingTilemapRequests={};B._availableLevels={};B.levels=5;B.cacheByteSize=2*f.ByteSizeUnit.MEGABYTES;B.request=e;B._prefetchingEnabled=!0;return B}a._inheritsLoose(u,n);var D=u.prototype;D.initialize=function(){this._tilemapCache=new k(this.cacheByteSize);this.handles.add([this.watch(["layer.parsedUrl","layer.tileServers?",
"layer.apiKey?","layer.customParameters?"],()=>this._initializeTilemapDefinition()),w.watch(()=>{var B,H;return null==(B=this.layer)?void 0:null==(H=B.tileInfo)?void 0:H.lods},B=>this._initializeAvailableLevels(B),w.syncAndInitial)]);this._initializeTilemapDefinition()};D.castLevels=function(B){return 2>=B?(z.error("Minimum levels for Tilemap is 3, but got ",B),3):B};D.fetchTilemap=function(B,H,N,L){if(!this._availableLevels[B])return Promise.reject(new g("tilemap-cache:level-unavailable",`Level ${B} is unavailable in the service`));
const O=this._tmpTilemapDefinition;if(B=this._tilemapFromCache(B,H,N,O))return Promise.resolve(B);const S=L&&L.signal;L={...L,signal:null};return new Promise((V,W)=>{v.onAbort(S,()=>W(v.createAbortError()));const U=P.tilemapDefinitionId(O);let G=this._pendingTilemapRequests[U];if(!G){G=P.Tilemap.fromDefinition(O,L).then(T=>{this._tilemapCache.put(U,T,T.byteSize);return T});const K=()=>delete this._pendingTilemapRequests[U];this._pendingTilemapRequests[U]=G;G.then(K,K)}G.then(V,W)})};D.getAvailability=
function(B,H,N){return this._availableLevels[B]?(B=this._tilemapFromCache(B,H,N,this._tmpTilemapDefinition))?B.getAvailability(H,N):"unknown":"unavailable"};D.fetchAvailability=function(B,H,N,L){return this._availableLevels[B]?this.fetchTilemap(B,H,N,L).catch(O=>O).then(O=>{if(O instanceof P.Tilemap)return O=O.getAvailability(H,N),"unavailable"===O?Promise.reject(new g("tile-map:tile-unavailable","Tile is not available",{level:B,row:H,col:N})):O;if(v.isAbortError(O))throw O;return"unknown"}):Promise.reject(new g("tilemap-cache:level-unavailable",
`Level ${B} is unavailable in the service`))};D.fetchAvailabilityUpsample=function(B,H,N,L,O){L.level=B;L.row=H;L.col=N;const S=this.layer.tileInfo;S.updateTileInfo(L);const V=this.fetchAvailability(B,H,N,O).catch(W=>{if(v.isAbortError(W))throw W;if(S.upsampleTile(L))return this.fetchAvailabilityUpsample(L.level,L.row,L.col,L);throw W;});this._fetchAvailabilityUpsamplePrefetch(L.id,B,H,N,O,V);return V};D._fetchAvailabilityUpsamplePrefetch=function(){var B=a._asyncToGenerator(function*(H,N,L,O,S,V){if(this._prefetchingEnabled){var W=
`prefetch-${H}`;if(!this.handles.has(W)){var U=new AbortController;V.then(()=>U.abort(),()=>U.abort());var G=!1;this.handles.add({remove(){G||(G=!0,U.abort())}},W);yield x.waitTicks(10,U.signal).catch(()=>{});G||(G=!0,this.handles.remove(W));if(!v.isAborted(U))for(H={id:H,level:N,row:L,col:O},S={...S,signal:U.signal},N=this.layer.tileInfo,L=0;M._prefetches.length<M._maxPrefetch&&N.upsampleTile(H);++L){const K=this.fetchAvailability(H.level,H.row,H.col,S);M._prefetches.push(K);O=()=>{M._prefetches.removeUnordered(K)};
K.then(O,O)}}}});return function(H,N,L,O,S,V){return B.apply(this,arguments)}}();D._initializeTilemapDefinition=function(){var B;if(this.layer.parsedUrl){var {parsedUrl:H,apiKey:N,customParameters:L}=this.layer;this._tilemapCache.clear();this._tmpTilemapDefinition={service:{url:H.path,query:A.objectToQuery({...H.query,...L,token:null!=N?N:null==(B=H.query)?void 0:B.token}),tileServers:this.layer.tileServers,request:this.request,type:this.layer.type},width:this.size,height:this.size,level:0,row:0,
col:0}}};D._tilemapFromCache=function(B,H,N,L){L.level=B;L.row=H-H%this.size;L.col=N-N%this.size;B=P.tilemapDefinitionId(L);return this._tilemapCache.get(B)};D._initializeAvailableLevels=function(B){this._availableLevels={};B&&B.forEach(H=>this._availableLevels[H.level]=!0)};a._createClass(u,[{key:"size",get:function(){return 1<<this.levels}},{key:"test",get:function(){const B=this;return{get prefetchingEnabled(){return B._prefetchingEnabled},set prefetchingEnabled(H){B._prefetchingEnabled=H},hasTilemap(H,
N,L){return!!B._tilemapFromCache(H,N,L,B._tmpTilemapDefinition)}}}}]);return u}(l.HandleOwnerMixin(d));b.TilemapCache._maxPrefetch=4;b.TilemapCache._prefetches=new r({initialSize:M._maxPrefetch});q.__decorate([C.property({constructOnly:!0,type:Number})],b.TilemapCache.prototype,"levels",void 0);q.__decorate([F.cast("levels")],b.TilemapCache.prototype,"castLevels",null);q.__decorate([C.property({readOnly:!0,type:Number})],b.TilemapCache.prototype,"size",null);q.__decorate([C.property({constructOnly:!0,
type:Number})],b.TilemapCache.prototype,"cacheByteSize",void 0);q.__decorate([C.property({constructOnly:!0})],b.TilemapCache.prototype,"layer",void 0);q.__decorate([C.property({constructOnly:!0})],b.TilemapCache.prototype,"request",void 0);b.TilemapCache=M=q.__decorate([I.subclass("esri.layers.support.TilemapCache")],b.TilemapCache);Object.defineProperty(b,"__esModule",{value:!0})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(b){function a(q){return 32+q.length}b.ByteSizeUnit=
void 0;(function(q){q[q.KILOBYTES=1024]="KILOBYTES";q[q.MEGABYTES=1048576]="MEGABYTES";q[q.GIGABYTES=1073741824]="GIGABYTES"})(b.ByteSizeUnit||(b.ByteSizeUnit={}));b.estimateAttributesObjectSize=function(q){if(!q)return 0;let e=32;for(const d in q)if(q.hasOwnProperty(d)){const f=q[d];switch(typeof f){case "string":e+=a(f);break;case "number":e+=16;break;case "boolean":e+=4}}return e};b.estimateFixedArraySize=function(q,e){return 32+q.length*e};b.estimateNumberByteSize=function(){return 16};b.estimateStringByteSize=
a;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/layers/support/Tilemap":function(){define(["exports","../../request","../../core/arrayUtils","../../core/Error","../../core/lang"],function(b,a,q,e,d){function f(l){if("vector-tile"===l.service.type)var m=`${l.service.url}/tilemap/${l.level}/${l.row}/${l.col}/${l.width}/${l.height}`;else m=l.service.tileServers,m=`${m&&m.length?m[l.row%m.length]:l.service.url}/tilemap/${l.level}/${l.row}/${l.col}/${l.width}/${l.height}`;(l=l.service.query)&&
(m=`${m}?${l}`);return m}let g=function(){function l(){this.location={left:0,top:0,width:0,height:0};this._allAvailability="unknown";this.byteSize=40}var m=l.prototype;m.getAvailability=function(k,r){if("unknown"!==this._allAvailability)return this._allAvailability;k=(k-this.location.top)*this.location.width+(r-this.location.left);r=k>>3;const v=this._tileAvailabilityBitSet;return 0>r||r>v.length?"unknown":v[r]&1<<k%8?"available":"unavailable"};m._updateFromData=function(k){let r=!0,v=!0;const w=
new Uint8Array(Math.ceil(this.location.width*this.location.height/8));let x=0;for(let A=0;A<k.length;A++){const C=A%8;k[A]?(v=!1,w[x]|=1<<C):r=!1;7===C&&++x}v?this._allAvailability="unavailable":r?this._allAvailability="available":(this._allAvailability="unknown",this._tileAvailabilityBitSet=w,this.byteSize+=w.length)};l.fromDefinition=function(k,r){const v=k.service.request||a,{row:w,col:x,width:A,height:C}=k,R={query:{f:"json"}};r=r?{...R,...r}:R;return v(f(k),r).then(E=>E.data).catch(E=>{if(E&&
E.details&&422===E.details.httpStatus)return{location:{top:w,left:x,width:A,height:C},valid:!0,data:q.constant(A*C,0)};throw E;}).then(E=>{if(E.location&&(E.location.top!==w||E.location.left!==x||E.location.width!==A||E.location.height!==C))throw new e("tilemap:location-mismatch","Tilemap response for different location than requested",{response:E,definition:{top:w,left:x,width:A,height:C}});return l.fromJSON(E)})};l.fromJSON=function(k){l._validateJSON(k);const r=new l;r.location=Object.freeze(d.clone(k.location));
r._updateFromData(k.data);return Object.freeze(r)};l._validateJSON=function(k){if(!k||!k.location)throw new e("tilemap:missing-location","Location missing from tilemap response");if(!1===k.valid)throw new e("tilemap:invalid","Tilemap response was marked as invalid");if(!k.data)throw new e("tilemap:missing-data","Data missing from tilemap response");if(!Array.isArray(k.data))throw new e("tilemap:data-mismatch","Data must be an array of numbers");if(k.data.length!==k.location.width*k.location.height)throw new e("tilemap:data-mismatch",
"Number of data items does not match width/height of tilemap");};return l}();b.Tilemap=g;b.default=g;b.tilemapDefinitionId=function(l){return`${l.level}/${l.row}/${l.col}/${l.width}/${l.height}`};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/layers/support/imageUtils":function(){define(["exports"],function(b){let a=null;b.checkWebPSupport=function(q){if(a)return a;const e={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA\x3d\x3d",
alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA\x3d\x3d",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return a=new Promise(d=>{const f=new Image;f.onload=()=>{f.onload=f.onerror=null;d(0<f.width&&0<f.height)};f.onerror=()=>{f.onload=f.onerror=null;d(!1)};f.src="data:image/webp;base64,"+e[q]})};Object.defineProperty(b,"__esModule",{value:!0})})},
"esri/layers/support/SpriteSource":function(){define(["../../chunks/_rollupPluginBabelHelpers","../../request","../../core/Error","../../core/Logger","../../core/urlUtils"],function(b,a,q,e,d){const f=e.getLogger("esri.layers.support.SpriteSource");return function(){function g(m,k,r,v){this.baseURL=m;this.devicePixelRatio=k;this.maxTextureSize=r;this._spriteImageFormat=v;this._isRetina=!1;this._spritesData={};this.height=this.width=this.image=null;this.loadStatus="not-loaded"}var l=g.prototype;l.getSpriteInfo=
function(m){return this._spritesData[m]};l.load=function(){var m=b._asyncToGenerator(function*(k){if(this.baseURL){this.loadStatus="loading";try{yield this._loadSprites(k),this.loadStatus="loaded"}catch{this.loadStatus="failed"}}else this.loadStatus="failed"});return function(k){return m.apply(this,arguments)}}();l._loadSprites=function(m){this._isRetina=1.15<this.devicePixelRatio?!0:!1;const k=d.urlToObject(this.baseURL),r=k.query?"?"+d.objectToQuery(k.query):"",v=this._isRetina?"@2x":"",w=`${k.path}${v}.${this._spriteImageFormat}${r}`;
return Promise.all([a(`${k.path}${v}.json${r}`,m),a(w,{responseType:"image",...m})]).then(([x,A])=>{var C=Object.keys(x.data);if(!C||0===C.length||1===C.length&&"_ssl"===C[0]||!A||!A.data)return this._spritesData=this.image=null,this.width=this.height=0,Promise.resolve(null);this._spritesData=x.data;x=A.data;A=Math.max(this.maxTextureSize,4096);if(x.width>A||x.height>A)throw x=`Sprite resource for style ${k.path} is bigger than the maximum allowed of ${A} pixels}`,f.error(x),new q("SpriteSource",
x);this.width=x.width;this.height=x.height;A=document.createElement("canvas");C=A.getContext("2d");A.width=x.width;A.height=x.height;C.drawImage(x,0,0,x.width,x.height);x=C.getImageData(0,0,x.width,x.height);x=new Uint8Array(x.data);for(C=0;C<x.length;C+=4)A=x[C+3]/255,x[C]*=A,x[C+1]*=A,x[C+2]*=A;this.image=x})};b._createClass(g,[{key:"spriteNames",get:function(){const m=[];for(const k in this._spritesData)m.push(k);m.sort();return m}}]);return g}()})},"esri/layers/support/vectorTileLayerLoader":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../config ../../request ../../core/promiseUtils ../../core/urlUtils ../../views/2d/engine/vectorTiles/style/VectorTileSource".split(" "),
function(b,a,q,e,d,f,g){function l(){l=a._asyncToGenerator(function*(E,F){const I={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null,sourceNameToSource:{},primarySourceName:"",spriteFormat:"png"},[P,M]="string"===typeof E?[E,null]:[null,E.jsonUrl];yield r(I,"esri",E,M,F);E={layerDefinition:I.validatedSource,url:P,serviceUrl:I.sourceUrl,style:I.style,styleUrl:I.styleUrl,spriteUrl:I.style.sprite&&k(I.styleBase,I.style.sprite),spriteFormat:I.spriteFormat,
glyphsUrl:I.style.glyphs&&k(I.styleBase,I.style.glyphs),sourceNameToSource:I.sourceNameToSource,primarySourceName:I.primarySourceName};m(E.spriteUrl);m(E.glyphsUrl);return E});return l.apply(this,arguments)}function m(E){E&&(E=f.getOrigin(E),R&&!R.includes(E)&&R.push(E))}function k(...E){let F=void 0;for(let I=0;I<E.length;++I)f.isProtocolRelative(E[I])?F&&(F=F.split("://")[0]+":"+E[I].trim()):F=f.isAbsolute(E[I])?E[I]:f.join(F,E[I]);return f.removeTrailingSlash(F)}function r(E,F,I,P,M){return v.apply(this,
arguments)}function v(){v=a._asyncToGenerator(function*(E,F,I,P,M){d.throwIfAborted(M);let z,n;if("string"===typeof I){I=f.normalize(I);m(I);var u=yield e(I,{...M,responseType:"json",query:{f:"json",...null==M?void 0:M.query}});u.ssl&&(z&&(z=z.replace(/^http:/i,"https:")),n&&(n=n.replace(/^http:/i,"https:")));n=z=I}else u={data:I},z=I.jsonUrl||null,n=P;u=u.data;return u.sources?(E.styleUrl=z||null,w(E,u,n,M)):u.sources?Promise.reject("You must specify the URL or the JSON for a service or for a style."):
E.sourceUrl?A(E,u,n,!1,F,M):(E.sourceUrl=z||null,A(E,u,n,!0,F,M))});return v.apply(this,arguments)}function w(E,F,I,P){return x.apply(this,arguments)}function x(){x=a._asyncToGenerator(function*(E,F,I,P){I=I?f.removeFile(I):f.getAppBaseUrl();E.styleBase=I;E.style=F;E.styleUrl&&m(E.styleUrl);F["sprite-format"]&&"webp"===F["sprite-format"].toLowerCase()&&(E.spriteFormat="webp");const M=[];if(F.sources&&F.sources.esri){const z=F.sources.esri;z.url?yield r(E,"esri",k(I,z.url),void 0,P):M.push(r(E,"esri",
z,I,P))}for(const z of Object.keys(F.sources))"esri"!==z&&"vector"===F.sources[z].type&&(F.sources[z].url?M.push(r(E,z,k(I,F.sources[z].url),void 0,P)):F.sources[z].tiles&&M.push(r(E,z,F.sources[z],I,P)));yield Promise.all(M)});return x.apply(this,arguments)}function A(E,F,I,P,M,z){return C.apply(this,arguments)}function C(){C=a._asyncToGenerator(function*(E,F,I,P,M,z){I=I?f.removeTrailingSlash(I)+"/":f.getAppBaseUrl();if(F.hasOwnProperty("tileInfo"))var n=F;else{var u={xmin:-2.0037507067161843E7,
ymin:-2.0037507067161843E7,xmax:2.0037507067161843E7,ymax:2.0037507067161843E7,spatialReference:{wkid:102100}},D=78271.51696400007,B=2.958287637957775E8,H=[],N=F.hasOwnProperty("minzoom")?+F.minzoom:0,L=F.hasOwnProperty("maxzoom")?+F.maxzoom:22;for(let O=0;O<=L;O++)O>=N&&H.push({level:O,scale:B,resolution:D}),D/=2,B/=2;for(n of F.tiles)m(k(I,n));n={capabilities:"TilesOnly",initialExtent:u,fullExtent:u,minScale:0,maxScale:0,tiles:F.tiles,tileInfo:{rows:512,cols:512,dpi:96,format:"pbf",origin:{x:-2.0037508342787E7,
y:2.0037508342787E7},lods:H,spatialReference:{wkid:102100}}}}u=new g(M,f.addQueryParameters(I,null==z?void 0:z.query),n);if(!P&&E.primarySourceName in E.sourceNameToSource){D=E.sourceNameToSource[E.primarySourceName];if(!D.isCompatibleWith(u))return Promise.resolve();null!=u.fullExtent&&(null!=D.fullExtent?D.fullExtent.union(u.fullExtent):D.fullExtent=u.fullExtent.clone());D.tileInfo.lods.length<u.tileInfo.lods.length&&(D.tileInfo=u.tileInfo)}P?(E.sourceBase=I,E.source=F,E.validatedSource=n,E.primarySourceName=
M,E.sourceUrl&&m(E.sourceUrl)):m(I);E.sourceNameToSource[M]=u;if(!E.style)return null==F.defaultStyles?Promise.reject():"string"===typeof F.defaultStyles?r(E,"",k(I,F.defaultStyles,"root.json"),void 0,z):r(E,"",F.defaultStyles,k(I,"root.json"),z)});return C.apply(this,arguments)}const R=q.defaults&&q.defaults.io.corsEnabledServers;b.loadMetadata=function(E,F){return l.apply(this,arguments)};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/VectorTileSource":function(){define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/lang ../../../../../core/urlUtils ../../../../../geometry/Extent ../../../../../layers/support/serviceTileInfoProperty ../../../../../layers/support/TilemapCache ../TilemapIndex ../TilemapRequest ./VectorTilesRequestManager".split(" "),
function(b,a,q,e,d,f,g,l,m){return function(){function k(v,w,x){this.fullExtent=this.capabilities=this.tileInfo=this.tilemap=null;this.name=v;this.sourceUrl=w;v=q.urlToObject(this.sourceUrl);w=a.clone(x);var A=w.tiles;if(v)for(var C=0;C<A.length;C++){var R=q.urlToObject(A[C]);R&&(q.isAbsolute(R.path)||(R.path=q.join(v.path,R.path)),A[C]=q.addQueryParameters(R.path,{...v.query,...R.query}))}this.tileServers=A;C=x.capabilities&&x.capabilities.split(",").map(E=>E.toLowerCase().trim());A=!0===(null==
x?void 0:x.exportTilesAllowed);C=!0===(null==C?void 0:C.includes("tilemap"));R=A&&x.hasOwnProperty("maxExportTilesCount")?x.maxExportTilesCount:0;this.capabilities={operations:{supportsExportTiles:A,supportsTileMap:C},exportTiles:A?{maxExportTilesCount:+R}:null};this.tileInfo=d.readServiceTileInfo(w.tileInfo,w,null,{ignoreMinMaxLOD:!0});w=x.tileMap?q.addQueryParameters(q.join(v.path,x.tileMap),v.query):null;C?(this.type="vector-tile",this.tilemap=new l(new f.TilemapCache({layer:{parsedUrl:v,tileInfo:this.tileInfo,
type:"vector-tile",tileServers:this.tileServers}}),w)):w&&(this.tilemap=new g(w));this.fullExtent=e.fromJSON(x.fullExtent)}var r=k.prototype;r.destroy=function(){};r.getRefKey=function(){var v=b._asyncToGenerator(function*(w,x){var A,C;return null!=(A=null==(C=this.tilemap)?void 0:C.dataKey(w,x))?A:w});return function(w,x){return v.apply(this,arguments)}}();r.requestTile=function(v,w,x,A){return m.request(this.tileServers[w%this.tileServers.length],v,w,x,A)};r.isCompatibleWith=function(v){var w=this.tileInfo;
v=v.tileInfo;if(!w.spatialReference.equals(v.spatialReference)||!w.origin.equals(v.origin)||Math.round(w.dpi)!==Math.round(v.dpi))return!1;w=w.lods;v=v.lods;const x=Math.min(w.length,v.length);for(let A=0;A<x;A++){const C=w[A],R=v[A];if(C.level!==R.level||Math.round(C.scale)!==Math.round(R.scale))return!1}return!0};return k}()})},"esri/views/2d/engine/vectorTiles/TilemapIndex":function(){define(["../../../../chunks/_rollupPluginBabelHelpers","../../../../request","../../../../core/promiseUtils","../../tiling/TileKey"],
function(b,a,q,e){return function(){function d(g){this.url=g}var f=d.prototype;f.fetchTileIndex=function(){var g=b._asyncToGenerator(function*(){this._tileIndexPromise||(this._tileIndexPromise=a(this.url).then(l=>l.data.index));return this._tileIndexPromise});return function(){return g.apply(this,arguments)}}();f.dataKey=function(){var g=b._asyncToGenerator(function*(l,m){const k=yield this.fetchTileIndex();q.throwIfAborted(m);return this._getIndexedDataKey(k,l)});return function(l,m){return g.apply(this,
arguments)}}();f._getIndexedDataKey=function(g,l){const m=[l];if(0>l.level||0>l.row||0>l.col||0<l.row>>l.level||0<l.col>>l.level)return null;for(;0!==l.level;)l=new e(l.level-1,l.row>>1,l.col>>1,l.world),m.push(l);l=m.pop();let k,r;if(1===g)return l;for(;m.length;)if(k=m.pop(),r=(k.col&1)+((k.row&1)<<1),g){if(0===g[r]){l=null;break}if(1===g[r]){l=k;break}l=k;g=g[r]}return l};return d}()})},"esri/views/2d/tiling/TileKey":function(){define(["../../../chunks/_rollupPluginBabelHelpers","../../../core/ObjectPool"],
function(b,a){let q=function(){function e(f,g,l,m){this.set(f,g,l,m)}e.getId=function(f,g,l,m){return"object"===typeof f?`${f.level}/${f.row}/${f.col}/${f.world}`:`${f}/${g}/${l}/${m}`};var d=e.prototype;d.acquire=function(f,g,l,m){this.set(f,g,l,m)};d.contains=function(f){const g=f.level-this.level;return this.row===f.row>>g&&this.col===f.col>>g&&this.world===f.world};d.equals=function(f){return this.level===f.level&&this.row===f.row&&this.col===f.col&&this.world===f.world};d.clone=function(){return new e(this)};
d.release=function(){this.world=this.col=this.row=this.level=0};d.set=function(f,g,l,m){if(null==f)this.world=this.col=this.row=this.level=0;else if("object"===typeof f)this.level=f.level||0,this.row=f.row||0,this.col=f.col||0,this.world=f.world||0;else if("string"===typeof f){const [k,r,v,w]=f.split("/");this.level=parseFloat(k);this.row=parseFloat(r);this.col=parseFloat(v);this.world=parseFloat(w)}else this.level=+f,this.row=+g,this.col=+l,this.world=+m||0;return this};d.toString=function(){return`${this.level}/${this.row}/${this.col}/${this.world}`};
d.getParentKey=function(){return 0>=this.level?null:new e(this.level-1,this.row>>1,this.col>>1,this.world)};d.getChildKeys=function(){const f=this.level+1,g=this.row<<1,l=this.col<<1,m=this.world;return[new e(f,g,l,m),new e(f,g,l+1,m),new e(f,g+1,l,m),new e(f,g+1,l+1,m)]};d.compareRowMajor=function(f){return this.row<f.row?-1:this.row>f.row?1:this.col<f.col?-1:this.col>f.col?1:0};b._createClass(e,[{key:"key",get:function(){return this}},{key:"id",get:function(){return this.toString()},set:function(f){this.set(f)}},
{key:"hash",get:function(){return(this.world&3)<<30|(this.col&4095)<<22|(this.row&4095)<<8|this.level&63}}]);return e}();q.pool=new a(q,null,null,25,50);return q})},"esri/views/2d/engine/vectorTiles/TilemapRequest":function(){define(["../../../../chunks/_rollupPluginBabelHelpers","../../../../request","../../../../core/promiseUtils","../../tiling/TileKey"],function(b,a,q,e){return function(){function d(g,l){this._tilemap=g;this._tileIndexUrl=l}var f=d.prototype;f.fetchTileIndex=function(){var g=b._asyncToGenerator(function*(l){this._tileIndexPromise||
(this._tileIndexPromise=a(this._tileIndexUrl,{query:{...null==l?void 0:l.query}}).then(m=>m.data.index));return this._tileIndexPromise});return function(l){return g.apply(this,arguments)}}();f.dataKey=function(g,l){const {level:m,row:k,col:r}=g,v=new e(g);return this._tilemap.fetchAvailabilityUpsample(m,k,r,v,l).then(()=>{v.world=g.world;return v}).catch(w=>{if(q.isAbortError(w))throw w;return null})};return d}()})},"esri/views/2d/engine/vectorTiles/style/VectorTilesRequestManager":function(){define(["exports",
"../../../../../request","../../../../../core/lang"],function(b,a,q){function e(f,g){const l=d.get(f);if(l)return l.then(m=>q.clone(m));g=a(f,{responseType:"array-buffer",...g}).then(({data:m})=>{d.delete(f);return m}).catch(m=>{d.delete(f);throw m;});d.set(f,g);return g}const d=new Map;b.request=function(f,g,l,m,k){f=f.replace(/\{z\}/gi,g.toString()).replace(/\{y\}/gi,l.toString()).replace(/\{x\}/gi,m.toString());return e(f,k)};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/tileInfoUtils":function(){define(["exports",
"../../../../layers/support/TileInfo"],function(b,a){b.areSchemasOverlapping=function(q,e){if(q===e)return!0;if(!q&&null!=e||null!=q&&!e||!q.spatialReference.equals(e.spatialReference)||q.dpi!==e.dpi)return!1;var d=q.origin;const f=e.origin;if(1E-6<=Math.abs(d.x-f.x)||1E-6<=Math.abs(d.y-f.y))return!1;q.lods[0].scale>e.lods[0].scale?(d=q,q=e):d=e;for(e=d.lods[0].scale;e>=q.lods[q.lods.length-1].scale-1E-6;e/=2)if(1E-6>Math.abs(e-q.lods[0].scale))return!0;return!1};b.unionTileInfos=function(q,e){if(q===
e)return q;if(!q&&null!=e)return e;if(null!=q&&!e)return q;const d=q.size[0],f=q.format,g=q.dpi,l={x:q.origin.x,y:q.origin.y},m=q.spatialReference.toJSON();var k=q.lods[0].scale>e.lods[0].scale?q.lods[0]:e.lods[0];q=(q.lods[q.lods.length-1].scale<=e.lods[e.lods.length-1].scale?q.lods[q.lods.length-1]:e.lods[e.lods.length-1]).scale;e=[];let r=k.scale;k=k.resolution;let v=0;for(;r>q;)e.push({level:v,resolution:k,scale:r}),v++,r/=2,k/=2;return new a({size:[d,d],dpi:g,format:f||"pbf",origin:l,lods:e,
spatialReference:m})};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["./StyleDefinition","./StyleLayer"],function(b,a){return function(){function q(d){this._style=d;this.backgroundBucketIds=[];this._uidToLayer=new Map;this._layerByName={};this._runningId=0;d.layers||(d.layers=[]);this.version=parseFloat(d.version);if(this.layers=d.layers.map((f,g,l)=>this._create(f,g,l)))for(let f=0;f<this.layers.length;f++)d=this.layers[f],
this._layerByName[d.id]=d,this._uidToLayer.set(d.uid,d),d.type===b.StyleLayerType.BACKGROUND&&this.backgroundBucketIds.push(d.id);this._identifyRefLayers()}var e=q.prototype;e.isPainterDataDriven=function(d){return(d=this._layerByName[d])?d.isPainterDataDriven():!1};e.getStyleLayerId=function(d){return d>=this.layers.length?null:this.layers[d].id};e.getStyleLayerByUID=function(d){d=this._uidToLayer.get(d);return null!=d?d:null};e.getStyleLayerIndex=function(d){return(d=this._layerByName[d])?this.layers.indexOf(d):
-1};e.setStyleLayer=function(d,f){if(d&&d.id){var g=this._style;null!=f&&f>=this.layers.length&&(f=this.layers.length-1);var l=!0,m;if(m=this._layerByName[d.id]){const k=this.layers.indexOf(m);f||(f=k);f===k?(l=!1,m=q._recreateLayer(d,m),this.layers[f]=m,g.layers[f]=d):(this.layers.splice(k,1),g.layers.splice(k,1),m=this._create(d,f,this.layers),this.layers.splice(f,0,m),g.layers.splice(f,0,d))}else m=this._create(d,f,this.layers),!f||f>=this.layers.length?(this.layers.push(m),g.layers.push(d)):(this.layers.splice(f,
0,m),g.layers.splice(f,0,d));this._layerByName[d.id]=m;this._uidToLayer.set(m.uid,m);l&&this._recomputeZValues();this._identifyRefLayers()}};e.getStyleLayer=function(d){return(d=this._layerByName[d])?{type:d.typeName,id:d.id,source:d.source,"source-layer":d.sourceLayer,minzoom:d.minzoom,maxzoom:d.maxzoom,filter:d.filter,layout:d.layout,paint:d.paint}:null};e.deleteStyleLayer=function(d){const f=this._layerByName[d];f&&(delete this._layerByName[d],this._uidToLayer.delete(f.uid),d=this.layers.indexOf(f),
this.layers.splice(d,1),this._style.layers.splice(d,1),this._recomputeZValues(),this._identifyRefLayers())};e.getLayerById=function(d){return this._layerByName[d]};e.getLayoutProperties=function(d){return(d=this._layerByName[d])?d.layout:null};e.getPaintProperties=function(d){return(d=this._layerByName[d])?d.paint:null};e.setPaintProperties=function(d,f){if(d=this._layerByName[d]){var g=q._recreateLayer({type:d.typeName,id:d.id,source:d.source,"source-layer":d.sourceLayer,minzoom:d.minzoom,maxzoom:d.maxzoom,
filter:d.filter,layout:d.layout,paint:f},d),l=this.layers.indexOf(d);this.layers[l]=g;this._style.layers[l].paint=f;this._layerByName[d.id]=g;this._uidToLayer.set(d.uid,g)}};e.setLayoutProperties=function(d,f){if(d=this._layerByName[d]){var g=q._recreateLayer({type:d.typeName,id:d.id,source:d.source,"source-layer":d.sourceLayer,minzoom:d.minzoom,maxzoom:d.maxzoom,filter:d.filter,layout:f,paint:d.paint},d),l=this.layers.indexOf(d);this.layers[l]=g;this._style.layers[l].layout=f;this._layerByName[d.id]=
g;this._uidToLayer.set(d.uid,g)}};e.setStyleLayerVisibility=function(d,f){if(d=this._layerByName[d]){var g=d.layout||{};g.visibility=f;f=q._recreateLayer({type:d.typeName,id:d.id,source:d.source,"source-layer":d.sourceLayer,minzoom:d.minzoom,maxzoom:d.maxzoom,filter:d.filter,layout:g,paint:d.paint},d);var l=this.layers.indexOf(d);this.layers[l]=f;this._style.layers[l].layout=g;this._layerByName[d.id]=f;this._uidToLayer.set(d.uid,f)}};e.getStyleLayerVisibility=function(d){var f;d=this._layerByName[d];
if(!d)return"none";d=d.layout;return null!=(f=null==d?void 0:d.visibility)?f:"visible"};e._recomputeZValues=function(){const d=this.layers,f=1/(d.length+1);for(let g=0;g<d.length;g++)d[g].z=1-(1+g)*f};e._identifyRefLayers=function(){const d=[],f=[];let g=0;for(const v of this.layers){const w=v.layout;if(v.type===b.StyleLayerType.FILL){var l,m=v,k=v.source+"|"+v.sourceLayer;k+=null!=(l="|"+(null==w?void 0:w.visibility))?l:"";k+="|"+v.minzoom;k+="|"+v.maxzoom;k+="|"+JSON.stringify(v.filter);if(m.hasDataDrivenFill||
m.hasDataDrivenOutline)k+="|"+g;d.push({key:k,layer:v})}else if(v.type===b.StyleLayerType.LINE){var r;m=v;k=v.source+"|"+v.sourceLayer;k+=null!=(r="|"+(null==w?void 0:w.visibility))?r:"";k+="|"+v.minzoom;k+="|"+v.maxzoom;k+="|"+JSON.stringify(v.filter);k+="|"+(void 0!==w?w["line-cap"]:"");k+="|"+(void 0!==w?w["line-join"]:"");m.hasDataDrivenLine&&(k+="|"+g);f.push({key:k,layer:v})}++g}this._assignRefLayers(d);this._assignRefLayers(f)};e._assignRefLayers=function(d){d.sort((r,v)=>r.key<v.key?-1:r.key>
v.key?1:0);let f,g;const l=d.length;for(let r=0;r<l;r++){const v=d[r];if(v.key===f)v.layer.refLayerId=g;else if(f=v.key,g=v.layer.id,v.layer.type===b.StyleLayerType.FILL){if(!v.layer.getPaintProperty("fill-outline-color"))for(var m=r+1;m<l;m++){var k=d[m];if(k.key===f){if(k.layer.getPaintProperty("fill-outline-color")){d[r]=k;d[m]=v;g=k.layer.id;break}}else break}}else if(v.layer.type===b.StyleLayerType.LINE)for(m=v.layer,k=r+1;k<l;k++){const w=d[k];if(w.key!==f)break;const x=w.layer;if(m.canUseThinTessellation&&
!x.canUseThinTessellation||!m.canUseThinTessellation&&(x.getPaintProperty("line-pattern")||x.getPaintProperty("line-dasharray")))m=x,d[r]=w,d[k]=v,g=w.layer.id}}};e._create=function(d,f,g){f=1-1/(g.length+1)*(1+f);g=this._runningId++;switch(d.type){case "background":return new a.BackgroundStyleLayer(b.StyleLayerType.BACKGROUND,d,f,g);case "fill":return new a.FillStyleLayer(b.StyleLayerType.FILL,d,f,g);case "line":return new a.LineStyleLayer(b.StyleLayerType.LINE,d,f,g);case "symbol":return new a.SymbolStyleLayer(b.StyleLayerType.SYMBOL,
d,f,g);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new a.CircleStyleLayer(b.StyleLayerType.CIRCLE,d,f,g)}throw Error("Unknown vector tile layer");};q._recreateLayer=function(d,f){switch(d.type){case "background":return new a.BackgroundStyleLayer(b.StyleLayerType.BACKGROUND,d,f.z,f.uid);case "fill":return new a.FillStyleLayer(b.StyleLayerType.FILL,d,f.z,f.uid);case "line":return new a.LineStyleLayer(b.StyleLayerType.LINE,d,f.z,f.uid);case "symbol":return new a.SymbolStyleLayer(b.StyleLayerType.SYMBOL,
d,f.z,f.uid);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new a.CircleStyleLayer(b.StyleLayerType.CIRCLE,d,f.z,f.uid)}};return q}()})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["exports","../../../../../symbols/cim/enums"],function(b,a){b.StyleLayerType=void 0;(function(e){e[e.BACKGROUND=0]="BACKGROUND";e[e.FILL=1]="FILL";e[e.LINE=2]="LINE";e[e.SYMBOL=3]="SYMBOL";e[e.CIRCLE=4]="CIRCLE"})(b.StyleLayerType||(b.StyleLayerType=
{}));b.Visibility=void 0;(function(e){e[e.VISIBLE=0]="VISIBLE";e[e.NONE=1]="NONE"})(b.Visibility||(b.Visibility={}));b.SymbolPlacement=void 0;(function(e){e[e.POINT=0]="POINT";e[e.LINE=1]="LINE";e[e.LINE_CENTER=2]="LINE_CENTER"})(b.SymbolPlacement||(b.SymbolPlacement={}));b.RotationAlignment=void 0;(function(e){e[e.MAP=0]="MAP";e[e.VIEWPORT=1]="VIEWPORT";e[e.AUTO=2]="AUTO"})(b.RotationAlignment||(b.RotationAlignment={}));b.TextJustification=void 0;(function(e){e[e.AUTO=0]="AUTO";e[e.LEFT=1]="LEFT";
e[e.CENTER=2]="CENTER";e[e.RIGHT=3]="RIGHT"})(b.TextJustification||(b.TextJustification={}));b.SymbolAnchor=void 0;(function(e){e[e.CENTER=0]="CENTER";e[e.LEFT=1]="LEFT";e[e.RIGHT=2]="RIGHT";e[e.TOP=3]="TOP";e[e.BOTTOM=4]="BOTTOM";e[e.TOP_LEFT=5]="TOP_LEFT";e[e.TOP_RIGHT=6]="TOP_RIGHT";e[e.BOTTOM_LEFT=7]="BOTTOM_LEFT";e[e.BOTTOM_RIGHT=8]="BOTTOM_RIGHT"})(b.SymbolAnchor||(b.SymbolAnchor={}));b.TextTransform=void 0;(function(e){e[e.NONE=0]="NONE";e[e.UPPERCASE=1]="UPPERCASE";e[e.LOWERCASE=2]="LOWERCASE"})(b.TextTransform||
(b.TextTransform={}));b.TranslateAnchor=void 0;(function(e){e[e.MAP=0]="MAP";e[e.VIEWPORT=1]="VIEWPORT"})(b.TranslateAnchor||(b.TranslateAnchor={}));b.TextWritingMode=void 0;(function(e){e[e.HORIZONTAL=0]="HORIZONTAL";e[e.VERTICAL=1]="VERTICAL"})(b.TextWritingMode||(b.TextWritingMode={}));let q=function(){};q.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE}};q.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE}};
q.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE},"line-cap":{type:"enum",values:["butt","round","square"],default:a.CapType.BUTT},"line-join":{type:"enum",values:["bevel","round","miter"],default:a.JoinType.MITER},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};q.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE},"symbol-avoid-edges":{type:"boolean",
default:!1},"symbol-placement":{type:"enum",values:["point","line","line-center"],default:b.SymbolPlacement.POINT},"symbol-sort-key":{type:"number",default:-1},"symbol-spacing":{type:"number",minimum:1,default:250},"icon-allow-overlap":{type:"boolean",default:!1},"icon-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:b.SymbolAnchor.CENTER},"icon-ignore-placement":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-keep-upright":{type:"boolean",
default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"icon-optional":{type:"boolean",default:!1},"icon-padding":{type:"number",minimum:0,default:2},"icon-rotate":{type:"number",default:0},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:b.RotationAlignment.AUTO},"icon-size":{type:"number",minimum:0,default:1},"text-allow-overlap":{type:"boolean",default:!1},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),
default:b.SymbolAnchor.CENTER},"text-field":{type:"string"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-ignore-placement":{type:"boolean",default:!1},"text-justify":{type:"enum",values:["auto","left","center","right"],default:b.TextJustification.CENTER},"text-keep-upright":{type:"boolean",default:!0},"text-letter-spacing":{type:"number",default:0},"text-line-height":{type:"number",default:1.2},"text-max-angle":{type:"number",minimum:0,default:45},
"text-max-width":{type:"number",minimum:0,default:10},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-optional":{type:"boolean",default:!1},"text-padding":{type:"number",minimum:0,default:2},"text-rotate":{type:"number",default:0},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:b.RotationAlignment.AUTO},"text-size":{type:"number",minimum:0,default:16},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:b.TextTransform.NONE},
"text-writing-mode":{type:"array",value:"enum",values:["horizontal","vertical"],default:[b.TextWritingMode.HORIZONTAL]}};q.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:b.Visibility.VISIBLE}};q.backgroundPaintDefinition={"background-color":{type:"color",default:[0,0,0,1]},"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-pattern":{type:"string"}};q.fillPaintDefinition={"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",
default:[0,0,0,1]},"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-pattern":{type:"string"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP}};q.linePaintDefinition={"line-blur":{type:"number",minimum:0,default:0},"line-color":{type:"color",default:[0,0,0,1]},"line-dasharray":{type:"array",value:"number",default:[]},
"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-pattern":{type:"string"},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP},"line-width":{type:"number",minimum:0,default:1}};q.symbolPaintDefinition={"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-blur":{type:"number",
minimum:0,default:0},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-blur":{type:"number",minimum:0,default:0},"text-halo-color":{type:"color",default:[0,0,0,0]},
"text-halo-width":{type:"number",minimum:0,default:0},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP}};q.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",
minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};q.circlePaintDefinition={"circle-blur":{type:"number",minimum:0,default:0},"circle-color":{type:"color",default:[0,0,0,1]},"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-stroke-color":{type:"color",default:[0,
0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:b.TranslateAnchor.MAP}};b.StyleDefinition=q;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/symbols/cim/enums":function(){define(["exports"],function(b){b.CapType=void 0;(function(a){a[a.BUTT=0]="BUTT";a[a.ROUND=
1]="ROUND";a[a.SQUARE=2]="SQUARE";a[a.UNKNOWN=4]="UNKNOWN"})(b.CapType||(b.CapType={}));b.JoinType=void 0;(function(a){a[a.BEVEL=0]="BEVEL";a[a.ROUND=1]="ROUND";a[a.MITER=2]="MITER";a[a.UNKNOWN=4]="UNKNOWN"})(b.JoinType||(b.JoinType={}));b.Alignment=void 0;(function(a){a[a.SCREEN=0]="SCREEN";a[a.MAP=1]="MAP"})(b.Alignment||(b.Alignment={}));b.ExternalColorMixMode=void 0;(function(a){a[a.Tint=0]="Tint";a[a.Ignore=1]="Ignore";a[a.Multiply=99]="Multiply"})(b.ExternalColorMixMode||(b.ExternalColorMixMode=
{}));b.ExtremityPlacement=void 0;(function(a){a.Both="Both";a.JustBegin="JustBegin";a.JustEnd="JustEnd";a.None="None"})(b.ExtremityPlacement||(b.ExtremityPlacement={}));b.FillMode=void 0;(function(a){a[a.Mosaic=0]="Mosaic";a[a.Centered=1]="Centered"})(b.FillMode||(b.FillMode={}));b.FontEffects=void 0;(function(a){a[a.Normal=0]="Normal";a[a.Superscript=1]="Superscript";a[a.Subscript=2]="Subscript"})(b.FontEffects||(b.FontEffects={}));b.FontEncoding=void 0;(function(a){a[a.MSSymbol=0]="MSSymbol";a[a.Unicode=
1]="Unicode"})(b.FontEncoding||(b.FontEncoding={}));b.FontType=void 0;(function(a){a[a.Unspecified=0]="Unspecified";a[a.TrueType=1]="TrueType";a[a.PSOpenType=2]="PSOpenType";a[a.TTOpenType=3]="TTOpenType";a[a.Type1=4]="Type1"})(b.FontType||(b.FontType={}));b.AngleAlignment=void 0;(function(a){a[a.Display=0]="Display";a[a.Map=1]="Map"})(b.AngleAlignment||(b.AngleAlignment={}));b.DominantSizeAxis=void 0;(function(a){a[a.Z=0]="Z";a[a.X=1]="X";a[a.Y=2]="Y"})(b.DominantSizeAxis||(b.DominantSizeAxis={}));
b.RotationOrder=void 0;(function(a){a[a.XYZ=0]="XYZ";a[a.ZXY=1]="ZXY";a[a.YXZ=2]="YXZ"})(b.RotationOrder||(b.RotationOrder={}));b.BalloonCalloutStyle=void 0;(function(a){a[a.Rectangle=0]="Rectangle";a[a.RoundedRectangle=1]="RoundedRectangle";a[a.Oval=2]="Oval"})(b.BalloonCalloutStyle||(b.BalloonCalloutStyle={}));b.BlendingMode=void 0;(function(a){a[a.None=0]="None";a[a.Alpha=1]="Alpha";a[a.Screen=2]="Screen";a[a.Multiply=3]="Multiply";a[a.Add=4]="Add"})(b.BlendingMode||(b.BlendingMode={}));b.BlockProgression=
void 0;(function(a){a[a.TTB=0]="TTB";a[a.RTL=1]="RTL";a[a.BTT=2]="BTT"})(b.BlockProgression||(b.BlockProgression={}));b.BillBoardMode=void 0;(function(a){a[a.None=0]="None";a[a.SignPost=1]="SignPost";a[a.FaceNearPlane=2]="FaceNearPlane"})(b.BillBoardMode||(b.BillBoardMode={}));b.CGAAttributeType=void 0;(function(a){a[a.Float=0]="Float";a[a.String=1]="String";a[a.Boolean=2]="Boolean"})(b.CGAAttributeType||(b.CGAAttributeType={}));b.ClippingType=void 0;(function(a){a[a.Intersect=0]="Intersect";a[a.Subtract=
1]="Subtract"})(b.ClippingType||(b.ClippingType={}));b.GeometricEffectArrowType=void 0;(function(a){a.OpenEnded="OpenEnded";a.Block="Block";a.Crossed="Crossed"})(b.GeometricEffectArrowType||(b.GeometricEffectArrowType={}));b.GeometricEffectControlMeasureLineRule=void 0;(function(a){a.FullGeometry="FullGeometry";a.PerpendicularFromFirstSegment="PerpendicularFromFirstSegment";a.ReversedFirstSegment="ReversedFirstSegment";a.PerpendicularToSecondSegment="PerpendicularToSecondSegment";a.SecondSegmentWithTicks=
"SecondSegmentWithTicks";a.DoublePerpendicular="DoublePerpendicular";a.OppositeToFirstSegment="OppositeToFirstSegment";a.TriplePerpendicular="TriplePerpendicular";a.HalfCircleFirstSegment="HalfCircleFirstSegment";a.HalfCircleSecondSegment="HalfCircleSecondSegment";a.HalfCircleExtended="HalfCircleExtended";a.OpenCircle="OpenCircle";a.CoverageEdgesWithTicks="CoverageEdgesWithTicks";a.GapExtentWithDoubleTicks="GapExtentWithDoubleTicks";a.GapExtentMidline="GapExtentMidline";a.Chevron="Chevron";a.PerpendicularWithArc=
"PerpendicularWithArc";a.ClosedHalfCircle="ClosedHalfCircle";a.TripleParallelExtended="TripleParallelExtended";a.ParallelWithTicks="ParallelWithTicks";a.Parallel="Parallel";a.PerpendicularToFirstSegment="PerpendicularToFirstSegment";a.ParallelOffset="ParallelOffset";a.OffsetOpposite="OffsetOpposite";a.OffsetSame="OffsetSame";a.CircleWithArc="CircleWithArc";a.DoubleJog="DoubleJog";a.PerpendicularOffset="PerpendicularOffset";a.LineExcludingLastSegment="LineExcludingLastSegment";a.MultivertexArrow="MultivertexArrow";
a.CrossedArrow="CrossedArrow";a.ChevronArrow="ChevronArrow";a.ChevronArrowOffset="ChevronArrowOffset";a.PartialFirstSegment="PartialFirstSegment";a.Arch="Arch";a.CurvedParallelTicks="CurvedParallelTicks";a.Arc90Degrees="Arc90Degrees"})(b.GeometricEffectControlMeasureLineRule||(b.GeometricEffectControlMeasureLineRule={}));b.GeometricEffectDonutMethod=void 0;(function(a){a.Mitered="Mitered";a.Bevelled="Bevelled";a.Rounded="Rounded";a.Square="Square";a.TrueBuffer="TrueBuffer"})(b.GeometricEffectDonutMethod||
(b.GeometricEffectDonutMethod={}));b.GeometricEffectEnclosingPolygonMethod=void 0;(function(a){a.ClosePath="ClosePath";a.ConvexHull="ConvexHull";a.RectangularBox="RectangularBox"})(b.GeometricEffectEnclosingPolygonMethod||(b.GeometricEffectEnclosingPolygonMethod={}));b.GeometricEffectExtensionOrigin=void 0;(function(a){a.BeginningOfLine="BeginningOfLine";a.EndOfLine="EndOfLine"})(b.GeometricEffectExtensionOrigin||(b.GeometricEffectExtensionOrigin={}));b.GeometricEffectOffsetMethod=void 0;(function(a){a.Mitered=
"Mitered";a.Bevelled="Bevelled";a.Rounded="Rounded";a.Square="Square"})(b.GeometricEffectOffsetMethod||(b.GeometricEffectOffsetMethod={}));b.GeometricEffectOffsetOption=void 0;(function(a){a.Fast="Fast";a.Accurate="Accurate"})(b.GeometricEffectOffsetOption||(b.GeometricEffectOffsetOption={}));b.GeometricEffectOffsetTangentMethod=void 0;(function(a){a.BeginningOfLine="BeginningOfLine";a.EndOfLine="EndOfLine"})(b.GeometricEffectOffsetTangentMethod||(b.GeometricEffectOffsetTangentMethod={}));b.GeometricEffectWaveform=
void 0;(function(a){a.Sinus="Sinus";a.Square="Square";a.Triangle="Triangle";a.Random="Random"})(b.GeometricEffectWaveform||(b.GeometricEffectWaveform={}));b.GlyphHinting=void 0;(function(a){a[a.None=0]="None";a[a.Default=1]="Default";a[a.Force=2]="Force"})(b.GlyphHinting||(b.GlyphHinting={}));b.GradientAlignment=void 0;(function(a){a[a.Buffered=0]="Buffered";a[a.Left=1]="Left";a[a.Right=2]="Right";a[a.AlongLine=3]="AlongLine"})(b.GradientAlignment||(b.GradientAlignment={}));b.GradientFillMethod=void 0;
(function(a){a[a.Linear=0]="Linear";a[a.Rectangular=1]="Rectangular";a[a.Circular=2]="Circular";a[a.Buffered=3]="Buffered"})(b.GradientFillMethod||(b.GradientFillMethod={}));b.GradientStrokeType=void 0;(function(a){a[a.Discrete=0]="Discrete";a[a.Continuous=1]="Continuous"})(b.GradientStrokeType||(b.GradientStrokeType={}));b.GradientStrokeMethod=void 0;(function(a){a[a.AcrossLine=0]="AcrossLine";a[a.AloneLine=1]="AloneLine"})(b.GradientStrokeMethod||(b.GradientStrokeMethod={}));b.HorizontalAlignment=
void 0;(function(a){a[a.Left=0]="Left";a[a.Right=1]="Right";a[a.Center=2]="Center";a[a.Justify=3]="Justify"})(b.HorizontalAlignment||(b.HorizontalAlignment={}));b.LeaderLineStyle=void 0;(function(a){a[a.Base=0]="Base";a[a.MidPoint=1]="MidPoint";a[a.ThreePoint=2]="ThreePoint";a[a.FourPoint=3]="FourPoint";a[a.Underline=4]="Underline";a[a.CircularCW=5]="CircularCW";a[a.CircularCCW=6]="CircularCCW"})(b.LeaderLineStyle||(b.LeaderLineStyle={}));b.LineCapStyle=void 0;(function(a){a.Butt="Butt";a.Round="Round";
a.Square="Square"})(b.LineCapStyle||(b.LineCapStyle={}));b.LineDashEnding=void 0;(function(a){a.NoConstraint="NoConstraint";a.HalfPattern="HalfPattern";a.HalfGap="HalfGap";a.FullPattern="FullPattern";a.FullGap="FullGap";a.Custom="Custom"})(b.LineDashEnding||(b.LineDashEnding={}));b.LineDecorationStyle=void 0;(function(a){a[a.None=-1]="None";a[a.Custom=0]="Custom";a[a.Circle=1]="Circle";a[a.OpenArrow=2]="OpenArrow";a[a.ClosedArrow=3]="ClosedArrow";a[a.Diamond=4]="Diamond"})(b.LineDecorationStyle||
(b.LineDecorationStyle={}));b.LineGapType=void 0;(function(a){a[a.ExtraLeading=0]="ExtraLeading";a[a.Multiple=1]="Multiple";a[a.Exact=2]="Exact"})(b.LineGapType||(b.LineGapType={}));b.LineJoinStyle=void 0;(function(a){a.Bevel="Bevel";a.Round="Round";a.Miter="Miter"})(b.LineJoinStyle||(b.LineJoinStyle={}));b.ExpressionReturnType=void 0;(function(a){a[a.Default=0]="Default";a[a.String=1]="String";a[a.Numeric=2]="Numeric"})(b.ExpressionReturnType||(b.ExpressionReturnType={}));b.MarkerPlacementType=void 0;
(function(a){a[a.InsidePolygon=0]="InsidePolygon";a[a.PolygonCenter=1]="PolygonCenter";a[a.RandomlyInsidePolygon=2]="RandomlyInsidePolygon"})(b.MarkerPlacementType||(b.MarkerPlacementType={}));b.MaterialMode=void 0;(function(a){a[a.Tint=0]="Tint";a[a.Replace=1]="Replace";a[a.Multiply=2]="Multiply"})(b.MaterialMode||(b.MaterialMode={}));b.PlacementClip=void 0;(function(a){a[a.ClipAtBoundary=0]="ClipAtBoundary";a[a.RemoveIfCenterOutsideBoundary=1]="RemoveIfCenterOutsideBoundary";a[a.DoNotTouchBoundary=
2]="DoNotTouchBoundary";a[a.DoNotClip=3]="DoNotClip"})(b.PlacementClip||(b.PlacementClip={}));b.PlacementEndings=void 0;(function(a){a.NoConstraint="NoConstraint";a.WithMarkers="WithMarkers";a.WithFullGap="WithFullGap";a.WithHalfGap="WithHalfGap";a.Custom="Custom"})(b.PlacementEndings||(b.PlacementEndings={}));b.PlacementGridType=void 0;(function(a){a.Fixed="Fixed";a.Random="Random";a.RandomFixedQuantity="RandomFixedQuantity"})(b.PlacementGridType||(b.PlacementGridType={}));b.PlacementOnLineRelativeTo=
void 0;(function(a){a.LineMiddle="LineMiddle";a.LineBeginning="LineBeginning";a.LineEnd="LineEnd";a.SegmentMidpoint="SegmentMidpoint"})(b.PlacementOnLineRelativeTo||(b.PlacementOnLineRelativeTo={}));b.PlacementPolygonCenterMethod=void 0;(function(a){a.OnPolygon="OnPolygon";a.CenterOfMass="CenterOfMass";a.BoundingBoxCenter="BoundingBoxCenter"})(b.PlacementPolygonCenterMethod||(b.PlacementPolygonCenterMethod={}));b.PlacementRandomlyAlongLineRandomization=void 0;(function(a){a[a.Low=0]="Low";a[a.Medium=
1]="Medium";a[a.High=2]="High"})(b.PlacementRandomlyAlongLineRandomization||(b.PlacementRandomlyAlongLineRandomization={}));b.PlacementStepPosition=void 0;(function(a){a[a.MarkerCenter=0]="MarkerCenter";a[a.MarkerBounds=1]="MarkerBounds"})(b.PlacementStepPosition||(b.PlacementStepPosition={}));b.PointSymbolCalloutScale=void 0;(function(a){a[a.None=0]="None";a[a.PropUniform=1]="PropUniform";a[a.PropNonuniform=2]="PropNonuniform";a[a.DifUniform=3]="DifUniform";a[a.DifNonuniform=4]="DifNonuniform"})(b.PointSymbolCalloutScale||
(b.PointSymbolCalloutScale={}));b.Simple3DLineStyle=void 0;(function(a){a.Tube="Tube";a.Strip="Strip";a.Wall="Wall"})(b.Simple3DLineStyle||(b.Simple3DLineStyle={}));b.SizeVariationMethod=void 0;(function(a){a[a.Random=0]="Random";a[a.Increasing=1]="Increasing";a[a.Decreasing=2]="Decreasing";a[a.IncreasingThenDecreasing=3]="IncreasingThenDecreasing"})(b.SizeVariationMethod||(b.SizeVariationMethod={}));b.SymbolUnits=void 0;(function(a){a[a.Relative=0]="Relative";a[a.Absolute=1]="Absolute"})(b.SymbolUnits||
(b.SymbolUnits={}));b.TextCase=void 0;(function(a){a[a.Normal=0]="Normal";a[a.LowerCase=1]="LowerCase";a[a.Allcaps=2]="Allcaps"})(b.TextCase||(b.TextCase={}));b.TextReadingDirection=void 0;(function(a){a[a.LTR=0]="LTR";a[a.RTL=1]="RTL"})(b.TextReadingDirection||(b.TextReadingDirection={}));b.TextureFilter=void 0;(function(a){a.Draft="Draft";a.Picture="Picture";a.Text="Text"})(b.TextureFilter||(b.TextureFilter={}));b.VerticalAlignment=void 0;(function(a){a[a.Top=0]="Top";a[a.Center=1]="Center";a[a.Baseline=
2]="Baseline";a[a.Bottom=3]="Bottom"})(b.VerticalAlignment||(b.VerticalAlignment={}));b.VerticalGlyphOrientation=void 0;(function(a){a[a.Right=0]="Right";a[a.Upright=1]="Upright"})(b.VerticalGlyphOrientation||(b.VerticalGlyphOrientation={}));b.WaterbodySize=void 0;(function(a){a[a.Small=0]="Small";a[a.Medium=1]="Medium";a[a.Large=2]="Large"})(b.WaterbodySize||(b.WaterbodySize={}));b.WaveStrength=void 0;(function(a){a[a.Calm=0]="Calm";a[a.Rippled=1]="Rippled";a[a.Slight=2]="Slight";a[a.Moderate=3]=
"Moderate"})(b.WaveStrength||(b.WaveStrength={}));Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../symbols/cim/enums ../enums ../shaders/VTLBackgroundMaterial ../shaders/VTLCircleMaterial ../shaders/VTLFillMaterial ../shaders/VTLLineMaterial ../shaders/VTLSymbolMaterial ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),function(b,
a,q,e,d,f,g,l,m,k,r,v,w){let x=function(){function M(n,u,D,B){this.type=n;this.typeName=u.type;this.id=u.id;this.source=u.source;this.sourceLayer=u["source-layer"];this.minzoom=u.minzoom;this.maxzoom=u.maxzoom;this.filter=u.filter;this.layout=u.layout;this.paint=u.paint;this.z=D;this.uid=B;switch(n){case r.StyleLayerType.BACKGROUND:this._layoutDefinition=r.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=r.StyleDefinition.backgroundPaintDefinition;break;case r.StyleLayerType.FILL:this._layoutDefinition=
r.StyleDefinition.fillLayoutDefinition;this._paintDefinition=r.StyleDefinition.fillPaintDefinition;break;case r.StyleLayerType.LINE:this._layoutDefinition=r.StyleDefinition.lineLayoutDefinition;this._paintDefinition=r.StyleDefinition.linePaintDefinition;break;case r.StyleLayerType.SYMBOL:this._layoutDefinition=r.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=r.StyleDefinition.symbolPaintDefinition;break;case r.StyleLayerType.CIRCLE:this._layoutDefinition=r.StyleDefinition.circleLayoutDefinition,
this._paintDefinition=r.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);this._paintProperties=this._parsePaint(this.paint)}var z=M.prototype;z.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=k.createFilter(this.filter)};z.getLayoutProperty=function(n){return this._layoutProperties[n]};z.getPaintProperty=function(n){return this._paintProperties[n]};z.getLayoutValue=function(n,u,D){let B;const H=this._layoutProperties[n];
H&&(B=H.getValue(u,D));void 0===B&&(B=this._layoutDefinition[n]["default"]);return B};z.getPaintValue=function(n,u,D){let B;const H=this._paintProperties[n];H&&(B=H.getValue(u,D));void 0===B&&(B=this._paintDefinition[n]["default"]);return B};z.isPainterDataDriven=function(){const n=this._paintProperties;if(n)for(const u in n)if(n[u].isDataDriven)return!0;return!1};z._parseLayout=function(n){const u={};for(const D in n){const B=this._layoutDefinition[D];B&&(u[D]=new v(B,n[D]))}return u};z._parsePaint=
function(n){const u={};for(const D in n){const B=this._paintDefinition[D];B&&(u[D]=new v(B,n[D]))}return u};z.computeAttributesKey=function(n,u,D,B){let H=0,N=0;for(const L of u){u=3;if(!L||L!==B){const {isLayout:O,isOptional:S}=D[L];u=O?this.getLayoutProperty(L):this.getPaintProperty(L);u=null!=u&&u.interpolator?2:null!=u&&u.isDataDriven?1:S&&!u?3:0}N|=u<<H;H+=2}return N<<3|n};return M}(),A=function(M){function z(n,u,D,B){n=M.call(this,n,u,D,B)||this;n.backgroundMaterial=new d.VTLBackgroundMaterial(n.computeAttributesKey(e.ShaderProgramType.BACKGROUND,
d.VTLBackgroundMaterial.ATTRIBUTES,d.VTLBackgroundMaterial.ATTRIBUTES_INFO));return n}a._inheritsLoose(z,M);return z}(x),C=function(M){function z(n,u,D,B){n=M.call(this,n,u,D,B)||this;u=n.getPaintProperty("fill-color");D=n.getPaintProperty("fill-opacity");B=n.getPaintProperty("fill-pattern");n.hasDataDrivenColor=null==u?void 0:u.isDataDriven;n.hasDataDrivenOpacity=null==D?void 0:D.isDataDriven;n.hasDataDrivenFill=n.hasDataDrivenColor||n.hasDataDrivenOpacity||(null==B?void 0:B.isDataDriven);D=n.getPaintProperty("fill-outline-color");
n.outlineUsesFillColor=!D;n.hasDataDrivenOutlineColor=null==D?void 0:D.isDataDriven;n.hasDataDrivenOutline=D?D.isDataDriven:u?u.isDataDriven:!1;n.hasDataDrivenOutline=(D?n.hasDataDrivenOutlineColor:n.hasDataDrivenColor)||n.hasDataDrivenOpacity;n.fillMaterial=new g.VTLFillMaterial(n.computeAttributesKey(e.ShaderProgramType.FILL,g.VTLFillMaterial.ATTRIBUTES,g.VTLFillMaterial.ATTRIBUTES_INFO));n.outlineMaterial=new g.VTLOutlineMaterial(n.computeAttributesKey(e.ShaderProgramType.OUTLINE,n.outlineUsesFillColor?
g.VTLOutlineMaterial.ATTRIBUTES_FILL:g.VTLOutlineMaterial.ATTRIBUTES_OUTLINE,n.outlineUsesFillColor?g.VTLOutlineMaterial.ATTRIBUTES_INFO_FILL:g.VTLOutlineMaterial.ATTRIBUTES_INFO_OUTLINE),n.outlineUsesFillColor);return n}a._inheritsLoose(z,M);return z}(x),R=function(M){function z(n,u,D,B){var H,N,L,O,S,V,W,U,G;n=M.call(this,n,u,D,B)||this;u=n.getPaintProperty("line-pattern");n.lineMaterial=new l.VTLLineMaterial(n.computeAttributesKey(e.ShaderProgramType.LINE,l.VTLLineMaterial.ATTRIBUTES,l.VTLLineMaterial.ATTRIBUTES_INFO,
u?"line-dasharray":""));n.hasDataDrivenLine=(null==(H=n.getPaintProperty("line-blur"))?void 0:H.isDataDriven)||(null==(N=n.getPaintProperty("line-color"))?void 0:N.isDataDriven)||(null==(L=n.getPaintProperty("line-gap-width"))?void 0:L.isDataDriven)||(null==(O=n.getPaintProperty("line-offset"))?void 0:O.isDataDriven)||(null==(S=n.getPaintProperty("line-opacity"))?void 0:S.isDataDriven)||(null==(V=n.getPaintProperty("line-pattern"))?void 0:V.isDataDriven)||(null==(W=n.getPaintProperty("line-dasharray"))?
void 0:W.isDataDriven)||(null==(U=n.getLayoutProperty("line-cap"))?void 0:U.isDataDriven)||(null==(G=n.getPaintProperty("line-width"))?void 0:G.isDataDriven);n.canUseThinTessellation=!1;!n.hasDataDrivenLine&&(H=n.getPaintProperty("line-width"),!H||"number"===typeof H&&.5*H<w.THIN_LINE_HALF_WIDTH_THRESHOLD)&&(H=n.getPaintProperty("line-offset"),!H||"number"===typeof H&&0===H)&&(n.canUseThinTessellation=!0);return n}a._inheritsLoose(z,M);z.prototype.getDashKey=function(n,u){switch(u){case q.CapType.BUTT:u=
"Butt";break;case q.CapType.ROUND:u="Round";break;case q.CapType.SQUARE:u="Square";break;default:u="Butt"}return`dasharray-[${n.toString()}]-${u}`};return z}(x),E=function(M){function z(n,u,D,B){var H,N,L,O,S,V,W,U,G,K,T,Z;n=M.call(this,n,u,D,B)||this;n.iconMaterial=new m.VTLIconMaterial(n.computeAttributesKey(e.ShaderProgramType.ICON,m.VTLIconMaterial.ATTRIBUTES,m.VTLIconMaterial.ATTRIBUTES_INFO));n.textMaterial=new m.VTLTextMaterial(n.computeAttributesKey(e.ShaderProgramType.TEXT,m.VTLTextMaterial.ATTRIBUTES,
m.VTLTextMaterial.ATTRIBUTES_INFO));n.hasDataDrivenIcon=(null==(H=n.getPaintProperty("icon-color"))?void 0:H.isDataDriven)||(null==(N=n.getPaintProperty("icon-halo-blur"))?void 0:N.isDataDriven)||(null==(L=n.getPaintProperty("icon-halo-color"))?void 0:L.isDataDriven)||(null==(O=n.getPaintProperty("icon-halo-width"))?void 0:O.isDataDriven)||(null==(S=n.getPaintProperty("icon-opacity"))?void 0:S.isDataDriven)||(null==(V=n.getLayoutProperty("icon-size"))?void 0:V.isDataDriven);n.hasDataDrivenText=(null==
(W=n.getPaintProperty("text-color"))?void 0:W.isDataDriven)||(null==(U=n.getPaintProperty("text-halo-blur"))?void 0:U.isDataDriven)||(null==(G=n.getPaintProperty("text-halo-color"))?void 0:G.isDataDriven)||(null==(K=n.getPaintProperty("text-halo-width"))?void 0:K.isDataDriven)||(null==(T=n.getPaintProperty("text-opacity"))?void 0:T.isDataDriven)||(null==(Z=n.getLayoutProperty("text-size"))?void 0:Z.isDataDriven);return n}a._inheritsLoose(z,M);return z}(x),F=function(M){function z(n,u,D,B){n=M.call(this,
n,u,D,B)||this;n.circleMaterial=new f.VTLCircleMaterial(n.computeAttributesKey(e.ShaderProgramType.CIRCLE,f.VTLCircleMaterial.ATTRIBUTES,f.VTLCircleMaterial.ATTRIBUTES_INFO));return n}a._inheritsLoose(z,M);return z}(x),I=function(){function M(z,n,u){var D,B,H,N,L;this.allowOverlap=z.getLayoutValue("icon-allow-overlap",n);this.ignorePlacement=z.getLayoutValue("icon-ignore-placement",n);this.keepUpright=z.getLayoutValue("icon-keep-upright",n);this.optional=z.getLayoutValue("icon-optional",n);this.rotationAlignment=
z.getLayoutValue("icon-rotation-alignment",n);this.rotationAlignment===r.RotationAlignment.AUTO&&(this.rotationAlignment=u?r.RotationAlignment.MAP:r.RotationAlignment.VIEWPORT);u=z.getLayoutProperty("icon-anchor");null!=(D=u)&&D.isDataDriven?this._anchorProp=u:this.anchor=z.getLayoutValue("icon-anchor",n);u=z.getLayoutProperty("icon-offset");null!=(B=u)&&B.isDataDriven?this._offsetProp=u:this.offset=z.getLayoutValue("icon-offset",n);u=z.getLayoutProperty("icon-padding");null!=(H=u)&&H.isDataDriven?
this._paddingProp=u:this.padding=z.getLayoutValue("icon-padding",n);u=z.getLayoutProperty("icon-rotate");null!=(N=u)&&N.isDataDriven?this._rotateProp=u:this.rotate=z.getLayoutValue("icon-rotate",n);u=z.getLayoutProperty("icon-size");null!=(L=u)&&L.isDataDriven?this._sizeProp=u:this.size=z.getLayoutValue("icon-size",n)}M.prototype.update=function(z,n){this._anchorProp&&(this.anchor=this._anchorProp.getValue(z,n));this._offsetProp&&(this.offset=this._offsetProp.getValue(z,n));this._paddingProp&&(this.padding=
this._paddingProp.getValue(z,n));this._rotateProp&&(this.rotate=this._rotateProp.getValue(z,n));this._sizeProp&&(this.size=this._sizeProp.getValue(z,n))};return M}(),P=function(){function M(z,n,u){var D,B,H,N,L,O,S,V,W,U,G;this.allowOverlap=z.getLayoutValue("text-allow-overlap",n);this.ignorePlacement=z.getLayoutValue("text-ignore-placement",n);this.keepUpright=z.getLayoutValue("text-keep-upright",n);this.optional=z.getLayoutValue("text-optional",n);this.rotationAlignment=z.getLayoutValue("text-rotation-alignment",
n);this.rotationAlignment===r.RotationAlignment.AUTO&&(this.rotationAlignment=u?r.RotationAlignment.MAP:r.RotationAlignment.VIEWPORT);u=z.getLayoutProperty("text-anchor");null!=(D=u)&&D.isDataDriven?this._anchorProp=u:this.anchor=z.getLayoutValue("text-anchor",n);u=z.getLayoutProperty("text-justify");null!=(B=u)&&B.isDataDriven?this._justifyProp=u:this.justify=z.getLayoutValue("text-justify",n);u=z.getLayoutProperty("text-letter-spacing");null!=(H=u)&&H.isDataDriven?this._letterSpacingProp=u:this.letterSpacing=
z.getLayoutValue("text-letter-spacing",n);u=z.getLayoutProperty("text-line-height");null!=(N=u)&&N.isDataDriven?this._lineHeightProp=u:this.lineHeight=z.getLayoutValue("text-line-height",n);u=z.getLayoutProperty("text-max-angle");null!=(L=u)&&L.isDataDriven?this._maxAngleProp=u:this.maxAngle=z.getLayoutValue("text-max-angle",n);u=z.getLayoutProperty("text-max-width");null!=(O=u)&&O.isDataDriven?this._maxWidthProp=u:this.maxWidth=z.getLayoutValue("text-max-width",n);u=z.getLayoutProperty("text-offset");
null!=(S=u)&&S.isDataDriven?this._offsetProp=u:this.offset=z.getLayoutValue("text-offset",n);u=z.getLayoutProperty("text-padding");null!=(V=u)&&V.isDataDriven?this._paddingProp=u:this.padding=z.getLayoutValue("text-padding",n);u=z.getLayoutProperty("text-rotate");null!=(W=u)&&W.isDataDriven?this._rotateProp=u:this.rotate=z.getLayoutValue("text-rotate",n);u=z.getLayoutProperty("text-size");null!=(U=u)&&U.isDataDriven?this._sizeProp=u:this.size=z.getLayoutValue("text-size",n);u=z.getLayoutProperty("text-writing-mode");
null!=(G=u)&&G.isDataDriven?this._writingModeProp=u:this.writingMode=z.getLayoutValue("text-writing-mode",n)}M.prototype.update=function(z,n){this._anchorProp&&(this.anchor=this._anchorProp.getValue(z,n));this._justifyProp&&(this.justify=this._justifyProp.getValue(z,n));this._letterSpacingProp&&(this.letterSpacing=this._letterSpacingProp.getValue(z,n));this._lineHeightProp&&(this.lineHeight=this._lineHeightProp.getValue(z,n));this._maxAngleProp&&(this.maxAngle=this._maxAngleProp.getValue(z,n));this._maxWidthProp&&
(this.maxWidth=this._maxWidthProp.getValue(z,n));this._offsetProp&&(this.offset=this._offsetProp.getValue(z,n));this._paddingProp&&(this.padding=this._paddingProp.getValue(z,n));this._rotateProp&&(this.rotate=this._rotateProp.getValue(z,n));this._sizeProp&&(this.size=this._sizeProp.getValue(z,n));this._writingModeProp&&(this.writingMode=this._writingModeProp.getValue(z,n))};return M}();b.BackgroundStyleLayer=A;b.CircleStyleLayer=F;b.FillStyleLayer=C;b.IconLayout=I;b.LineStyleLayer=R;b.StyleLayer=
x;b.SymbolStyleLayer=E;b.TextLayout=P;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/enums":function(){define(["exports"],function(b){b.MemoryBufferType=void 0;(function(a){a[a.UNKNOWN=0]="UNKNOWN";a[a.FILL_VERTEX=1]="FILL_VERTEX";a[a.FILL_DD_VERTEX=2]="FILL_DD_VERTEX";a[a.FILL_INDEX=3]="FILL_INDEX";a[a.OUTLINE_VERTEX=4]="OUTLINE_VERTEX";a[a.OUTLINE_DD_VERTEX=5]="OUTLINE_DD_VERTEX";a[a.OUTLINE_INDEX=6]="OUTLINE_INDEX";a[a.LINE_VERTEX=7]="LINE_VERTEX";a[a.LINE_DD_VERTEX=
8]="LINE_DD_VERTEX";a[a.LINE_INDEX=9]="LINE_INDEX";a[a.ICON_VERTEX=10]="ICON_VERTEX";a[a.ICON_DD_VERTEX=11]="ICON_DD_VERTEX";a[a.ICON_INDEX=12]="ICON_INDEX";a[a.TEXT_VERTEX=13]="TEXT_VERTEX";a[a.TEXT_DD_VERTEX=14]="TEXT_DD_VERTEX";a[a.TEXT_INDEX=15]="TEXT_INDEX";a[a.CIRCLE_VERTEX=16]="CIRCLE_VERTEX";a[a.CIRCLE_INDEX=17]="CIRCLE_INDEX"})(b.MemoryBufferType||(b.MemoryBufferType={}));b.BucketType=void 0;(function(a){a[a.FILL=1]="FILL";a[a.LINE=2]="LINE";a[a.SYMBOL=3]="SYMBOL";a[a.CIRCLE=4]="CIRCLE"})(b.BucketType||
(b.BucketType={}));b.DrawPhase=void 0;(function(a){a[a.BACKGROUND=0]="BACKGROUND";a[a.OPAQUE=1]="OPAQUE";a[a.TRANSLUCENT=2]="TRANSLUCENT";a[a.SYMBOLS=3]="SYMBOLS";a[a.HITTEST=4]="HITTEST"})(b.DrawPhase||(b.DrawPhase={}));b.ShaderProgramType=void 0;(function(a){a[a.BACKGROUND=0]="BACKGROUND";a[a.FILL=1]="FILL";a[a.OUTLINE=2]="OUTLINE";a[a.LINE=3]="LINE";a[a.ICON=4]="ICON";a[a.CIRCLE=5]="CIRCLE";a[a.TEXT=6]="TEXT";a[a.TILEINFO=7]="TILEINFO"})(b.ShaderProgramType||(b.ShaderProgramType={}));b.StyleUpdateType=
void 0;(function(a){a[a.PAINTER_CHANGED=0]="PAINTER_CHANGED";a[a.LAYOUT_CHANGED=1]="LAYOUT_CHANGED";a[a.LAYER_CHANGED=2]="LAYER_CHANGED";a[a.LAYER_REMOVED=3]="LAYER_REMOVED";a[a.SPRITES_CHANGED=4]="SPRITES_CHANGED"})(b.StyleUpdateType||(b.StyleUpdateType={}));Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/shaders/VTLBackgroundMaterial":function(){define(["exports","../../../../../chunks/_rollupPluginBabelHelpers","./VTLMaterial","../../../../webgl/enums","../../../../webgl/VertexElementDescriptor"],
function(b,a,q,e,d){q=function(f){function g(m){return f.call(this,m)||this}a._inheritsLoose(g,f);var l=g.prototype;l.geometryInfo=function(){return g.GEOMETRY_LAYOUT};l.opacityInfo=function(){return null};l.attributes=function(){return g.ATTRIBUTES};l.attributesInfo=function(){return g.ATTRIBUTES_INFO};return g}(q.VTLMaterial);q.ATTRIBUTES=[];q.GEOMETRY_LAYOUT=[new d.VertexElementDescriptor("a_pos",2,e.DataType.BYTE,0,2)];q.ATTRIBUTES_INFO={};b.VTLBackgroundMaterial=q;Object.defineProperty(b,"__esModule",
{value:!0})})},"esri/views/2d/engine/vectorTiles/shaders/VTLMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../MemoryBuffer ./enums ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(b,a,q,e,d,f,g){let l=function(){function r(w){this._locations=new Map;this._key=w}var v=r.prototype;v.defines=function(){return[]};v.getStride=function(){this._layoutInfo||this._buildAttributesInfo();return this._stride};
v.getAttributeLocations=function(){0===this._locations.size&&this._buildAttributesInfo();return this._locations};v.getLayoutInfo=function(){this._layoutInfo||this._buildAttributesInfo();return this._layoutInfo};v.getEncodingInfos=function(){this._propertyEncodingInfo||this._buildAttributesInfo();return this._propertyEncodingInfo};v.getUniforms=function(){this._uniforms||this._buildAttributesInfo();return this._uniforms};v.getShaderHeader=function(){this._shaderHeader||this._buildAttributesInfo();
return this._shaderHeader};v.getShaderMain=function(){this._shaderMain||this._buildAttributesInfo();return this._shaderMain};v.setDataUniforms=function(w,x,A,C,R){var E=this.getUniforms();for(const F of E){const {name:I,type:P,getValue:M}=F;E=M(A,x,C,R);if(null!==E)switch(P){case "float":w.setUniform1f(I,E);break;case "vec2":w.setUniform2fv(I,E);break;case "vec4":w.setUniform4fv(I,E)}}};v.encodeAttributes=function(w,x,A,C){const R=this.attributesInfo(),E=this.getEncodingInfos(),F=[];let I=0,P=0;for(const n of Object.keys(E)){var M,
z=E[n];const {type:u,precisionFactor:D,isLayout:B}=R[n],H=B?A.getLayoutProperty(n):A.getPaintProperty(n),N=null==(M=H.interpolator)?void 0:M.getInterpolationRange(x);let L=0;for(const O of z){const {offset:S,bufferElementsToAdd:V}=O;if(0<V){for(z=0;z<V;z++)F.push(0);I+=P;P=O.bufferElementsToAdd}z=null!=C?C:H.getValue(N?N[L]:x,w);switch(u){case d.EncodingType.R8_SIGNED:case d.EncodingType.R8_UNSIGNED:F[I]|=this._encodeByte(z*(D||1),8*S);break;case d.EncodingType.R16_SIGNED:case d.EncodingType.R16_UNSIGNED:F[I]|=
this._encodeShort(z*(D||1),8*S);break;case d.EncodingType.R8G8_SIGNED:case d.EncodingType.R8G8_UNSIGNED:F[I]|=this._encodeByte(z*(D||1),8*S);F[I]|=this._encodeByte(z*(D||1),8*S+8);break;case d.EncodingType.R16G16_SIGNED:case d.EncodingType.R16G16_UNSIGNED:F[I]|=this._encodeShort(z*(D||1),8*S);F[I]|=this._encodeShort(z*(D||1),8*S+16);break;case d.EncodingType.R8G8B8A8_SIGNED:case d.EncodingType.R8G8B8A8_UNSIGNED:F[I]|=this._encodeByte(z*(D||1),8*S);F[I]|=this._encodeByte(z*(D||1),8*S+8);F[I]|=this._encodeByte(z*
(D||1),8*S+16);F[I]|=this._encodeByte(z*(D||1),8*S+24);break;case d.EncodingType.R8G8B8A8_COLOR:F[I]=this._encodeColor(z);break;case d.EncodingType.R16G16B16A16_DASHARRAY:case d.EncodingType.R16G16B16A16_PATTERN:this._encodePattern(I,F,z);break;default:throw Error("Unsupported encoding type");}L++}}return F};v.getAtributeState=function(w){const x=3+2*w;w=0|this._bit(x);return w|=this._bit(x+1)<<1};v._buildAttributesInfo=function(){const w=[],x={};var A={},C=-1;const R=this.attributesInfo();var E=
this.attributes();let F=-1;for(const z of E){F++;E=this.getAtributeState(F);if(E===d.AttributeStatus.UNIFORM||E===d.AttributeStatus.UNUSED)continue;var I=R[z];const n=[];x[z]=n;I=I.type;for(let u=0;u<E;u++){const {dataType:D,bytesPerElement:B,count:H,normalized:N}=r._encodingInfo[I],L=B*H;let O=A[D];var P=0;!O||4<O.count+H?(C++,O={dataIndex:C,count:0,offset:0},4!==H&&(A[D]=O),w.push({location:-1,name:"a_data_"+C,count:H,type:D,normalized:N}),P=Math.ceil(Math.max(L/4,1))):(P=w[O.dataIndex],P.count+=
H,P=Math.ceil(Math.max(P.count*B/4,1))-Math.ceil(Math.max(O.offset/4,1)));n.push({dataIndex:O.dataIndex,offset:O.offset,bufferElementsToAdd:P});O.offset+=L;O.count+=H}}for(const z of w)switch(z.type){case f.DataType.BYTE:case f.DataType.UNSIGNED_BYTE:z.count=4;case f.DataType.SHORT:case f.DataType.UNSIGNED_SHORT:z.count+=z.count%2}this._buildVertexBufferLayout(w);A=0;C=this._layoutInfo.geometry;for(var M of C)this._locations.set(M.name,A++);if(M=this._layoutInfo.opacity)for(const z of M)this._locations.set(z.name,
A++);this._buildShaderInfo(w,x);this._propertyEncodingInfo=x};v._buildVertexBufferLayout=function(w){const x={};var A=this.geometryInfo();let C=A[0].stride;if(0===w.length)x.geometry=A;else{const R=[];let E=C;for(const F of w)C+=m(F.type)*F.count;for(const F of A)A={...F},A.stride=C,R.push(A);for(const F of w)R.push(new g.VertexElementDescriptor(F.name,F.count,F.type,E,C)),E+=m(F.type)*F.count;x.geometry=R}this.opacityInfo()&&(x.opacity=this.opacityInfo());this._layoutInfo=x;this._stride=C};v._buildShaderInfo=
function(w,x){let A="\n",C="\n";const R=[];for(var E of w)A+=`attribute ${this._getType(E.count)} ${E.name};\n`;var F=this.attributes();w=this.attributesInfo();E=-1;for(const M of F){E++;const {name:z,type:n,precisionFactor:u,isLayout:D}=w[M];F=u&&1!==u?` * ${1/u}`:"";const {bytesPerElement:B,count:H}=r._encodingInfo[n];var I=N=>`a_data_${N.dataIndex}${k(H,N.offset,B)}`;switch(this.getAtributeState(E)){case d.AttributeStatus.UNIFORM:F=this._getType(H);var P=`u_${z}`;R.push({name:P,type:F,getValue:(N,
L,O,S)=>{O=D?N.getLayoutValue(M,L):N.getPaintValue(M,L);if(n===d.EncodingType.R16G16B16A16_DASHARRAY){N=N.getDashKey(O,N.getLayoutValue("line-cap",L));S=S.getMosaicItemPosition(N,!1);if(q.isNone(S))return null;const {tl:V,br:W}=S;return[V[0],W[1],W[0],V[1]]}if(n===d.EncodingType.R16G16B16A16_PATTERN){S=S.getMosaicItemPosition(O,-1===M.indexOf("line-"));if(q.isNone(S))return null;const {tl:V,br:W}=S;return[V[0],W[1],W[0],V[1]]}return n===d.EncodingType.R8G8B8A8_COLOR?(S=O[3],[S*O[0],S*O[1],S*O[2],
S]):O}});A+=`uniform ${F} ${P};\n`;C+=`${F} ${z} = ${P};\n`;break;case d.AttributeStatus.DATA_DRIVEN:P=I(x[M][0]);C+=`${this._getType(H)} ${z} = ${P}${F};\n`;break;case d.AttributeStatus.INTERPOLATED_DATA_DRIVEN:{P=`u_t_${z}`;R.push({name:P,type:"float",getValue:(L,O,S,V)=>(D?L.getLayoutProperty(M):L.getPaintProperty(M)).interpolator.interpolationUniformValue(S,O)});A+=`uniform float ${P};\n`;const N=I(x[M][0]);I=I(x[M][1]);C+=`${this._getType(H)} ${z} = mix(${N}${F}, ${I}${F}, ${P});\n`}}}this._shaderHeader=
A;this._shaderMain=C;this._uniforms=R};v._bit=function(w){return(this._key&1<<w)>>w};v._getType=function(w){switch(w){case 1:return"float";case 2:return"vec2";case 3:return"vec3";case 4:return"vec4"}throw Error("Invalid count");};v._encodeColor=function(w){const x=255*w[3];return e.i8888to32(w[0]*x,w[1]*x,w[2]*x,x)};v._encodePattern=function(w,x,A){if(A&&A.rect){var C=A.rect,R=A.width;A=A.height;x[w]=this._encodeShort(C.x+2,0);x[w]|=this._encodeShort(C.y+2+A,16);x[w+1]=this._encodeShort(C.x+2+R,0);
x[w+1]|=this._encodeShort(C.y+2,16)}};v._encodeByte=function(w,x){return(w&255)<<x};v._encodeShort=function(w,x){return(w&65535)<<x};a._createClass(r,[{key:"key",get:function(){return this._key}},{key:"type",get:function(){return this._key&7}}]);return r}();l._encodingInfo={[d.EncodingType.R8_SIGNED]:{dataType:f.DataType.BYTE,bytesPerElement:1,count:1,normalized:!1},[d.EncodingType.R8_UNSIGNED]:{dataType:f.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:1,normalized:!1},[d.EncodingType.R16_SIGNED]:{dataType:f.DataType.SHORT,
bytesPerElement:2,count:1,normalized:!1},[d.EncodingType.R16_UNSIGNED]:{dataType:f.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:1,normalized:!1},[d.EncodingType.R8G8_SIGNED]:{dataType:f.DataType.BYTE,bytesPerElement:1,count:2,normalized:!1},[d.EncodingType.R8G8_UNSIGNED]:{dataType:f.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:2,normalized:!1},[d.EncodingType.R16G16_SIGNED]:{dataType:f.DataType.SHORT,bytesPerElement:2,count:2,normalized:!1},[d.EncodingType.R16G16_UNSIGNED]:{dataType:f.DataType.UNSIGNED_SHORT,
bytesPerElement:2,count:2,normalized:!1},[d.EncodingType.R8G8B8A8_SIGNED]:{dataType:f.DataType.BYTE,bytesPerElement:1,count:4,normalized:!1},[d.EncodingType.R8G8B8A8_UNSIGNED]:{dataType:f.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!1},[d.EncodingType.R8G8B8A8_COLOR]:{dataType:f.DataType.UNSIGNED_BYTE,bytesPerElement:1,count:4,normalized:!0},[d.EncodingType.R16G16B16A16_DASHARRAY]:{dataType:f.DataType.UNSIGNED_SHORT,bytesPerElement:2,count:4,normalized:!1},[d.EncodingType.R16G16B16A16_PATTERN]:{dataType:f.DataType.UNSIGNED_SHORT,
bytesPerElement:2,count:4,normalized:!1}};const m=r=>{switch(r){case f.DataType.FLOAT:return 4;case f.DataType.INT:return 4;case f.DataType.UNSIGNED_INT:return 4;case f.DataType.SHORT:return 2;case f.DataType.UNSIGNED_SHORT:return 2;case f.DataType.BYTE:return 1;case f.DataType.UNSIGNED_BYTE:return 1}},k=(r,v,w)=>{v/=w;if(1===r)switch(v){case 0:return".x";case 1:return".y";case 2:return".z";case 3:return".w"}else if(2===r)switch(v){case 0:return".xy";case 1:return".yz";case 2:return".zw"}else if(3===
r)switch(v){case 0:return".xyz";case 1:return".yzw"}return""};b.VTLMaterial=l;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["../../../../chunks/_rollupPluginBabelHelpers"],function(b){return function(){function a(e){this._array=[];0>=e&&console.error("strideInBytes must be positive!");this._stride=e}var q=a.prototype;q.reset=function(){this.array.length=0};q.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=
function(e,d){return 65535&e|d<<16};a.i8888to32=function(e,d,f,g){return e&255|(d&255)<<8|(f&255)<<16|g<<24};a.i8816to32=function(e,d,f){return e&255|(d&255)<<8|f<<16};b._createClass(a,[{key:"array",get:function(){return this._array}},{key:"index",get:function(){return 4*this._array.length/this._stride}},{key:"itemSize",get:function(){return this._stride}},{key:"sizeInBytes",get:function(){return 4*this._array.length}}]);return a}()})},"esri/views/2d/engine/vectorTiles/shaders/enums":function(){define(["exports"],
function(b){b.EncodingType=void 0;(function(a){a[a.R8_SIGNED=0]="R8_SIGNED";a[a.R8_UNSIGNED=1]="R8_UNSIGNED";a[a.R16_SIGNED=2]="R16_SIGNED";a[a.R16_UNSIGNED=3]="R16_UNSIGNED";a[a.R8G8_SIGNED=4]="R8G8_SIGNED";a[a.R8G8_UNSIGNED=5]="R8G8_UNSIGNED";a[a.R16G16_SIGNED=6]="R16G16_SIGNED";a[a.R16G16_UNSIGNED=7]="R16G16_UNSIGNED";a[a.R8G8B8A8_SIGNED=8]="R8G8B8A8_SIGNED";a[a.R8G8B8A8_UNSIGNED=9]="R8G8B8A8_UNSIGNED";a[a.R8G8B8A8_COLOR=10]="R8G8B8A8_COLOR";a[a.R16G16B16A16_DASHARRAY=11]="R16G16B16A16_DASHARRAY";
a[a.R16G16B16A16_PATTERN=12]="R16G16B16A16_PATTERN"})(b.EncodingType||(b.EncodingType={}));b.AttributeStatus=void 0;(function(a){a[a.UNIFORM=0]="UNIFORM";a[a.DATA_DRIVEN=1]="DATA_DRIVEN";a[a.INTERPOLATED_DATA_DRIVEN=2]="INTERPOLATED_DATA_DRIVEN";a[a.UNUSED=3]="UNUSED"})(b.AttributeStatus||(b.AttributeStatus={}));Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/webgl/enums":function(){define(["exports"],function(b){b.ClearBufferBit=void 0;(function(a){a[a.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT";
a[a.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT";a[a.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT"})(b.ClearBufferBit||(b.ClearBufferBit={}));b.PrimitiveType=void 0;(function(a){a[a.POINTS=0]="POINTS";a[a.LINES=1]="LINES";a[a.LINE_LOOP=2]="LINE_LOOP";a[a.LINE_STRIP=3]="LINE_STRIP";a[a.TRIANGLES=4]="TRIANGLES";a[a.TRIANGLE_STRIP=5]="TRIANGLE_STRIP";a[a.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(b.PrimitiveType||(b.PrimitiveType={}));b.BlendFactor=void 0;(function(a){a[a.ZERO=0]="ZERO";a[a.ONE=1]="ONE";a[a.SRC_COLOR=
768]="SRC_COLOR";a[a.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR";a[a.SRC_ALPHA=770]="SRC_ALPHA";a[a.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA";a[a.DST_ALPHA=772]="DST_ALPHA";a[a.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA";a[a.DST_COLOR=774]="DST_COLOR";a[a.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR";a[a.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE";a[a.CONSTANT_COLOR=32769]="CONSTANT_COLOR";a[a.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR";a[a.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA";
a[a.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA"})(b.BlendFactor||(b.BlendFactor={}));b.BlendOperation=void 0;(function(a){a[a.ADD=32774]="ADD";a[a.SUBTRACT=32778]="SUBTRACT";a[a.REVERSE_SUBTRACT=32779]="REVERSE_SUBTRACT"})(b.BlendOperation||(b.BlendOperation={}));b.BufferType=void 0;(function(a){a[a.ARRAY_BUFFER=34962]="ARRAY_BUFFER";a[a.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER";a[a.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER";a[a.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER";a[a.PIXEL_UNPACK_BUFFER=
35052]="PIXEL_UNPACK_BUFFER";a[a.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER";a[a.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER"})(b.BufferType||(b.BufferType={}));b.Face=void 0;(function(a){a[a.FRONT=1028]="FRONT";a[a.BACK=1029]="BACK";a[a.FRONT_AND_BACK=1032]="FRONT_AND_BACK"})(b.Face||(b.Face={}));b.CullMode=void 0;(function(a){a[a.CW=2304]="CW";a[a.CCW=2305]="CCW"})(b.CullMode||(b.CullMode={}));b.DataType=void 0;(function(a){a[a.BYTE=5120]="BYTE";a[a.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";a[a.SHORT=
5122]="SHORT";a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";a[a.INT=5124]="INT";a[a.UNSIGNED_INT=5125]="UNSIGNED_INT";a[a.FLOAT=5126]="FLOAT"})(b.DataType||(b.DataType={}));b.CompareFunction=void 0;(function(a){a[a.NEVER=512]="NEVER";a[a.LESS=513]="LESS";a[a.EQUAL=514]="EQUAL";a[a.LEQUAL=515]="LEQUAL";a[a.GREATER=516]="GREATER";a[a.NOTEQUAL=517]="NOTEQUAL";a[a.GEQUAL=518]="GEQUAL";a[a.ALWAYS=519]="ALWAYS"})(b.CompareFunction||(b.CompareFunction={}));b.StencilOperation=void 0;(function(a){a[a.ZERO=0]=
"ZERO";a[a.KEEP=7680]="KEEP";a[a.REPLACE=7681]="REPLACE";a[a.INCR=7682]="INCR";a[a.DECR=7683]="DECR";a[a.INVERT=5386]="INVERT";a[a.INCR_WRAP=34055]="INCR_WRAP";a[a.DECR_WRAP=34056]="DECR_WRAP"})(b.StencilOperation||(b.StencilOperation={}));b.TextureSamplingMode=void 0;(function(a){a[a.NEAREST=9728]="NEAREST";a[a.LINEAR=9729]="LINEAR";a[a.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST";a[a.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST";a[a.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR";
a[a.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"})(b.TextureSamplingMode||(b.TextureSamplingMode={}));b.TextureWrapMode=void 0;(function(a){a[a.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE";a[a.REPEAT=10497]="REPEAT";a[a.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(b.TextureWrapMode||(b.TextureWrapMode={}));b.TextureType=void 0;(function(a){a[a.TEXTURE_2D=3553]="TEXTURE_2D";a[a.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP";a[a.TEXTURE_3D=32879]="TEXTURE_3D";a[a.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X";
a[a.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X";a[a.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y";a[a.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y";a[a.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z";a[a.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z";a[a.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY"})(b.TextureType||(b.TextureType={}));b.PixelFormat=void 0;(function(a){a[a.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT";
a[a.DEPTH_STENCIL=34041]="DEPTH_STENCIL";a[a.ALPHA=6406]="ALPHA";a[a.RGB=6407]="RGB";a[a.RGBA=6408]="RGBA";a[a.LUMINANCE=6409]="LUMINANCE";a[a.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA";a[a.RED=6403]="RED";a[a.RG=33319]="RG";a[a.RED_INTEGER=36244]="RED_INTEGER";a[a.RG_INTEGER=33320]="RG_INTEGER";a[a.RGB_INTEGER=36248]="RGB_INTEGER";a[a.RGBA_INTEGER=36249]="RGBA_INTEGER"})(b.PixelFormat||(b.PixelFormat={}));b.SizedPixelFormat=void 0;(function(a){a[a.RGBA4=32854]="RGBA4";a[a.R16F=33325]="R16F";a[a.RG16F=
33327]="RG16F";a[a.RGB32F=34837]="RGB32F";a[a.RGBA16F=34842]="RGBA16F";a[a.R32F=33326]="R32F";a[a.RG32F=33328]="RG32F";a[a.RGBA32F=34836]="RGBA32F";a[a.R11F_G11F_B10F=35898]="R11F_G11F_B10F";a[a.RGB8=32849]="RGB8";a[a.RGBA8=32856]="RGBA8";a[a.RGB5_A1=32855]="RGB5_A1";a[a.R8=33321]="R8";a[a.RG8=33323]="RG8";a[a.R8I=33329]="R8I";a[a.R8UI=33330]="R8UI";a[a.R16I=33331]="R16I";a[a.R16UI=33332]="R16UI";a[a.R32I=33333]="R32I";a[a.R32UI=33334]="R32UI";a[a.RG8I=33335]="RG8I";a[a.RG8UI=33336]="RG8UI";a[a.RG16I=
33337]="RG16I";a[a.RG16UI=33338]="RG16UI";a[a.RG32I=33339]="RG32I";a[a.RG32UI=33340]="RG32UI";a[a.RGB16F=34843]="RGB16F";a[a.RGB9_E5=35901]="RGB9_E5";a[a.SRGB8=35905]="SRGB8";a[a.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8";a[a.RGB565=36194]="RGB565";a[a.RGBA32UI=36208]="RGBA32UI";a[a.RGB32UI=36209]="RGB32UI";a[a.RGBA16UI=36214]="RGBA16UI";a[a.RGB16UI=36215]="RGB16UI";a[a.RGBA8UI=36220]="RGBA8UI";a[a.RGB8UI=36221]="RGB8UI";a[a.RGBA32I=36226]="RGBA32I";a[a.RGB32I=36227]="RGB32I";a[a.RGBA16I=36232]="RGBA16I";
a[a.RGB16I=36233]="RGB16I";a[a.RGBA8I=36238]="RGBA8I";a[a.RGB8I=36239]="RGB8I";a[a.R8_SNORM=36756]="R8_SNORM";a[a.RG8_SNORM=36757]="RG8_SNORM";a[a.RGB8_SNORM=36758]="RGB8_SNORM";a[a.RGBA8_SNORM=36759]="RGBA8_SNORM";a[a.RGB10_A2=32857]="RGB10_A2";a[a.RGB10_A2UI=36975]="RGB10_A2UI"})(b.SizedPixelFormat||(b.SizedPixelFormat={}));b.PixelType=void 0;(function(a){a[a.FLOAT=5126]="FLOAT";a[a.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE";a[a.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8";a[a.UNSIGNED_SHORT_4_4_4_4=32819]=
"UNSIGNED_SHORT_4_4_4_4";a[a.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1";a[a.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5";a[a.BYTE=5120]="BYTE";a[a.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT";a[a.SHORT=5122]="SHORT";a[a.UNSIGNED_INT=5125]="UNSIGNED_INT";a[a.INT=5124]="INT";a[a.HALF_FLOAT=5131]="HALF_FLOAT";a[a.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV";a[a.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV";a[a.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV";
a[a.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV"})(b.PixelType||(b.PixelType={}));b.RenderbufferFormat=void 0;(function(a){a[a.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16";a[a.STENCIL_INDEX8=36168]="STENCIL_INDEX8";a[a.DEPTH_STENCIL=34041]="DEPTH_STENCIL";a[a.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24";a[a.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F";a[a.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8";a[a.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8"})(b.RenderbufferFormat||
(b.RenderbufferFormat={}));b.Usage=void 0;(function(a){a[a.STATIC_DRAW=35044]="STATIC_DRAW";a[a.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW";a[a.STREAM_DRAW=35040]="STREAM_DRAW";a[a.STATIC_READ=35045]="STATIC_READ";a[a.DYNAMIC_READ=35049]="DYNAMIC_READ";a[a.STREAM_READ=35041]="STREAM_READ";a[a.STATIC_COPY=35046]="STATIC_COPY";a[a.DYNAMIC_COPY=35050]="DYNAMIC_COPY";a[a.STREAM_COPY=35042]="STREAM_COPY"})(b.Usage||(b.Usage={}));b.ShaderType=void 0;(function(a){a[a.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER";a[a.VERTEX_SHADER=
35633]="VERTEX_SHADER"})(b.ShaderType||(b.ShaderType={}));b.FramebufferTarget=void 0;(function(a){a[a.FRAMEBUFFER=36160]="FRAMEBUFFER";a[a.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER";a[a.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER"})(b.FramebufferTarget||(b.FramebufferTarget={}));b.TargetType=void 0;(function(a){a[a.TEXTURE=0]="TEXTURE";a[a.RENDER_BUFFER=1]="RENDER_BUFFER";a[a.CUBEMAP=2]="CUBEMAP"})(b.TargetType||(b.TargetType={}));b.DepthStencilTargetType=void 0;(function(a){a[a.NONE=0]="NONE";a[a.DEPTH_RENDER_BUFFER=
1]="DEPTH_RENDER_BUFFER";a[a.STENCIL_RENDER_BUFFER=2]="STENCIL_RENDER_BUFFER";a[a.DEPTH_STENCIL_RENDER_BUFFER=3]="DEPTH_STENCIL_RENDER_BUFFER";a[a.DEPTH_STENCIL_TEXTURE=4]="DEPTH_STENCIL_TEXTURE"})(b.DepthStencilTargetType||(b.DepthStencilTargetType={}));b.ResourceType=void 0;(function(a){a[a.Texture=0]="Texture";a[a.Buffer=1]="Buffer";a[a.VAO=2]="VAO";a[a.Shader=3]="Shader";a[a.Program=4]="Program";a[a.Framebuffer=5]="Framebuffer";a[a.Renderbuffer=6]="Renderbuffer";a[a.Sync=7]="Sync";a[a.COUNT=8]=
"COUNT"})(b.ResourceType||(b.ResourceType={}));b.ColorAttachment=void 0;(function(a){a[a.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0";a[a.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1";a[a.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2";a[a.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3";a[a.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4";a[a.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5";a[a.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6";a[a.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7";a[a.COLOR_ATTACHMENT8=36072]=
"COLOR_ATTACHMENT8";a[a.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9";a[a.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10";a[a.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11";a[a.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12";a[a.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13";a[a.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14";a[a.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15"})(b.ColorAttachment||(b.ColorAttachment={}));b.CompressedTextureFormat=void 0;(function(a){a[a.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]=
"COMPRESSED_RGB_S3TC_DXT1_EXT";a[a.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT";a[a.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT";a[a.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT";a[a.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC";a[a.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC";a[a.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC";a[a.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC";a[a.COMPRESSED_RGB8_ETC2=
37492]="COMPRESSED_RGB8_ETC2";a[a.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2";a[a.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2";a[a.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2";a[a.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC";a[a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC"})(b.CompressedTextureFormat||(b.CompressedTextureFormat={}));b.UniformType=void 0;
(function(a){a[a.FLOAT=5126]="FLOAT";a[a.FLOAT_VEC2=35664]="FLOAT_VEC2";a[a.FLOAT_VEC3=35665]="FLOAT_VEC3";a[a.FLOAT_VEC4=35666]="FLOAT_VEC4";a[a.INT=5124]="INT";a[a.INT_VEC2=35667]="INT_VEC2";a[a.INT_VEC3=35668]="INT_VEC3";a[a.INT_VEC4=35669]="INT_VEC4";a[a.BOOL=35670]="BOOL";a[a.BOOL_VEC2=35671]="BOOL_VEC2";a[a.BOOL_VEC3=35672]="BOOL_VEC3";a[a.BOOL_VEC4=35673]="BOOL_VEC4";a[a.FLOAT_MAT2=35674]="FLOAT_MAT2";a[a.FLOAT_MAT3=35675]="FLOAT_MAT3";a[a.FLOAT_MAT4=35676]="FLOAT_MAT4";a[a.SAMPLER_2D=35678]=
"SAMPLER_2D";a[a.SAMPLER_CUBE=35680]="SAMPLER_CUBE";a[a.UNSIGNED_INT=5125]="UNSIGNED_INT";a[a.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2";a[a.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3";a[a.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4";a[a.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3";a[a.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4";a[a.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2";a[a.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4";a[a.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2";a[a.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3";a[a.SAMPLER_3D=35679]="SAMPLER_3D";
a[a.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW";a[a.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY";a[a.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW";a[a.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW";a[a.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D";a[a.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D";a[a.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE";a[a.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY";a[a.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D";a[a.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D";
a[a.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE";a[a.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY"})(b.UniformType||(b.UniformType={}));b.SyncParameter=void 0;(function(a){a[a.OBJECT_TYPE=37138]="OBJECT_TYPE";a[a.SYNC_CONDITION=37139]="SYNC_CONDITION";a[a.SYNC_STATUS=37140]="SYNC_STATUS";a[a.SYNC_FLAGS=37141]="SYNC_FLAGS"})(b.SyncParameter||(b.SyncParameter={}));b.SyncStatus=void 0;(function(a){a[a.UNSIGNALED=37144]="UNSIGNALED";a[a.SIGNALED=37145]="SIGNALED"})(b.SyncStatus||
(b.SyncStatus={}));b.ClientWaitSyncStatus=void 0;(function(a){a[a.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED";a[a.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED";a[a.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED";a[a.WAIT_FAILED=37149]="WAIT_FAILED"})(b.ClientWaitSyncStatus||(b.ClientWaitSyncStatus={}));b.SyncCondition=void 0;(function(a){a[a.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE"})(b.SyncCondition||(b.SyncCondition={}));b.SyncFlag=void 0;(function(a){a[a.SYNC_FLUSH_COMMANDS_BIT=
1]="SYNC_FLUSH_COMMANDS_BIT"})(b.SyncFlag||(b.SyncFlag={}));b.BASE_TEXTURE_UNIT=33984;b.DepthStencilAttachment=33306;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/webgl/VertexElementDescriptor":function(){define(["exports"],function(b){b.VertexElementDescriptor=function(a,q,e,d,f,g=!1,l=0){this.name=a;this.count=q;this.type=e;this.offset=d;this.stride=f;this.normalized=g;this.divisor=l};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/shaders/VTLCircleMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),
function(b,a,q,e,d,f){e=function(g){function l(k){return g.call(this,k)||this}a._inheritsLoose(l,g);var m=l.prototype;m.geometryInfo=function(){return l.GEOMETRY_LAYOUT};m.opacityInfo=function(){return null};m.attributes=function(){return l.ATTRIBUTES};m.attributesInfo=function(){return l.ATTRIBUTES_INFO};return l}(e.VTLMaterial);e.ATTRIBUTES="circle-radius circle-color circle-opacity circle-stroke-width circle-stroke-color circle-stroke-opacity circle-blur".split(" ");e.GEOMETRY_LAYOUT=[new f.VertexElementDescriptor("a_pos",
2,d.DataType.SHORT,0,4)];e.ATTRIBUTES_INFO={"circle-radius":{name:"radius",type:q.EncodingType.R8_UNSIGNED},"circle-color":{name:"color",type:q.EncodingType.R8G8B8A8_COLOR},"circle-opacity":{name:"opacity",type:q.EncodingType.R8_UNSIGNED,precisionFactor:100},"circle-stroke-width":{name:"stroke_width",type:q.EncodingType.R8_UNSIGNED,precisionFactor:4},"circle-stroke-color":{name:"stroke_color",type:q.EncodingType.R8G8B8A8_COLOR},"circle-stroke-opacity":{name:"stroke_opacity",type:q.EncodingType.R8_UNSIGNED,
precisionFactor:100},"circle-blur":{name:"blur",type:q.EncodingType.R8_UNSIGNED,precisionFactor:32}};b.VTLCircleMaterial=e;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/shaders/VTLFillMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),function(b,a,q,e,d,f){let g=function(l){function m(r){return l.call(this,r)||this}a._inheritsLoose(m,
l);var k=m.prototype;k.geometryInfo=function(){return m.GEOMETRY_LAYOUT};k.opacityInfo=function(){return null};k.attributes=function(){return m.ATTRIBUTES};k.attributesInfo=function(){return m.ATTRIBUTES_INFO};return m}(e.VTLMaterial);g.ATTRIBUTES=["fill-color","fill-opacity","fill-pattern"];g.GEOMETRY_LAYOUT=[new f.VertexElementDescriptor("a_pos",2,d.DataType.SHORT,0,4)];g.ATTRIBUTES_INFO={"fill-color":{name:"color",type:q.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:q.EncodingType.R8_UNSIGNED,
precisionFactor:100},"fill-pattern":{name:"tlbr",type:q.EncodingType.R16G16B16A16_PATTERN,isOptional:!0}};e=function(l){function m(r,v){r=l.call(this,r)||this;r.usefillColor=v;return r}a._inheritsLoose(m,l);var k=m.prototype;k.geometryInfo=function(){return m.GEOMETRY_LAYOUT};k.opacityInfo=function(){return null};k.attributes=function(){return this.usefillColor?m.ATTRIBUTES_FILL:m.ATTRIBUTES_OUTLINE};k.attributesInfo=function(){return this.usefillColor?m.ATTRIBUTES_INFO_FILL:m.ATTRIBUTES_INFO_OUTLINE};
return m}(e.VTLMaterial);e.ATTRIBUTES_OUTLINE=["fill-outline-color","fill-opacity"];e.ATTRIBUTES_FILL=["fill-color","fill-opacity"];e.GEOMETRY_LAYOUT=[new f.VertexElementDescriptor("a_pos",2,d.DataType.SHORT,0,8),new f.VertexElementDescriptor("a_offset",2,d.DataType.BYTE,4,8),new f.VertexElementDescriptor("a_xnormal",2,d.DataType.BYTE,6,8)];e.ATTRIBUTES_INFO_OUTLINE={"fill-outline-color":{name:"color",type:q.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:q.EncodingType.R8_UNSIGNED,
precisionFactor:100}};e.ATTRIBUTES_INFO_FILL={"fill-color":{name:"color",type:q.EncodingType.R8G8B8A8_COLOR},"fill-opacity":{name:"opacity",type:q.EncodingType.R8_UNSIGNED,precisionFactor:100}};b.VTLFillMaterial=g;b.VTLOutlineMaterial=e;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/shaders/VTLLineMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),
function(b,a,q,e,d,f){e=function(g){function l(k){return g.call(this,k)||this}a._inheritsLoose(l,g);var m=l.prototype;m.geometryInfo=function(){return l.GEOMETRY_LAYOUT};m.opacityInfo=function(){return null};m.attributes=function(){return l.ATTRIBUTES};m.attributesInfo=function(){return l.ATTRIBUTES_INFO};return l}(e.VTLMaterial);e.ATTRIBUTES="line-blur line-color line-gap-width line-offset line-opacity line-width line-pattern line-dasharray".split(" ");e.GEOMETRY_LAYOUT=[new f.VertexElementDescriptor("a_pos",
2,d.DataType.SHORT,0,16),new f.VertexElementDescriptor("a_extrude_offset",4,d.DataType.BYTE,4,16),new f.VertexElementDescriptor("a_dir_normal",4,d.DataType.BYTE,8,16),new f.VertexElementDescriptor("a_accumulatedDistance",2,d.DataType.UNSIGNED_SHORT,12,16)];e.ATTRIBUTES_INFO={"line-width":{name:"width",type:q.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-gap-width":{name:"gap_width",type:q.EncodingType.R8_UNSIGNED,precisionFactor:2},"line-offset":{name:"offset",type:q.EncodingType.R8_SIGNED,precisionFactor:2},
"line-color":{name:"color",type:q.EncodingType.R8G8B8A8_COLOR},"line-opacity":{name:"opacity",type:q.EncodingType.R8_UNSIGNED,precisionFactor:100},"line-blur":{name:"blur",type:q.EncodingType.R8_UNSIGNED,precisionFactor:4},"line-pattern":{name:"tlbr",type:q.EncodingType.R16G16B16A16_PATTERN,isOptional:!0},"line-dasharray":{name:"tlbr",type:q.EncodingType.R16G16B16A16_DASHARRAY,isOptional:!0}};b.VTLLineMaterial=e;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/shaders/VTLSymbolMaterial":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ./enums ./VTLMaterial ../../../../webgl/enums ../../../../webgl/VertexElementDescriptor".split(" "),
function(b,a,q,e,d,f){const g=[new f.VertexElementDescriptor("a_pos",2,d.DataType.SHORT,0,16),new f.VertexElementDescriptor("a_vertexOffset",2,d.DataType.SHORT,4,16),new f.VertexElementDescriptor("a_texAngleRange",4,d.DataType.UNSIGNED_BYTE,8,16),new f.VertexElementDescriptor("a_levelInfo",4,d.DataType.UNSIGNED_BYTE,12,16)],l=[new f.VertexElementDescriptor("a_opacityInfo",1,d.DataType.UNSIGNED_BYTE,0,1)];d=function(m){function k(v){return m.call(this,v)||this}a._inheritsLoose(k,m);var r=k.prototype;
r.geometryInfo=function(){return g};r.opacityInfo=function(){return l};r.attributes=function(){return k.ATTRIBUTES};r.attributesInfo=function(){return k.ATTRIBUTES_INFO};return k}(e.VTLMaterial);d.ATTRIBUTES="icon-color icon-opacity icon-halo-blur icon-halo-color icon-halo-width icon-size".split(" ");d.ATTRIBUTES_INFO={"icon-color":{name:"color",type:q.EncodingType.R8G8B8A8_COLOR},"icon-opacity":{name:"opacity",type:q.EncodingType.R8_UNSIGNED,precisionFactor:100},"icon-halo-color":{name:"halo_color",
type:q.EncodingType.R8G8B8A8_COLOR},"icon-halo-width":{name:"halo_width",type:q.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-halo-blur":{name:"halo_blur",type:q.EncodingType.R8_UNSIGNED,precisionFactor:4},"icon-size":{name:"size",type:q.EncodingType.R8_UNSIGNED,precisionFactor:32,isLayout:!0}};e=function(m){function k(v){return m.call(this,v)||this}a._inheritsLoose(k,m);var r=k.prototype;r.geometryInfo=function(){return g};r.opacityInfo=function(){return l};r.attributes=function(){return k.ATTRIBUTES};
r.attributesInfo=function(){return k.ATTRIBUTES_INFO};return k}(e.VTLMaterial);e.ATTRIBUTES="text-color text-opacity text-halo-blur text-halo-color text-halo-width text-size".split(" ");e.ATTRIBUTES_INFO={"text-color":{name:"color",type:q.EncodingType.R8G8B8A8_COLOR},"text-opacity":{name:"opacity",type:q.EncodingType.R8_UNSIGNED,precisionFactor:100},"text-halo-color":{name:"halo_color",type:q.EncodingType.R8G8B8A8_COLOR},"text-halo-width":{name:"halo_width",type:q.EncodingType.R8_UNSIGNED,precisionFactor:4},
"text-halo-blur":{name:"halo_blur",type:q.EncodingType.R8_UNSIGNED,precisionFactor:4},"text-size":{name:"size",type:q.EncodingType.R8_UNSIGNED,isLayout:!0}};b.VTLIconMaterial=d;b.VTLTextMaterial=e;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["../expression/expression","../expression/types"],function(b,a){return function(){function q(e){this._expression=e}q.prototype.filter=function(e,d){if(!this._expression)return!0;try{return this._expression.evaluate(e,
d)}catch(f){return console.log(f.message),!0}};q.createFilter=function(e){if(!e)return null;this.isLegacyFilter(e)&&(e=this.convertLegacyFilter(e));try{const d=b.createExpression(e,null,a.BooleanType);return new q(d)}catch(d){return console.log(d.message),null}};q.isLegacyFilter=function(e){if(!Array.isArray(e)||0===e.length)return!0;switch(e[0]){case "\x3d\x3d":case "!\x3d":case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return 3===e.length&&"string"===typeof e[1]&&!Array.isArray(e[2]);case "in":return 3<=
e.length&&"string"===typeof e[1]&&!Array.isArray(e[2]);case "!in":return!0;case "any":case "all":for(let d=1;d<e.length;d++)if(!this.isLegacyFilter(e[1]))return!1;return!0;case "none":return!0;case "has":return 2===e.length&&("$id"===e[1]||"$type"===e[1]);case "!has":return!0;default:return!1}};q.convertLegacyFilter=function(e){if(!Array.isArray(e)||0===e.length)return!0;const d=e[0];if(1===e.length)return"any"!==d;switch(d){case "\x3d\x3d":return q.convertComparison("\x3d\x3d",e[1],e[2]);case "!\x3d":return q.negate(q.convertComparison("\x3d\x3d",
e[1],e[2]));case "\x3e":case "\x3c":case "\x3e\x3d":case "\x3c\x3d":return q.convertComparison(d,e[1],e[2]);case "in":return q.convertIn(e[1],e.slice(2));case "!in":return q.negate(q.convertIn(e[1],e.slice(2)));case "any":case "all":case "none":return q.convertCombining(d,e.slice(1));case "has":return q.convertHas(e[1]);case "!has":return q.negate(q.convertHas(e[1]));default:throw Error("Unexpected legacy filter.");}};q.convertComparison=function(e,d,f){switch(d){case "$type":return[e,["geometry-type"],
f];case "$id":return[e,["id"],f];default:return[e,["get",d],f]}};q.convertIn=function(e,d){switch(e){case "$type":return["in",["geometry-type"],["literal",d]];case "$id":return["in",["id"],["literal",d]];default:return["in",["get",e],["literal",d]]}};q.convertHas=function(e){switch(e){case "$type":return!0;case "$id":return["has-id"];default:return["has",e]}};q.convertCombining=function(e,d){return[e].concat(d.map(this.convertLegacyFilter))};q.negate=function(e){return["!",e]};return q}()})},"esri/views/2d/engine/vectorTiles/expression/expression":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../Color ../../../../../core/colorUtils ../../../unitBezier ../GeometryUtils ./types ../../webgl/Geometry".split(" "),
function(b,a,q,e,d,f,g,l){function m(p,c,h){var t=typeof p;if("string"===t||"boolean"===t||"number"===t||null===p){if(h)switch(h.kind){case "string":"string"!==t&&(p=ea.toString(p));break;case "number":"number"!==t&&(p=ea.toNumber(p));break;case "color":p=ea.toColor(p)}p=["literal",p]}if(!Array.isArray(p)||0===p.length)throw Error("Expression must be a non empty array");t=p[0];if("string"!==typeof t)throw Error("First element of expression must be a string");const y=ka[t];if(void 0===y)throw Error(`Invalid expression operator "${t}"`);
if(!y)throw Error(`Unimplemented expression operator "${t}"`);return y.parse(p,c,h)}let k=function(){function p(h){this.parent=h;this.vars={}}var c=p.prototype;c.add=function(h,t){this.vars[h]=t};c.get=function(h){return this.vars[h]?this.vars[h]:this.parent?this.parent.get(h):null};return p}(),r=function(){function p(){this.type=g.ValueType}p.parse=function(c){if(1<c.length)throw Error('"id" does not expect arguments');return new p};p.prototype.evaluate=function(c,h){return null==c?void 0:c.id};
return p}(),v=function(){function p(){this.type=g.StringType}p.parse=function(c){if(1<c.length)throw Error('"geometry-type" does not expect arguments');return new p};p.prototype.evaluate=function(c,h){if(!c)return null;switch(c.type){case l.GeometryType.Point:return"Point";case l.GeometryType.LineString:return"LineString";case l.GeometryType.Polygon:return"Polygon";default:return null}};return p}(),w=function(){function p(){this.type=g.ObjectType}p.parse=function(c){if(1<c.length)throw Error('"properties" does not expect arguments');
return new p};p.prototype.evaluate=function(c,h){return null==c?void 0:c.values};return p}(),x=function(){function p(){this.type=g.NumberType}p.parse=function(c){if(1<c.length)throw Error('"zoom" does not expect arguments');return new p};p.prototype.evaluate=function(c,h){return h};return p}(),A=function(){function p(c,h,t){this.lhs=c;this.rhs=h;this.compare=t;this.type=g.BooleanType}p.parse=function(c,h,t){if(3!==c.length&&4!==c.length)throw Error(`"${c[0]}" expects 2 or 3 arguments`);if(4===c.length)throw Error(`"${c[0]}" collator not supported`);
return new p(m(c[1],h),m(c[2],h),t)};p.prototype.evaluate=function(c,h){return this.compare(this.lhs.evaluate(c,h),this.rhs.evaluate(c,h))};return p}(),C=function(p){function c(){return p.apply(this,arguments)||this}a._inheritsLoose(c,p);c.parse=function(h,t){return A.parse(h,t,(y,J)=>y===J)};return c}(A),R=function(p){function c(){return p.apply(this,arguments)||this}a._inheritsLoose(c,p);c.parse=function(h,t){return A.parse(h,t,(y,J)=>y!==J)};return c}(A),E=function(p){function c(){return p.apply(this,
arguments)||this}a._inheritsLoose(c,p);c.parse=function(h,t){return A.parse(h,t,(y,J)=>y<J)};return c}(A),F=function(p){function c(){return p.apply(this,arguments)||this}a._inheritsLoose(c,p);c.parse=function(h,t){return A.parse(h,t,(y,J)=>y<=J)};return c}(A),I=function(p){function c(){return p.apply(this,arguments)||this}a._inheritsLoose(c,p);c.parse=function(h,t){return A.parse(h,t,(y,J)=>y>J)};return c}(A),P=function(p){function c(){return p.apply(this,arguments)||this}a._inheritsLoose(c,p);c.parse=
function(h,t){return A.parse(h,t,(y,J)=>y>=J)};return c}(A),M=function(){function p(c){this.arg=c;this.type=g.BooleanType}p.parse=function(c,h){if(2!==c.length)throw Error('"!" expects 1 argument');return new p(m(c[1],h))};p.prototype.evaluate=function(c,h){return!this.arg.evaluate(c,h)};return p}(),z=function(){function p(c){this.args=c;this.type=g.BooleanType}p.parse=function(c,h){const t=[];for(let y=1;y<c.length;y++)t.push(m(c[y],h));return new p(t)};p.prototype.evaluate=function(c,h){for(const t of this.args)if(!t.evaluate(c,
h))return!1;return!0};return p}(),n=function(){function p(c){this.args=c;this.type=g.BooleanType}p.parse=function(c,h){const t=[];for(let y=1;y<c.length;y++)t.push(m(c[y],h));return new p(t)};p.prototype.evaluate=function(c,h){for(const t of this.args)if(t.evaluate(c,h))return!0;return!1};return p}(),u=function(){function p(c){this.args=c;this.type=g.BooleanType}p.parse=function(c,h){const t=[];for(let y=1;y<c.length;y++)t.push(m(c[y],h));return new p(t)};p.prototype.evaluate=function(c,h){for(const t of this.args)if(t.evaluate(c,
h))return!1;return!0};return p}(),D=function(){function p(c,h,t){this.type=c;this.args=h;this.fallback=t}p.parse=function(c,h,t){if(4>c.length)throw Error('"case" expects at least 3 arguments');if(1===c.length%2)throw Error('"case" expects an odd number of arguments');let y;const J=[];for(let Q=1;Q<c.length-1;Q+=2){const Y=m(c[Q],h),X=m(c[Q+1],h,t);y||(y=X.type);J.push({condition:Y,output:X})}c=m(c[c.length-1],h,t);y||(y=c.type);return new p(y,J,c)};p.prototype.evaluate=function(c,h){for(const t of this.args)if(t.condition.evaluate(c,
h))return t.output.evaluate(c,h);return this.fallback.evaluate(c,h)};return p}(),B=function(){function p(c,h){this.type=c;this.args=h}p.parse=function(c,h){if(2>c.length)throw Error('"coalesce" expects at least 1 argument');let t;const y=[];for(let J=1;J<c.length;J++){const Q=m(c[J],h);t||(t=Q.type);y.push(Q)}return new p(t,y)};p.prototype.evaluate=function(c,h){for(const t of this.args){const y=t.evaluate(c,h);if(null!==y)return y}return null};return p}(),H=function(){function p(c,h,t,y,J){this.type=
c;this.input=h;this.labels=t;this.outputs=y;this.fallback=J}p.parse=function(c,h){if(3>c.length)throw Error('"match" expects at least 3 arguments');if(0===c.length%2)throw Error('"case" expects an even number of arguments');let t;const y=m(c[1],h),J=[],Q={};let Y;for(let ba=2;ba<c.length-1;ba+=2){var X=c[ba];Array.isArray(X)||(X=[X]);for(const fa of X){X=typeof fa;if("string"!==X&&"number"!==X)throw Error('"match" requires string or number literal as labels');if(!Y)Y=X;else if(X!==Y)throw Error('"match" requires labels to have the same type');
Q[fa]=J.length}X=m(c[ba+1],h);t||(t=X.type);J.push(X)}return new p(t,y,Q,J,m(c[c.length-1],h))};p.prototype.evaluate=function(c,h){const t=this.input.evaluate(c,h);return(this.outputs[this.labels[t]]||this.fallback).evaluate(c,h)};return p}(),N=function(){function p(h,t,y,J,Q){this.operator=h;this.type=t;this.interpolation=y;this.input=J;this.stops=Q}p.parse=function(h,t,y){const J=h[0];if(5>h.length)throw Error(`"${J}" expects at least 4 arguments`);const Q=h[1];if(!Array.isArray(Q)||0===Q.length)throw Error(`"${Q}" is not a valid interpolation`);
switch(Q[0]){case "linear":if(1!==Q.length)throw Error("Linear interpolation cannot have parameters");break;case "exponential":if(2!==Q.length||"number"!==typeof Q[1])throw Error("Exponential interpolation requires one numeric argument");break;case "cubic-bezier":if(5!==Q.length)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");for(var Y=1;5>Y;Y++){var X=Q[Y];if("number"!==typeof X||0>X||1<X)throw Error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1");
}break;default:throw Error(`"${h[0]}" unknown interpolation type "${Q[0]}"`);}if(1!==h.length%2)throw Error(`"${J}" expects an even number of arguments`);Y=m(h[2],t,g.NumberType);let ba;"interpolate-hcl"===J||"interpolate-lab"===J?ba=g.ColorType:y&&"value"!==y.kind&&(ba=y);y=[];for(X=3;X<h.length;X+=2){const fa=h[X];if("number"!==typeof fa)throw Error(`"${J}" requires stop inputs as literal numbers`);if(y.length&&y[y.length-1][0]>=fa)throw Error(`"${J}" requires strictly ascending stop inputs`);const la=
m(h[X+1],t,ba);ba||(ba=la.type);y.push([fa,la])}if(ba&&ba!==g.ColorType&&ba!==g.NumberType&&("array"!==ba.kind||ba.itemType!==g.NumberType))throw Error(`"${J}" cannot interpolate type ${g.typeToString(ba)}`);return new p(J,ba,Q,Y,y)};var c=p.prototype;c.evaluate=function(h,t){var y=this.stops;if(1===y.length)return y[0][1].evaluate(h,t);var J=this.input.evaluate(h,t);if(J<=y[0][0])return y[0][1].evaluate(h,t);if(J>=y[y.length-1][0])return y[y.length-1][1].evaluate(h,t);let Q=0;for(;++Q<y.length&&
!(J<y[Q][0]););const Y=p.interpolationRatio(this.interpolation,J,y[Q-1][0],y[Q][0]);J=y[Q-1][1].evaluate(h,t);const X=y[Q][1].evaluate(h,t);if("interpolate"===this.operator){if("array"===this.type.kind&&Array.isArray(J)&&Array.isArray(X))return J.map((ba,fa)=>f.interpolate(ba,X[fa],Y));if("color"===this.type.kind&&J instanceof q&&X instanceof q)return J=new q(J),h=new q(X),new q([f.interpolate(J.r,h.r,Y),f.interpolate(J.g,h.g,Y),f.interpolate(J.b,h.b,Y),f.interpolate(J.a,h.a,Y)]);if("number"===this.type.kind&&
"number"===typeof J&&"number"===typeof X)return f.interpolate(J,X,Y);throw Error(`"${this.operator}" cannot interpolate type ${g.typeToString(this.type)}`);}if("interpolate-hcl"===this.operator)return h=e.toLCH(J),t=e.toLCH(X),y=t.h-h.h,h=e.toRGB({h:h.h+Y*(180<y||-180>y?y-360*Math.round(y/360):y),c:f.interpolate(h.c,t.c,Y),l:f.interpolate(h.l,t.l,Y)}),new q({a:f.interpolate(J.a,X.a,Y),...h});if("interpolate-lab"===this.operator)return h=e.toLAB(J),t=e.toLAB(X),h=e.toRGB({l:f.interpolate(h.l,t.l,Y),
a:f.interpolate(h.a,t.a,Y),b:f.interpolate(h.b,t.b,Y)}),new q({a:f.interpolate(J.a,X.a,Y),...h});throw Error(`Unexpected operator "${this.operator}"`);};c.interpolationUniformValue=function(h,t){const y=this.stops;if(1===y.length||h>=y[y.length-1][0])return 0;let J=0;for(;++J<y.length&&!(h<y[J][0]););return p.interpolationRatio(this.interpolation,t,y[J-1][0],y[J][0])};c.getInterpolationRange=function(h){const t=this.stops;if(1===t.length)return h=t[0][0],[h,h];var y=t[t.length-1][0];if(h>=y)return[y,
y];for(y=0;++y<t.length&&!(h<t[y][0]););return[t[y-1][0],t[y][0]]};p.interpolationRatio=function(h,t,y,J){let Q=0;"linear"===h[0]?Q=p._exponentialInterpolationRatio(t,1,y,J):"exponential"===h[0]?Q=p._exponentialInterpolationRatio(t,h[1],y,J):"cubic-bezier"===h[0]&&(Q=d.unitBezier(h[1],h[2],h[3],h[4])(p._exponentialInterpolationRatio(t,1,y,J),1E-5));0>Q?Q=0:1<Q&&(Q=1);return Q};p._exponentialInterpolationRatio=function(h,t,y,J){J-=y;if(0===J)return 0;h-=y;return 1===t?h/J:(t**h-1)/(t**J-1)};return p}(),
L=function(){function p(c,h,t){this.type=c;this.input=h;this.stops=t}p.parse=function(c,h){if(5>c.length)throw Error('"step" expects at least 4 arguments');if(1!==c.length%2)throw Error('"step" expects an even number of arguments');const t=m(c[1],h,g.NumberType);let y;const J=[];J.push([-Infinity,m(c[2],h)]);for(let Q=3;Q<c.length;Q+=2){const Y=c[Q];if("number"!==typeof Y)throw Error('"step" requires stop inputs as literal numbers');if(J.length&&J[J.length-1][0]>=Y)throw Error('"step" requires strictly ascending stop inputs');
const X=m(c[Q+1],h);y||(y=X.type);J.push([Y,X])}return new p(y,t,J)};p.prototype.evaluate=function(c,h){const t=this.stops;if(1===t.length)return t[0][1].evaluate(c,h);const y=this.input.evaluate(c,h);let J=0;for(;++J<t.length&&!(y<t[J][0]););return this.stops[J-1][1].evaluate(c,h)};return p}(),O=function(){function p(c,h){this.type=c;this.output=h}p.parse=function(c,h,t){if(4>c.length)throw Error('"let" expects at least 3 arguments');if(1===c.length%2)throw Error('"let" expects an odd number of arguments');
const y=new k(h);for(let J=1;J<c.length-1;J+=2){const Q=c[J];if("string"!==typeof Q)throw Error(`"let" requires a string to define variable names - found ${Q}`);y.add(Q,m(c[J+1],h))}c=m(c[c.length-1],y,t);return new p(c.type,c)};p.prototype.evaluate=function(c,h){return this.output.evaluate(c,h)};return p}(),S=function(){function p(c,h){this.type=c;this.output=h}p.parse=function(c,h,t){if(2!==c.length||"string"!==typeof c[1])throw Error('"var" requires just one literal string argument');h=h.get(c[1]);
if(!h)throw Error(`${c[1]} must be defined before being used in a "var" expression`);return new p(t||g.ValueType,h)};p.prototype.evaluate=function(c,h){return this.output.evaluate(c,h)};return p}(),V=function(){function p(c,h,t){this.type=c;this.index=h;this.array=t}p.parse=function(c,h){if(3!==c.length)throw Error('"at" expects 2 arguments');const t=m(c[1],h,g.NumberType);c=m(c[2],h);return new p(c.type.itemType,t,c)};p.prototype.evaluate=function(c,h){const t=this.index.evaluate(c,h);c=this.array.evaluate(c,
h);if(0>t||t>=c.length)throw Error('"at" index out of bounds');if(t!==Math.floor(t))throw Error('"at" index must be an integer');return c[t]};return p}(),W=function(){function p(c,h){this.key=c;this.obj=h;this.type=g.ValueType}p.parse=function(c,h){let t;switch(c.length){case 2:return t=m(c[1],h),new p(t);case 3:return t=m(c[1],h),c=m(c[2],h),new p(t,c);default:throw Error('"get" expects 1 or 2 arguments');}};p.prototype.evaluate=function(c,h){const t=this.key.evaluate(c,h);return this.obj?this.obj.evaluate(c,
h)[t]:null==c?void 0:c.values[t]};return p}(),U=function(){function p(c,h){this.key=c;this.obj=h;this.type=g.BooleanType}p.parse=function(c,h){let t;switch(c.length){case 2:return t=m(c[1],h),new p(t);case 3:return t=m(c[1],h),c=m(c[2],h),new p(t,c);default:throw Error('"has" expects 1 or 2 arguments');}};p.prototype.evaluate=function(c,h){const t=this.key.evaluate(c,h);return this.obj?(c=this.obj.evaluate(c,h),t in c):!(null==c||!c.values[t])};return p}(),G=function(){function p(c,h){this.key=c;
this.vals=h;this.type=g.BooleanType}p.parse=function(c,h){if(3!==c.length)throw Error('"in" expects 2 arguments');return new p(m(c[1],h),m(c[2],h))};p.prototype.evaluate=function(c,h){const t=this.key.evaluate(c,h);return-1!==this.vals.evaluate(c,h).indexOf(t)};return p}(),K=function(){function p(c,h,t){this.item=c;this.array=h;this.from=t;this.type=g.NumberType}p.parse=function(c,h){if(3>c.length||4<c.length)throw Error('"index-of" expects 3 or 4 arguments');const t=m(c[1],h),y=m(c[2],h);return 4===
c.length?(c=m(c[3],h,g.NumberType),new p(t,y,c)):new p(t,y)};p.prototype.evaluate=function(c,h){const t=this.item.evaluate(c,h),y=this.array.evaluate(c,h);if(this.from){c=this.from.evaluate(c,h);if(c!==Math.floor(c))throw Error('"index-of" index must be an integer');return y.indexOf(t,c)}return y.indexOf(t)};return p}(),T=function(){function p(c){this.arg=c;this.type=g.NumberType}p.parse=function(c,h){if(2!==c.length)throw Error('"length" expects 2 arguments');c=m(c[1],h);return new p(c)};p.prototype.evaluate=
function(c,h){c=this.arg.evaluate(c,h);if("string"===typeof c||Array.isArray(c))return c.length;throw Error('"length" expects string or array');};return p}(),Z=function(){function p(c,h,t,y){this.type=c;this.array=h;this.from=t;this.to=y}p.parse=function(c,h){if(3>c.length||4<c.length)throw Error('"slice" expects 2 or 3 arguments');const t=m(c[1],h),y=m(c[2],h,g.NumberType);if(y.type!==g.NumberType)throw Error('"slice" index must return a number');if(4===c.length){c=m(c[3],h,g.NumberType);if(c.type!==
g.NumberType)throw Error('"slice" index must return a number');return new p(t.type,t,y,c)}return new p(t.type,t,y)};p.prototype.evaluate=function(c,h){const t=this.array.evaluate(c,h);if(!Array.isArray(t)&&"string"!==typeof t)throw Error('"slice" input must be an array or a string');const y=this.from.evaluate(c,h);if(0>y||y>=t.length)throw Error('"slice" index out of bounds');if(y!==Math.floor(y))throw Error('"slice" index must be an integer');if(this.to){c=this.to.evaluate(c,h);if(0>c||c>=t.length)throw Error('"slice" index out of bounds');
if(c!==Math.floor(c))throw Error('"slice" index must be an integer');return t.slice(y,c)}return t.slice(y)};return p}(),da=function(){function p(){this.type=g.BooleanType}p.parse=function(c){if(1!==c.length)throw Error('"has-id" expects no arguments');return new p};p.prototype.evaluate=function(c,h){return c&&void 0!==c.id};return p}(),ca=function(){function p(c,h){this.args=c;this.calculate=h;this.type=g.NumberType}p.parse=function(c,h,t){c=c.slice(1).map(y=>m(y,h));return new p(c,t)};p.prototype.evaluate=
function(c,h){let t;this.args&&(t=this.args.map(y=>y.evaluate(c,h)));return this.calculate(t)};return p}(),ia=function(p){function c(){return p.apply(this,arguments)||this}a._inheritsLoose(c,p);c.parse=function(h,t){switch(h.length){case 2:return ca.parse(h,t,y=>-y[0]);case 3:return ca.parse(h,t,y=>y[0]-y[1]);default:throw Error('"-" expects 1 or 2 arguments');}};return c}(ca),ma=function(p){function c(){return p.apply(this,arguments)||this}a._inheritsLoose(c,p);c.parse=function(h,t){return ca.parse(h,
t,y=>{let J=1;for(const Q of y)J*=Q;return J})};return c}(ca),na=function(p){function c(){return p.apply(this,arguments)||this}a._inheritsLoose(c,p);c.parse=function(h,t){if(3===h.length)return ca.parse(h,t,y=>y[0]/y[1]);throw Error('"/" expects 2 arguments');};return c}(ca),oa=function(p){function c(){return p.apply(this,arguments)||this}a._inheritsLoose(c,p);c.parse=function(h,t){if(3===h.length)return ca.parse(h,t,y=>y[0]%y[1]);throw Error('"%" expects 2 arguments');};return c}(ca),pa=function(p){function c(){return p.apply(this,
arguments)||this}a._inheritsLoose(c,p);c.parse=function(h,t){if(3===h.length)return ca.parse(h,t,y=>y[0]**y[1]);throw Error('"^" expects 1 or 2 arguments');};return c}(ca),qa=function(p){function c(){return p.apply(this,arguments)||this}a._inheritsLoose(c,p);c.parse=function(h,t){return ca.parse(h,t,y=>{let J=0;for(const Q of y)J+=Q;return J})};return c}(ca),aa=function(){function p(c,h){this.args=c;this.calculate=h;this.type=g.NumberType}p.parse=function(c,h){const t=c.slice(1).map(y=>m(y,h));return new p(t,
p.ops[c[0]])};p.prototype.evaluate=function(c,h){let t;this.args&&(t=this.args.map(y=>y.evaluate(c,h)));return this.calculate(t)};return p}();aa.ops={abs:p=>Math.abs(p[0]),acos:p=>Math.acos(p[0]),asin:p=>Math.asin(p[0]),atan:p=>Math.atan(p[0]),ceil:p=>Math.ceil(p[0]),cos:p=>Math.cos(p[0]),e:()=>Math.E,floor:p=>Math.floor(p[0]),ln:p=>Math.log(p[0]),ln2:()=>Math.LN2,log10:p=>Math.log(p[0])/Math.LN10,log2:p=>Math.log(p[0])/Math.LN2,max:p=>Math.max(...p),min:p=>Math.min(...p),pi:()=>Math.PI,round:p=>
Math.round(p[0]),sin:p=>Math.sin(p[0]),sqrt:p=>Math.sqrt(p[0]),tan:p=>Math.tan(p[0])};let ra=function(){function p(c){this.args=c;this.type=g.StringType}p.parse=function(c,h){return new p(c.slice(1).map(t=>m(t,h)))};p.prototype.evaluate=function(c,h){return this.args.map(t=>t.evaluate(c,h)).join("")};return p}(),ja=function(){function p(c,h){this.arg=c;this.calculate=h;this.type=g.StringType}p.parse=function(c,h){if(2!==c.length)throw Error(`${c[0]} expects 1 argument`);h=m(c[1],h);return new p(h,
p.ops[c[0]])};p.prototype.evaluate=function(c,h){return this.calculate(this.arg.evaluate(c,h))};return p}();ja.ops={downcase:p=>p.toLowerCase(),upcase:p=>p.toUpperCase()};let sa=function(){function p(h){this.args=h;this.type=g.ColorType}p.parse=function(h,t){if(4!==h.length)throw Error('"rgb" expects 3 arguments');h=h.slice(1).map(y=>m(y,t));return new p(h)};var c=p.prototype;c.evaluate=function(h,t){const y=this._validate(this.args[0].evaluate(h,t)),J=this._validate(this.args[1].evaluate(h,t));h=
this._validate(this.args[2].evaluate(h,t));return new q({r:y,g:J,b:h})};c._validate=function(h){if("number"!==typeof h||0>h||255<h)throw Error(`${h}: invalid color component`);return Math.round(h)};return p}(),ta=function(){function p(h){this.args=h;this.type=g.ColorType}p.parse=function(h,t){if(5!==h.length)throw Error('"rgba" expects 4 arguments');h=h.slice(1).map(y=>m(y,t));return new p(h)};var c=p.prototype;c.evaluate=function(h,t){const y=this._validate(this.args[0].evaluate(h,t)),J=this._validate(this.args[1].evaluate(h,
t)),Q=this._validate(this.args[2].evaluate(h,t));h=this._validateAlpha(this.args[3].evaluate(h,t));return new q({r:y,g:J,b:Q,a:h})};c._validate=function(h){if("number"!==typeof h||0>h||255<h)throw Error(`${h}: invalid color component`);return Math.round(h)};c._validateAlpha=function(h){if("number"!==typeof h||0>h||1<h)throw Error(`${h}: invalid alpha color component`);return h};return p}(),ua=function(){function p(c){this.color=c;this.type=g.arrayType(g.NumberType,4)}p.parse=function(c,h){if(2!==
c.length)throw Error('"to-rgba" expects 1 argument');c=m(c[1],h);return new p(c)};p.prototype.evaluate=function(c,h){return(new q(this.color.evaluate(c,h))).toRgba()};return p}(),ha=function(){function p(c,h){this.type=c;this.args=h}p.parse=function(c,h){var t=c[0];if(2>c.length)throw Error(`${t} expects at least one argument`);let y=1,J;if("array"===t){if(2<c.length){switch(c[1]){case "string":J=g.StringType;break;case "number":J=g.NumberType;break;case "boolean":J=g.BooleanType;break;default:throw Error('"array" type argument must be string, number or boolean');
}y++}else J=g.ValueType;if(3<c.length){var Q=c[2];if(null!==Q&&("number"!==typeof Q||0>Q||Q!==Math.floor(Q)))throw Error('"array" length argument must be a positive integer literal');y++}J=g.arrayType(J,Q)}else switch(t){case "string":J=g.StringType;break;case "number":J=g.NumberType;break;case "boolean":J=g.BooleanType;break;case "object":J=g.ObjectType}for(t=[];y<c.length;y++)Q=m(c[y],h),t.push(Q);return new p(J,t)};p.prototype.evaluate=function(c,h){let t;for(const y of this.args){const J=y.evaluate(c,
h);t=g.getType(J);if(g.matchType(t,this.type))return J}throw Error(`Expected ${g.typeToString(this.type)} but got ${g.typeToString(t)}`);};return p}(),ea=function(){function p(c,h){this.type=c;this.args=h}p.parse=function(c,h){var t=c[0];const y=p.types[t];if(y===g.BooleanType||y===g.StringType){if(2!==c.length)throw Error(`${t} expects one argument`);}else if(2>c.length)throw Error(`${t} expects at least one argument`);t=[];for(let J=1;J<c.length;J++){const Q=m(c[J],h);t.push(Q)}return new p(y,t)};
p.prototype.evaluate=function(c,h){if(this.type===g.BooleanType)return!!this.args[0].evaluate(c,h);if(this.type===g.StringType)return g.valueToString(this.args[0].evaluate(c,h));if(this.type===g.NumberType){for(const y of this.args){var t=Number(y.evaluate(c,h));if(!isNaN(t))return t}return null}if(this.type===g.ColorType){for(t of this.args)try{const y=p.toColor(t.evaluate(c,h));if(y instanceof q)return y}catch{}return null}};p.toBoolean=function(c){return!!c};p.toString=function(c){return g.valueToString(c)};
p.toNumber=function(c){const h=Number(c);if(isNaN(h))throw Error(`"${c}" is not a number`);return h};p.toColor=function(c){if(c instanceof q)return c;if("string"===typeof c){const h=q.fromString(c);if(h)return h;throw Error(`"${c}" is not a color`);}if(Array.isArray(c))return q.fromArray(c);throw Error(`"${c}" is not a color`);};return p}();ea.types={"to-boolean":g.BooleanType,"to-color":g.ColorType,"to-number":g.NumberType,"to-string":g.StringType};let va=function(){function p(c){this.val=c;this.type=
g.getType(c)}p.parse=function(c){if(2!==c.length)throw Error('"literal" expects 1 argument');return new p(c[1])};p.prototype.evaluate=function(c,h){return this.val};return p}(),wa=function(){function p(c){this.arg=c;this.type=g.StringType}p.parse=function(c,h){if(2!==c.length)throw Error('"typeof" expects 1 argument');return new p(m(c[1],h))};p.prototype.evaluate=function(c,h){return g.typeToString(g.getType(this.arg.evaluate(c,h)))};return p}();const ka={array:ha,boolean:ha,collator:null,format:null,
image:null,literal:va,number:ha,"number-format":null,object:ha,string:ha,"to-boolean":ea,"to-color":ea,"to-number":ea,"to-string":ea,typeof:wa,accumulated:null,"feature-state":null,"geometry-type":v,id:r,"line-progress":null,properties:w,at:V,get:W,has:U,in:G,"index-of":K,length:T,slice:Z,"!":M,"!\x3d":R,"\x3c":E,"\x3c\x3d":F,"\x3d\x3d":C,"\x3e":I,"\x3e\x3d":P,all:z,any:n,case:D,coalesce:B,match:H,within:null,interpolate:N,"interpolate-hcl":N,"interpolate-lab":N,step:L,let:O,var:S,concat:ra,downcase:ja,
"is-supported-script":null,"resolved-locale":null,upcase:ja,rgb:sa,rgba:ta,"to-rgba":ua,"-":ia,"*":ma,"/":na,"%":oa,"^":pa,"+":qa,abs:aa,acos:aa,asin:aa,atan:aa,ceil:aa,cos:aa,e:aa,floor:aa,ln:aa,ln2:aa,log10:aa,log2:aa,max:aa,min:aa,pi:aa,round:aa,sin:aa,sqrt:aa,tan:aa,zoom:x,"heatmap-density":null,"has-id":da,none:u};b.ALL=z;b.ANY=n;b.Add=qa;b.Assert=ha;b.At=V;b.Calculate=aa;b.Case=D;b.Coalesce=B;b.Coerce=ea;b.Concat=ra;b.Div=na;b.EQ=C;b.GE=P;b.GT=I;b.GeomType=v;b.Get=W;b.Has=U;b.HasID=da;b.ID=
r;b.In=G;b.IndexOf=K;b.Interpolate=N;b.LE=F;b.LT=E;b.Length=T;b.Let=O;b.Literal=va;b.Match=H;b.Mod=oa;b.Mul=ma;b.NE=R;b.NONE=u;b.NOT=M;b.Pow=pa;b.Properties=w;b.Rgb=sa;b.Rgba=ta;b.Slice=Z;b.Step=L;b.String=ja;b.Sub=ia;b.ToRgba=ua;b.TypeOf=wa;b.Var=S;b.Zoom=x;b.createExpression=m;b.ops=ka;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/core/colorUtils":function(){define(["exports"],function(b){function a(k,r){const v=[];let w,x;if(k[0].length!==r.length)throw"dimensions do not match";const A=
k.length,C=k[0].length;let R=0;for(w=0;w<A;w++){for(x=R=0;x<C;x++)R+=k[w][x]*r[x];v.push(R)}return v}function q(k){k=[k.r/255,k.g/255,k.b/255].map(r=>.04045>=r?r/12.92:((r+.055)/1.055)**2.4);k=a(l,k);return{x:100*k[0],y:100*k[1],z:100*k[2]}}function e(k){k=a(m,[k.x/100,k.y/100,k.z/100]).map(r=>Math.min(1,Math.max(.0031308>=r?12.92*r:1.055*r**(1/2.4)-.055,0)));return{r:Math.round(255*k[0]),g:Math.round(255*k[1]),b:Math.round(255*k[2])}}function d(k){k=[k.x/95.047,k.y/100,k.z/108.883].map(r=>r>(6/29)**
3?r**(1/3):1/3*(29/6)**2*r+4/29);return{l:116*k[1]-16,a:500*(k[0]-k[1]),b:200*(k[1]-k[2])}}function f(k){const r=k.l;k=[(r+16)/116+k.a/500,(r+16)/116,(r+16)/116-k.b/200].map(v=>v>6/29?v**3:3*(6/29)**2*(v-4/29));return{x:95.047*k[0],y:100*k[1],z:108.883*k[2]}}function g(k){if("r"in k&&"g"in k&&"b"in k)return k;if("l"in k&&"c"in k&&"h"in k){var r=k.c;var v=k.h;r={l:k.l,a:r*Math.cos(v),b:r*Math.sin(v)};return e(f(r))}if("l"in k&&"a"in k&&"b"in k)return e(f(k));if("x"in k&&"y"in k&&"z"in k)return e(k);
if("h"in k&&"s"in k&&"v"in k){{v=(k.h+360)%360/60;r=k.v/100*255;k=k.s/100*r;const w=k*(1-Math.abs(v%2-1));switch(Math.floor(v)){case 0:v={r:k,g:w,b:0};break;case 1:v={r:w,g:k,b:0};break;case 2:v={r:0,g:k,b:w};break;case 3:v={r:0,g:w,b:k};break;case 4:v={r:w,g:0,b:k};break;case 5:case 6:v={r:k,g:0,b:w};break;default:v={r:0,g:0,b:0}}v.r=Math.round(v.r+r-k);v.g=Math.round(v.g+r-k);v.b=Math.round(v.b+r-k);r=v}return r}return k}const l=[[.4124,.3576,.1805],[.2126,.7152,.0722],[.0193,.1192,.9505]],m=[[3.2406,
-1.5372,-.4986],[-.9689,1.8758,.0415],[.0557,-.204,1.057]];b.darken=function(k,r){k=d(q(k));k.l*=1-r;return e(f(k))};b.toHSV=function(k){if("h"in k&&"s"in k&&"v"in k)return k;var r=g(k);{k=r.r;const v=r.g,w=r.b;r=Math.max(k,v,w);const x=r-Math.min(k,v,w);k=0===x?0:r===k?(v-w)/x%6:r===v?(w-k)/x+2:(k-v)/x+4;0>k&&(k+=6);k={h:60*k,s:100*(0===x?0:x/r),v:100/255*r}}return k};b.toLAB=function(k){return"l"in k&&"a"in k&&"b"in k?k:d(q(g(k)))};b.toLCH=function(k){if(!("l"in k&&"c"in k&&"h"in k)){{var r=d(q(g(k)));
k=r.l;var v=r.a;const w=r.b;r=Math.sqrt(v*v+w*w);v=Math.atan2(w,v);v=0<v?v:v+2*Math.PI;k={l:k,c:r,h:v}}}return k};b.toRGB=g;b.toXYZ=function(k){return"x"in k&&"y"in k&&"z"in k?k:q(g(k))};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/unitBezier":function(){define(["exports"],function(b){function a(d,f,g,l){function m(C,R){var E;let F,I;F=C;for(E=0;8>E;E++){I=((v*F+r)*F+k)*F-C;if(Math.abs(I)<R)return F;var P=(3*v*F+2*r)*F+k;if(1E-6>Math.abs(P))break;F-=I/P}P=0;E=1;F=C;if(F<P)return P;
if(F>E)return E;for(;P<E;){I=((v*F+r)*F+k)*F;if(Math.abs(I-C)<R)break;C>I?P=F:E=F;F=.5*(E-P)+P}return F}const k=3*d,r=3*(g-d)-k,v=1-k-r,w=3*f,x=3*(l-f)-w,A=1-w-x;return function(C,R=1E-6){C=m(C,R);return((A*C+x)*C+w)*C}}const q=/^cubic-bezier\((.*)\)/,e={};e.ease=a(.25,.1,.25,1);e.linear=a(0,0,1,1);e.easeIn=e["ease-in"]=a(.42,0,1,1);e.easeOut=e["ease-out"]=a(0,0,.58,1);e.easeInOut=e["ease-in-out"]=a(.42,0,.58,1);b.easingFunctions=e;b.parse=function(d){let f=e[d]||null;!f&&(d=q.exec(d))&&(d=d[1].split(",").map(g=>
parseFloat(g.trim())),4!==d.length||d.some(g=>isNaN(g))||(f=a.apply(a,d)));return f};b.unitBezier=a;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["exports"],function(b){function a(l,m){l%=m;return 0<=l?l:l+m}const q=Number.POSITIVE_INFINITY,e=Math.PI,d=128/e,f=256/360,g=1/Math.LN2;b.C_256_TO_RAD=e/128;b.C_2PI=2*e;b.C_DEG_TO_256=f;b.C_DEG_TO_RAD=e/180;b.C_INFINITY=q;b.C_PI=e;b.C_PI_BY_2=e/2;b.C_RAD_TO_256=d;b.C_SQRT2=1.414213562;
b.C_SQRT2_INV=1/1.414213562;b.between=function(l,m,k){return l>=m&&l<=k||l>=k&&l<=m};b.degToByte=function(l){return a(l*f,256)};b.interpolate=function(l,m,k){return l*(1-k)+m*k};b.log2=function(l){return Math.log(l)*g};b.positiveMod=a;b.radToByte=function(l){return a(l*d,256)};b.sqr=function(l){return l*l};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/expression/types":function(){define(["exports","../../../../../Color"],function(b,a){function q(A,C){return{kind:"array",
itemType:A,n:C}}function e(A){if("array"===A.kind){const C=e(A.itemType);return"number"===typeof A.n?`array<${C}, ${A.n}>`:"value"===A.itemType.kind?"array":`array<${C}>`}return A.kind}function d(A){if(null===A)return g;if("string"===typeof A)return m;if("boolean"===typeof A)return k;if("number"===typeof A)return l;if(A instanceof a)return r;if(Array.isArray(A)){let C;for(const R of A){const E=d(R);if(!C)C=E;else if(C!==E){C=w;break}}return q(C||w,A.length)}return"object"===typeof A?v:w}function f(A,
C){if("array"===C.kind)return"array"===A.kind&&(0===A.n&&"value"===A.itemType.kind||f(A.itemType,C.itemType))&&("number"!==typeof C.n||C.n===A.n);if("value"===C.kind)for(const R of x)if(f(A,R))return!0;return C.kind===A.kind}const g={kind:"null"},l={kind:"number"},m={kind:"string"},k={kind:"boolean"},r={kind:"color"},v={kind:"object"},w={kind:"value"},x=[g,l,m,k,r,v,q(w)];b.BooleanType=k;b.ColorType=r;b.NullType=g;b.NumberType=l;b.ObjectType=v;b.StringType=m;b.ValueType=w;b.arrayType=q;b.getType=
d;b.matchType=f;b.typeToString=e;b.valueToString=function(A){if(null===A)return"";const C=typeof A;return"string"===C?A:"number"===C||"boolean"===C?String(A):A instanceof a?A.toString():JSON.stringify(A)};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/webgl/Geometry":function(){define(["exports"],function(b){let a=function(){function q(d,f){this.x=d;this.y=f}var e=q.prototype;e.clone=function(){return new q(this.x,this.y)};e.equals=function(d,f){return d===this.x&&f===this.y};
e.isEqual=function(d){return d.x===this.x&&d.y===this.y};e.setCoords=function(d,f){this.x=d;this.y=f};e.normalize=function(){var d=this.x;const f=this.y;d=Math.sqrt(d*d+f*f);this.x/=d;this.y/=d};e.rightPerpendicular=function(){const d=this.x;this.x=this.y;this.y=-d};e.move=function(d,f){this.x+=d;this.y+=f};e.assign=function(d){this.x=d.x;this.y=d.y};e.assignAdd=function(d,f){this.x=d.x+f.x;this.y=d.y+f.y};e.assignSub=function(d,f){this.x=d.x-f.x;this.y=d.y-f.y};e.rotate=function(d,f){const g=this.x,
l=this.y;this.x=g*d-l*f;this.y=g*f+l*d};e.scale=function(d){this.x*=d;this.y*=d};e.length=function(){const d=this.x,f=this.y;return Math.sqrt(d*d+f*f)};q.distance=function(d,f){const g=f.x-d.x;d=f.y-d.y;return Math.sqrt(g*g+d*d)};q.add=function(d,f){return new q(d.x+f.x,d.y+f.y)};q.sub=function(d,f){return new q(d.x-f.x,d.y-f.y)};return q}();b.GeometryType=void 0;(function(q){q[q.Unknown=0]="Unknown";q[q.Point=1]="Point";q[q.LineString=2]="LineString";q[q.Polygon=3]="Polygon"})(b.GeometryType||(b.GeometryType=
{}));b.Point=a;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["../../../../../Color","../GeometryUtils","../expression/expression","../expression/types"],function(b,a,q,e){return function(){function d(g,l){this.isDataDriven=!1;this.interpolator=null;switch(g.type){case "number":var m=!0;break;case "color":m=!0;break;case "array":m="number"===g.value;break;default:m=!1}null==l&&(l=g.default);if(Array.isArray(l)&&0<l.length&&
q.ops[l[0]]){m={number:e.NumberType,color:e.ColorType,string:e.StringType,boolean:e.BooleanType,enum:e.StringType};try{var k="array"===g.type?e.arrayType(m[g.value]||e.ValueType,g.length):m[g.type];const r=q.createExpression(l,null,k);this.getValue=this._buildExpression(r,g);this.isDataDriven=!0;r instanceof q.Interpolate&&r.input instanceof q.Zoom&&(this.interpolator=r)}catch(r){console.log(r.message),this.getValue=this._buildSimple(g.default)}}else{m&&"interval"===l.type&&(m=!1);if(k=l&&l.stops&&
0<l.stops.length)for(const r of l.stops)r[1]=this._validate(r[1],g);if(this.isDataDriven=l?!!l.property:!1)if(void 0!==l.default&&(l.default=this._validate(l.default,g)),k)switch(l.type){case "identity":this.getValue=this._buildIdentity(l,g);break;case "categorical":this.getValue=this._buildCategorical(l,g);break;default:this.getValue=m?this._buildInterpolate(l,g):this._buildInterval(l,g)}else this.getValue=this._buildIdentity(l,g);else k?this.getValue=m?this._buildZoomInterpolate(l):this._buildZoomInterval(l):
(l=this._validate(l,g),this.getValue=this._buildSimple(l))}}var f=d.prototype;f._validate=function(g,l){if("number"===l.type){if(g<l.minimum)return l.minimum;if(g>l.maximum)return l.maximum}else"color"===l.type?g=d._parseColor(g):"enum"===l.type?"string"===typeof g&&(g=l.values.indexOf(g)):"array"===l.type&&"enum"===l.value?g=g.map(m=>"string"===typeof m?l.values.indexOf(m):m):"string"===l.type&&(g=e.valueToString(g));return g};f._buildSimple=function(g){return()=>g};f._buildExpression=function(g,
l){return(m,k)=>{try{const r=g.evaluate(k,m);return void 0===r?l.default:this._validate(r,l)}catch(r){return console.log(r.message),l.default}}};f._buildIdentity=function(g,l){return(m,k)=>{let r;k&&(r=k.values[g.property]);void 0!==r&&(r=this._validate(r,l));return null!=r?r:void 0!==g.default?g.default:l.default}};f._buildCategorical=function(g,l){return(m,k)=>{let r;k&&(r=k.values[g.property]);r=this._categorical(r,g.stops);return void 0!==r?r:void 0!==g.default?g.default:l.default}};f._buildInterval=
function(g,l){return(m,k)=>{let r;k&&(r=k.values[g.property]);return"number"===typeof r?this._interval(r,g.stops):void 0!==g.default?g.default:l.default}};f._buildInterpolate=function(g,l){return(m,k)=>{let r;k&&(r=k.values[g.property]);return"number"===typeof r?this._interpolate(r,g.stops,g.base||1):void 0!==g.default?g.default:l.default}};f._buildZoomInterpolate=function(g){return l=>this._interpolate(l,g.stops,g.base||1)};f._buildZoomInterval=function(g){return l=>this._interval(l,g.stops)};f._categorical=
function(g,l){const m=l.length;for(let k=0;k<m;k++)if(l[k][0]===g)return l[k][1]};f._interval=function(g,l){const m=l.length;let k=0;for(let r=0;r<m;r++)if(l[r][0]<=g)k=r;else break;return l[k][1]};f._interpolate=function(g,l,m){const k=l.length;for(let w=0;w<k;w++){const x=l[w];if(x[0]<=g)var r=x;else{var v=x;break}}if(r&&v){l=v[0]-r[0];g-=r[0];m=1===m?g/l:(m**g-1)/(m**l-1);if(Array.isArray(r[1])){r=r[1];v=v[1];g=[];for(l=0;l<r.length;l++)g.push(a.interpolate(r[l],v[l],m));return g}return a.interpolate(r[1],
v[1],m)}if(r)return r[1];if(v)return v[1]};d._isEmpty=function(g){for(const l in g)if(g.hasOwnProperty(l))return!1;return!0};d._parseColor=function(g){if(Array.isArray(g))return g;"string"===typeof g&&(g=new b(g));if(g instanceof b&&!this._isEmpty(g))return b.toUnitRGBA(g)};return d}()})},"esri/views/2d/engine/webgl/definitions":function(){define(["exports"],function(b){b.ANGLE_FACTOR_256=256/360;b.ATTRIBUTE_DATA_ANIMATION=1;b.ATTRIBUTE_DATA_DD0=3;b.ATTRIBUTE_DATA_DD1=4;b.ATTRIBUTE_DATA_FILTER_FLAGS=
0;b.ATTRIBUTE_DATA_GPGPU=2;b.ATTRIBUTE_DATA_VV=3;b.ATTRIBUTE_STORE_TEXTURE_SIZE=1024;b.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}};b.BITSET_GENERIC_LOCK_COLOR=2;b.BITSET_LINE_SCALE_DASH=4;b.BITSET_MARKER_ALIGNMENT_MAP=1;b.BITSET_MARKER_ALIGNMENT_SCREEN=0;b.BITSET_MARKER_OUTLINE_ALLOW_COLOR_OVERRIDE=4;b.BITSET_MARKER_SCALE_SYMBOLS_PROPORTIONALLY=8;b.BITSET_TYPE_FILL_OUTLINE=1;b.BUFFER_DATA_MINIMUM_SIZE=128;b.BUFFER_DATA_POOL_SIZE=4;b.COLLISION_BOX_PADDING=16;b.COLLISION_BUCKET_SIZE=
128;b.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;b.COLLISION_MAX_ZOOM_DELTA=1;b.COLLISION_PLACEMENT_PADDING=8;b.COLLISION_TILE_BOX_SIZE=4;b.DEBUG_LABELS=!1;b.DISPLAY_RECORD_INT_PER_ELEMENT=8;b.DOT_DENSITY_MAX_FIELDS=8;b.EFFECT_FLAG_0=4;b.ENABLE_EARLY_LABEL_DISCARD=!1;b.EXTRUDE_SCALE=64;b.FILTER_FLAG_0=2;b.GLYPH_SIZE=24;b.HEURISTIC_GLYPHS_PER_FEATURE=10;b.HEURISTIC_GLYPHS_PER_LINE=50;b.HIGHLIGHT_FLAG=1;b.HITTEST_RADIUS=3;b.MAGIC_LABEL_LINE_HEIGHT=29;b.MAX_FILTERS=2;b.MAX_GPU_UPLOADS_PER_FRAME=2;b.MIN_MAX_ZOOM_PRECISION_FACTOR=
10;b.NAN_MAGIC_NUMBER=1E-30;b.PATCH_PIXEL_BUFFER_ALLOC_SIZE=500;b.PICTURE_FILL_COLOR=4294967295;b.RASTER_TILE_SIZE=256;b.SPRITE_PADDING=2;b.TEXTURE_BINDING_ATTRIBUTE_DATA_0=1;b.TEXTURE_BINDING_ATTRIBUTE_DATA_1=2;b.TEXTURE_BINDING_ATTRIBUTE_DATA_2=3;b.TEXTURE_BINDING_ATTRIBUTE_DATA_3=4;b.TEXTURE_BINDING_BITMAP=0;b.TEXTURE_BINDING_GLYPH_ATLAS=0;b.TEXTURE_BINDING_GPGPU=12;b.TEXTURE_BINDING_HIGHLIGHT_0=5;b.TEXTURE_BINDING_HIGHLIGHT_1=6;b.TEXTURE_BINDING_RENDERER_0=5;b.TEXTURE_BINDING_RENDERER_1=6;b.TEXTURE_BINDING_SPRITE_ATLAS=
0;b.TEXT_PLACEMENT_PADDING=8;b.THIN_LINE_HALF_WIDTH_THRESHOLD=1.05;b.TILE_SIZE=512;b.VTL_HIGH_RES_CUTOFF=1.15;b.VTL_TEXTURE_BINDING_UNIT_GLYPHS=6;b.VTL_TEXTURE_BINDING_UNIT_SPRITES=5;b.WEBGL_MAX_INNER_STOPS=6;b.WEBGL_MAX_STOPS=8;Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/webgl/capabilities":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe","./context-util"],function(b,a,q,e){function d(){if(!l){{const w=new r,x=g(e.ContextType.WEBGL1,w);
q.isNone(x)||(w.supportsElementIndexUint=null!==x.getExtension("OES_element_index_uint"),w.supportsStandardDerivatives=null!==x.getExtension("OES_standard_derivatives"),w.supportsInstancedArrays=null!==x.getExtension("ANGLE_instanced_arrays"),w.supportsTextureFloat=null!==x.getExtension("OES_texture_float"));l=w}}return l}function f(){if(!m){{const w=new v,x=g(e.ContextType.WEBGL2,w);q.isNone(x);m=w}}return m}function g(w,x){const A=document.createElement("canvas");if(!A)return null;let C=e.createContext(A,
w,{failIfMajorPerformanceCaveat:!0});q.isNone(C)&&(C=e.createContext(A,w),q.isSome(C)&&(x.majorPerformanceCaveat=!0));if(q.isNone(C))return C;if(w===e.ContextType.WEBGL1){if(w=C.getParameter(C.VERSION),w=null==w?void 0:w.match(/^WebGL\s+([\d.]*)/))w=parseFloat(w[1]),x.available=.94<=w}else x.available=!0;x.maxTextureSize=C.getParameter(C.MAX_TEXTURE_SIZE);x.supportsVertexShaderSamplers=0<C.getParameter(C.MAX_VERTEX_TEXTURE_IMAGE_UNITS);if(w=C.getShaderPrecisionFormat(C.FRAGMENT_SHADER,C.HIGH_FLOAT))x.supportsHighPrecisionFragment=
0<w.precision;return C}let l,m,k=function(){this.majorPerformanceCaveat=this.available=!1;this.maxTextureSize=0;this.supportsHighPrecisionFragment=this.supportsVertexShaderSamplers=!1},r=function(w){function x(){var A=w.apply(this,arguments)||this;A.type=e.ContextType.WEBGL1;A.supportsElementIndexUint=!1;A.supportsStandardDerivatives=!1;A.supportsInstancedArrays=!1;A.supportsTextureFloat=!1;return A}a._inheritsLoose(x,w);return x}(k),v=function(w){function x(){var A=w.apply(this,arguments)||this;
A.type=e.ContextType.WEBGL2;return A}a._inheritsLoose(x,w);return x}(k);b.WebGL1Capabilities=r;b.WebGL2Capabilities=v;b.getWebGL1Capabilities=d;b.getWebGL2Capabilities=f;b.getWebGLCapabilities=function(w){switch(w){case e.ContextType.WEBGL1:return d();case e.ContextType.WEBGL2:return f()}};Object.defineProperty(b,"__esModule",{value:!0})})},"esri/views/webgl/context-util":function(){define(["exports","../../core/has","../../core/maybe"],function(b,a,q){function e(l){const m=a("esri-force-webgl");
if(m===b.ContextType.WEBGL1||m===b.ContextType.WEBGL2)return[m];switch(l){case "2d":return[b.ContextType.WEBGL1];case "3d":return[b.ContextType.WEBGL2,b.ContextType.WEBGL1]}}function d(l,m,k={}){if(!window.WebGLRenderingContext)return g(l,'This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e'),null;m=f(l,m,k);q.isNone(m)&&g(l,'It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e');
return m}function f(l,m,k={}){m=m===b.ContextType.WEBGL1?["webgl","experimental-webgl","webkit-3d","moz-webgl"]:["webgl2"];let r=null;for(const v of m){try{r=l.getContext(v,k)}catch(w){}if(r)break}return r}function g(l,m){(l=l.parentNode)&&(l.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+m+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}
b.ContextType=void 0;(function(l){l[l.WEBGL1=1]="WEBGL1";l[l.WEBGL2=2]="WEBGL2"})(b.ContextType||(b.ContextType={}));b.createContext=f;b.createContextOrErrorHTML=function(l,m,k={}){for(l=e(l);1<l.length;){const r=f(m,l.shift(),k);if(q.isSome(r))return r}return d(m,l.shift(),k)};b.getContextTypes=e;Object.defineProperty(b,"__esModule",{value:!0})})},"*noref":1}});
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../request ../core/Error ../core/lang ../core/MultiOriginJSONSupport ../core/promiseUtils ../core/urlUtils ../core/accessorSupport/decorators/property ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../geometry/Extent ../geometry/SpatialReference ./Layer ./mixins/APIKeyMixin ./mixins/ArcGISCachedService ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/OperationalLayer ./mixins/PortalLayer ./mixins/ScaleRangeLayer ./support/imageUtils ./support/SpriteSource ./support/TileInfo ./support/vectorTileLayerLoader ../portal/support/jsonContext ../views/2d/engine/vectorTiles/tileInfoUtils ../views/2d/engine/vectorTiles/style/StyleRepository ../views/webgl/capabilities".split(" "),function(b,
a,q,e,d,f,g,l,m,k,r,v,w,x,A,C,R,E,F,I,P,M,z,n,u,D,B,H,N,L,O,S){f=function(V){function W(...G){G=V.call(this,...G)||this;G._spriteSourceMap=new Map;G.currentStyleInfo=null;G.style=null;G.isReference=null;G.operationalLayerType="VectorTileLayer";G.type="vector-tile";G.url=null;G.symbolCollisionBoxesVisible=!1;G.path=null;return G}b._inheritsLoose(W,V);var U=W.prototype;U.normalizeCtorArgs=function(G,K){return"string"===typeof G?{url:G,...K}:G};U.destroy=function(){if(this.sourceNameToSource)for(const G of Object.values(this.sourceNameToSource))null==
G?void 0:G.destroy();this._spriteSourceMap.clear()};U.prefetchResources=function(){var G=b._asyncToGenerator(function*(K){yield this.loadSpriteSource(globalThis.devicePixelRatio||1,K)});return function(K){return G.apply(this,arguments)}}();U.load=function(G){var K=this;const T=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1},G).catch(g.throwIfAbortError).then(b._asyncToGenerator(function*(){if(K.portalItem&&K.portalItem.id){var Z=`${K.portalItem.itemUrl}/resources/styles/root.json`;
(yield q(Z,{...G,query:{f:"json",...K.customParameters,token:K.apiKey}})).data&&K.read({url:Z},N.createForItem(K.portalItem))}})).catch(g.throwIfAbortError).then(()=>this._loadStyle(G));this.addResolvingPromise(T);return Promise.resolve(this)};U.writeStyleUrl=function(G,K){G&&l.isProtocolRelative(G)&&(G=`https:${G}`);K.styleUrl=G};U.readVersion=function(G,K){return K.version?parseFloat(K.version):parseFloat(K.currentVersion)};U.loadSpriteSource=function(){var G=b._asyncToGenerator(function*(K=1,T){if(!this._spriteSourceMap.has(K)){var Z;
const da=S.getWebGL1Capabilities().maxTextureSize,ca=null!=(Z=this.currentStyleInfo)&&Z.spriteUrl?l.addQueryParameters(this.currentStyleInfo.spriteUrl,{...this.customParameters,token:this.apiKey}):null;Z=new D(ca,K,da,this.currentStyleInfo.spriteFormat);yield Z.load(T);this._spriteSourceMap.set(K,Z)}return Promise.resolve(this._spriteSourceMap.get(K))});return function(){return G.apply(this,arguments)}}();U.setSpriteSource=function(){var G=b._asyncToGenerator(function*(K,T="png",Z=1,da){const ca=
S.getWebGL1Capabilities().maxTextureSize;K=K?l.addQueryParameters(K,{...this.customParameters,token:this.apiKey}):null;if(!K)return null;T=new D(K,Z,ca,T);try{return yield T.load(da),this._spriteSourceMap.clear(),this._spriteSourceMap.set(Z,T),this.currentStyleInfo.spriteUrl=K,this.emit("spriteSource-change",{spriteSource:T}),T}catch(ia){g.throwIfAbortError(ia)}return null});return function(K){return G.apply(this,arguments)}}();U.loadStyle=function(){var G=b._asyncToGenerator(function*(K,T){var Z;
const da=K||this.style||this.url;if(this._loadingTask&&"string"===typeof da&&this.url===da)return this._loadingTask.promise;null==(Z=this._loadingTask)?void 0:Z.abort();this._loadingTask=g.createTask(ca=>{this._spriteSourceMap.clear();return this._getSourceAndStyle(da,{signal:ca})},T);return this._loadingTask.promise});return function(K,T){return G.apply(this,arguments)}}();U.getStyleLayerId=function(G){return this.styleRepository.getStyleLayerId(G)};U.getStyleLayerIndex=function(G){return this.styleRepository.getStyleLayerIndex(G)};
U.getPaintProperties=function(G){return d.clone(this.styleRepository.getPaintProperties(G))};U.setPaintProperties=function(G,K){const T=this.styleRepository.isPainterDataDriven(G);this.styleRepository.setPaintProperties(G,K);const Z=this.styleRepository.isPainterDataDriven(G);this.emit("paint-change",{layer:G,paint:K,isDataDriven:T||Z})};U.getStyleLayer=function(G){return d.clone(this.styleRepository.getStyleLayer(G))};U.setStyleLayer=function(G,K){this.styleRepository.setStyleLayer(G,K);this.emit("style-layer-change",
{layer:G,index:K})};U.deleteStyleLayer=function(G){this.styleRepository.deleteStyleLayer(G);this.emit("delete-style-layer",{layer:G})};U.getLayoutProperties=function(G){return d.clone(this.styleRepository.getLayoutProperties(G))};U.setLayoutProperties=function(G,K){this.styleRepository.setLayoutProperties(G,K);this.emit("layout-change",{layer:G,layout:K})};U.setStyleLayerVisibility=function(G,K){this.styleRepository.setStyleLayerVisibility(G,K);this.emit("style-layer-visibility-change",{layer:G,visibility:K})};
U.getStyleLayerVisibility=function(G){return this.styleRepository.getStyleLayerVisibility(G)};U.write=function(G,K){return null!=K&&K.origin&&!this.styleUrl?(K.messages&&K.messages.push(new e("vectortilelayer:unsupported",`VectorTileLayer (${this.title}, ${this.id}) with style defined by JSON only are not supported`,{layer:this})),null):V.prototype.write.call(this,G,K)};U.getTileUrl=function(G,K,T){return null};U._getSourceAndStyle=function(){var G=b._asyncToGenerator(function*(K,T){if(!K)throw Error("invalid style!");
T=yield H.loadMetadata(K,{...T,query:{...this.customParameters,token:this.apiKey}});"webp"!==T.spriteFormat||(yield u.checkWebPSupport("lossy"))||(T.spriteFormat="png");this._set("currentStyleInfo",{...T});"string"===typeof K?(this.url=K,this.style=null):(this.url=null,this.style=K);this._set("sourceNameToSource",T.sourceNameToSource);this._set("primarySource",T.sourceNameToSource[T.primarySourceName]);this._set("styleRepository",new O(T.style));this.read(T.layerDefinition,{origin:"service"});this.emit("load-style")});
return function(K,T){return G.apply(this,arguments)}}();U._getDefaultAttribution=function(G){var K=G.match(/^https?:\/\/(?:basemaps|basemapsbeta|basemapsdev)(?:-api)?\.arcgis\.com(\/[^\/]+)?\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i);G="OpenStreetMap_v2 OpenStreetMap_Daylight_v2 OpenStreetMap_Export_v2 OpenStreetMap_FTS_v2 OpenStreetMap_GCS_v2 World_Basemap World_Basemap_v2 World_Basemap_Export_v2 World_Basemap_GCS_v2 World_Basemap_WGS84 World_Contours_v2".split(" ");if(K){var T=
K[2]&&K[2].toLowerCase();if(T){K=K[1]||"";for(const Z of G)if(Z.toLowerCase().includes(T))return l.normalize(`//static.arcgis.com/attribution/Vector${K}/${Z}`)}}};U._loadStyle=function(){var G=b._asyncToGenerator(function*(K){var T,Z;return null!=(T=null==(Z=this._loadingTask)?void 0:Z.promise)?T:this.loadStyle(null,K)});return function(K){return G.apply(this,arguments)}}();b._createClass(W,[{key:"attributionDataUrl",get:function(){var G=this.currentStyleInfo;G=G&&G.serviceUrl&&l.urlToObject(G.serviceUrl);
return G?(G=this._getDefaultAttribution(G.path))?l.addQueryParameters(G,{...this.customParameters,token:this.apiKey}):null:null}},{key:"capabilities",get:function(){const G=this.primarySource;return G?G.capabilities:{operations:{supportsExportTiles:!1,supportsTileMap:!1},exportTiles:null}}},{key:"fullExtent",get:function(){var G;return(null==(G=this.primarySource)?void 0:G.fullExtent)||null}},{key:"parsedUrl",get:function(){return this.serviceUrl?l.urlToObject(this.serviceUrl):null}},{key:"serviceUrl",
get:function(){return this.currentStyleInfo&&this.currentStyleInfo.serviceUrl||null}},{key:"spatialReference",get:function(){return this.tileInfo&&this.tileInfo.spatialReference||null}},{key:"styleUrl",get:function(){return this.currentStyleInfo&&this.currentStyleInfo.styleUrl||null}},{key:"tileInfo",get:function(){var G;const K=[];for(var T in this.sourceNameToSource)K.push(this.sourceNameToSource[T]);T=(null==(G=this.primarySource)?void 0:G.tileInfo)||new B;if(1<K.length)for(G=0;G<K.length;G++)L.areSchemasOverlapping(T,
K[G].tileInfo)&&(T=L.unionTileInfos(T,K[G].tileInfo));return T}}]);return W}(I.BlendLayer(n.ScaleRangeLayer(E.ArcGISCachedService(F.ArcGISService(M.OperationalLayer(z.PortalLayer(P.CustomParametersMixin(R.APIKeyMixin(f.MultiOriginJSONMixin(C))))))))));a.__decorate([m.property({readOnly:!0})],f.prototype,"attributionDataUrl",null);a.__decorate([m.property({type:["show","hide"]})],f.prototype,"listMode",void 0);a.__decorate([m.property({readOnly:!0,json:{read:!1}})],f.prototype,"capabilities",null);
a.__decorate([m.property({readOnly:!0})],f.prototype,"currentStyleInfo",void 0);a.__decorate([m.property({json:{read:!1},readOnly:!0,type:x})],f.prototype,"fullExtent",null);a.__decorate([m.property()],f.prototype,"style",void 0);a.__decorate([m.property({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],f.prototype,"isReference",void 0);a.__decorate([m.property({type:["VectorTileLayer"]})],f.prototype,"operationalLayerType",void 0);a.__decorate([m.property({readOnly:!0})],
f.prototype,"parsedUrl",null);a.__decorate([m.property({readOnly:!0})],f.prototype,"serviceUrl",null);a.__decorate([m.property({type:A,readOnly:!0})],f.prototype,"spatialReference",null);a.__decorate([m.property({readOnly:!0})],f.prototype,"styleRepository",void 0);a.__decorate([m.property({readOnly:!0})],f.prototype,"sourceNameToSource",void 0);a.__decorate([m.property({readOnly:!0})],f.prototype,"primarySource",void 0);a.__decorate([m.property({type:String,readOnly:!0,json:{write:{ignoreOrigin:!0},
origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],f.prototype,"styleUrl",null);a.__decorate([w.writer(["portal-item","web-document"],"styleUrl")],f.prototype,"writeStyleUrl",null);a.__decorate([m.property({json:{read:!1,origins:{service:{read:!1}}},readOnly:!0,type:B})],f.prototype,"tileInfo",null);a.__decorate([m.property({json:{read:!1},readOnly:!0,value:"vector-tile"})],f.prototype,"type",void 0);a.__decorate([m.property({json:{origins:{"web-document":{read:{source:"styleUrl"}},
"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],f.prototype,"url",void 0);a.__decorate([m.property({readOnly:!0})],f.prototype,"version",void 0);a.__decorate([r.reader("version",["version","currentVersion"])],f.prototype,"readVersion",null);a.__decorate([m.property({type:Boolean})],f.prototype,"symbolCollisionBoxesVisible",void 0);a.__decorate([m.property({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],f.prototype,"path",void 0);return f=a.__decorate([v.subclass("esri.layers.VectorTileLayer")],
f)});