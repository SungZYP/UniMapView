// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
require({cache:{"esri/layers/mixins/ArcGISMapService":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../request ../../core/promiseUtils ../../core/urlUtils ../../core/Version ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../geometry/Extent ../../geometry/SpatialReference ../support/commonProperties".split(" "),
function(w,r,c,d,z,h,p,x,ca,Z,I,ha,ia,A,aa,ba){w.ArcGISMapService=G=>{G=function(O){function k(){var l=O.apply(this,arguments)||this;l.capabilities=void 0;l.copyright=null;l.fullExtent=null;l.legendEnabled=!0;l.spatialReference=null;l.version=void 0;return l}r._inheritsLoose(k,O);var C=k.prototype;C.readCapabilities=function(l,m){var u,H,n=m.capabilities&&m.capabilities.split(",").map(E=>E.toLowerCase().trim());if(!n)return{operations:{supportsQuery:!1,supportsExportMap:!1,supportsExportTiles:!1,
supportsTileMap:!1},exportMap:null,exportTiles:null};var v=this.type;l=n.includes("query");const f=n.includes("map"),Q=!!m.exportTilesAllowed;n=n.includes("tilemap");const T="tile"!==v&&!!m.supportsDynamicLayers,J="tile"!==v&&(!m.tileInfo||T),da="tile"!==v&&(!m.tileInfo||T);v="tile"!==v;const R=m.cimVersion&&p.Version.parse(m.cimVersion),U=null!=(u=null==R?void 0:R.since(1,4))?u:!1;u=null!=(H=null==R?void 0:R.since(2,0))?H:!1;return{operations:{supportsQuery:l,supportsExportMap:f,supportsExportTiles:Q,
supportsTileMap:n},exportMap:f?{supportsArcadeExpressionForLabeling:U,supportsSublayersChanges:v,supportsDynamicLayers:T,supportsSublayerVisibility:J,supportsSublayerDefinitionExpression:da,supportsCIMSymbols:u}:null,exportTiles:Q?{maxExportTilesCount:+m.maxExportTilesCount}:null}};C.readVersion=function(l,m){(l=m.currentVersion)||(l=m.hasOwnProperty("capabilities")||m.hasOwnProperty("tables")?10:m.hasOwnProperty("supportedImageFormatTypes")?9.31:9.3);return l};C.fetchSublayerInfo=function(){var l=
r._asyncToGenerator(function*(m,u){yield this.fetchAllLayersAndTables(u);return this._allLayersAndTablesMap.get(m)});return function(m,u){return l.apply(this,arguments)}}();C.fetchAllLayersAndTables=function(){var l=r._asyncToGenerator(function*(m){yield this.load(m);this._allLayersAndTablesPromise||(this._allLayersAndTablesPromise=d(h.urlToObject(this.url).path+"/layers",{responseType:"json",query:{f:"json",...this.customParameters,token:this.apiKey}}).then(H=>{this._allLayersAndTablesMap=new Map;
for(const n of H.data.layers)this._allLayersAndTablesMap.set(n.id,n);return{result:H.data}},H=>({error:H})));const u=yield this._allLayersAndTablesPromise;z.throwIfAborted(m);if("result"in u)return u.result;throw u.error;});return function(m){return l.apply(this,arguments)}}();return k}(G);c.__decorate([x.property({readOnly:!0})],G.prototype,"capabilities",void 0);c.__decorate([ha.reader("service","capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount","supportsDynamicLayers","tileInfo"])],
G.prototype,"readCapabilities",null);c.__decorate([x.property({json:{read:{source:"copyrightText"}}})],G.prototype,"copyright",void 0);c.__decorate([x.property({type:A})],G.prototype,"fullExtent",void 0);c.__decorate([x.property(ba.id)],G.prototype,"id",void 0);c.__decorate([x.property({type:Boolean,json:{origins:{service:{read:{enabled:!1}}},read:{source:"showLegend"},write:{target:"showLegend"}}})],G.prototype,"legendEnabled",void 0);c.__decorate([x.property(ba.popupEnabled)],G.prototype,"popupEnabled",
void 0);c.__decorate([x.property({type:aa})],G.prototype,"spatialReference",void 0);c.__decorate([x.property({readOnly:!0})],G.prototype,"version",void 0);c.__decorate([ha.reader("version",["currentVersion","capabilities","tables","supportedImageFormatTypes"])],G.prototype,"readVersion",null);return G=c.__decorate([ia.subclass("esri.layers.mixins.ArcGISMapService")],G)};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/core/Version":function(){define(["exports","./Error"],function(w,r){let c=
function(){function d(h,p,x=""){this.major=h;this.minor=p;this._context=x}var z=d.prototype;z.lessThan=function(h,p){return this.major<h||h===this.major&&this.minor<p};z.since=function(h,p){return!this.lessThan(h,p)};z.validate=function(h){if(this.major!==h.major)throw new r((this._context&&this._context+":")+"unsupported-version",`Required major ${this._context&&this._context+" "}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:h});};z.clone=function(){return new d(this.major,
this.minor,this._context)};d.parse=function(h,p=""){const [x,ca]=h.split(".");var Z=/^\s*\d+\s*$/;if(!x||!x.match||!x.match(Z))throw new r((p&&p+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:h});if(!ca||!ca.match||!ca.match(Z))throw new r((p&&p+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:h});h=parseInt(x,10);Z=parseInt(ca,10);return new d(h,Z,p)};return d}();w.Version=c;Object.defineProperty(w,"__esModule",
{value:!0})})},"esri/layers/mixins/SublayersOwner":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Collection ../../core/CollectionFlattener ../../core/Error ../../core/Logger ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/utils ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/PropertyOrigin ../support/Sublayer ../support/sublayerUtils".split(" "),
function(w,r,c,d,z,h,p,x,ca,Z,I,ha,ia,A,aa,ba){function G(l,m){const u=[],H={};if(!l)return u;l.forEach(n=>{const v=new aa;v.read(n,m);H[v.id]=v;null!=n.parentLayerId&&-1!==n.parentLayerId?(n=H[n.parentLayerId],n.sublayers||(n.sublayers=[]),n.sublayers.unshift(v)):u.unshift(v)});return u}function O(l,m){l&&l.forEach(u=>{m(u);u.sublayers&&u.sublayers.length&&O(u.sublayers,m)})}const k=p.getLogger("esri.layers.TileLayer"),C=d.ofType(aa);w.SublayersOwner=l=>{l=function(m){function u(...n){var v=m.call(this,
...n)||this;v.allSublayers=new z({getCollections:()=>[v.sublayers],getChildrenFunction(f){return f.sublayers}});v.sublayersSourceJSON={[A.OriginId.SERVICE]:{},[A.OriginId.PORTAL_ITEM]:{},[A.OriginId.WEB_SCENE]:{},[A.OriginId.WEB_MAP]:{}};v.handles.add(v.watch("sublayers",(f,Q)=>v._handleSublayersChange(f,Q),!0));return v}r._inheritsLoose(u,m);var H=u.prototype;H.readSublayers=function(n,v){if(v&&n){var {sublayersSourceJSON:f}=this,Q=A.nameToId(v.origin);if(!(Q<A.OriginId.SERVICE||(f[Q]={context:v,
visibleLayers:n.visibleLayers||f[Q].visibleLayers,layers:n.layers||f[Q].layers},Q>A.OriginId.SERVICE))){this._set("serviceSublayers",this.createSublayersForOrigin("service").sublayers);var {sublayers:T,origin:J}=this.createSublayersForOrigin("web-document");n=I.getProperties(this);n.setDefaultOrigin(J);this._set("sublayers",new C(T));n.setDefaultOrigin("user")}}};H.findSublayerById=function(n){return this.allSublayers.find(v=>v.id===n)};H.createServiceSublayers=function(){return this.createSublayersForOrigin("service").sublayers};
H.createSublayersForOrigin=function(n){const v="web-document"===n?A.nameToId("web-map"):A.nameToId(n);let f=A.OriginId.SERVICE;n=this.sublayersSourceJSON[A.OriginId.SERVICE].layers;let Q=this.sublayersSourceJSON[A.OriginId.SERVICE].context,T=null;var J=[A.OriginId.PORTAL_ITEM,A.OriginId.WEB_SCENE,A.OriginId.WEB_MAP].filter(K=>K<=v);for(var da of J)J=this.sublayersSourceJSON[da],ba.isSublayerOverhaul(J.layers)&&(f=da,n=J.layers,Q=J.context,J.visibleLayers&&(T={visibleLayers:J.visibleLayers,context:J.context}));
da=[A.OriginId.PORTAL_ITEM,A.OriginId.WEB_SCENE,A.OriginId.WEB_MAP].filter(K=>K>f&&K<=v);let R=null;for(var U of da){const {layers:K,visibleLayers:la,context:ja}=this.sublayersSourceJSON[U];K&&(R={layers:K,context:ja});la&&(T={visibleLayers:la,context:ja})}U=G(n,Q);const E=new Map,ma=new Set;if(R)for(const K of R.layers)E.set(K.id,K);if(T)for(const K of T.visibleLayers)ma.add(K);O(U,K=>{R&&K.read(E.get(K.id),R.context);T&&K.read({defaultVisibility:ma.has(K.id)},T.context)});return{origin:A.idToName(f),
sublayers:new C({items:U})}};H.read=function(n,v){m.prototype.read.call(this,n,v);this.readSublayers(n,v)};H._handleSublayersChange=function(n,v){v&&(v.forEach(f=>{f.parent=null;f.layer=null}),this.handles.remove("sublayers-owner"));n&&(n.forEach(f=>{f.parent=this;f.layer=this}),this.handles.add([n.on("after-add",({item:f})=>{f.parent=this;f.layer=this}),n.on("after-remove",({item:f})=>{f.parent=null;f.layer=null})],"sublayers-owner"),"tile"===this.type&&this.handles.add(n.on("before-changes",f=>
{k.error(new h("tilelayer:sublayers-non-modifiable","ISublayer can't be added, moved, or removed from the layer's sublayers",{layer:this}));f.preventDefault()}),"sublayers-owner"))};return u}(l);c.__decorate([x.property({readOnly:!0})],l.prototype,"allSublayers",void 0);c.__decorate([x.property({readOnly:!0,type:d.ofType(aa)})],l.prototype,"serviceSublayers",void 0);c.__decorate([x.property({value:null,type:C,json:{read:!1,write:{allowNull:!0,ignoreOrigin:!0}}})],l.prototype,"sublayers",void 0);c.__decorate([x.property({readOnly:!0})],
l.prototype,"sublayersSourceJSON",void 0);return l=c.__decorate([ia.subclass("esri.layers.mixins.SublayersOwner")],l)};w.forEachSublayer=O;Object.defineProperty(w,"__esModule",{value:!0})})},"esri/layers/support/Sublayer":function(){define("require ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../PopupTemplate ../../renderers/ClassBreaksRenderer ../../renderers/DictionaryRenderer ../../renderers/DotDensityRenderer ../../renderers/HeatmapRenderer ../../renderers/Renderer ../../renderers/SimpleRenderer ../../renderers/UniqueValueRenderer ../../renderers/support/jsonUtils ../../renderers/support/types ../../request ../../symbols ../../core/Collection ../../core/Error ../../core/HandleOwner ../../core/Identifiable ../../core/lang ../../core/Loadable ../../core/Logger ../../core/maybe ../../core/MultiOriginJSONSupport ../../core/urlUtils ../../core/accessorSupport/decorators/property ../../core/accessorSupport/utils ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../core/accessorSupport/PropertyOrigin ./FeatureType ./Field ./FieldsIndex ./LabelClass ./LayerFloorInfo ./source/DataLayerSource ./source/MapLayerSource ../../rest/support/Query ../../support/popupUtils ../../views/support/floorFilterUtils ../../geometry/Extent".split(" "),
function(w,r,c,d,z,h,p,x,ca,Z,I,ha,ia,A,aa,ba,G,O,k,C,l,m,u,H,n,v,f,Q,T,J,da,R,U,E,ma,K,la,ja,na,X,g,y,L,M,N){function Y(F){return F&&"esriSMS"===F.type}function W(F,V,q){var a;F=this.originIdOf(V)>=E.nameToId(q.origin);return{ignoreOrigin:!0,allowNull:F,enabled:q?"map-image"===(null==(a=q.layer)?void 0:a.type)&&(q.writeSublayerStructure||F):!1}}function D(F,V,q){var a;return{enabled:q?"tile"===(null==(a=q.layer)?void 0:a.type)&&this._isOverridden(V):!1}}function P(F,V,q){return{ignoreOrigin:!0,enabled:q&&
q.writeSublayerStructure||!1}}function fa(F,V,q){return{ignoreOrigin:!0,enabled:q?q.writeSublayerStructure||this.originIdOf(V)>=E.nameToId(q.origin):!1}}var pa;const qa=u.getLogger("esri.layers.support.Sublayer");let sa=0;const ka=new Set;ka.add("layer");ka.add("parent");ka.add("loaded");ka.add("loadStatus");ka.add("loadError");ka.add("loadWarnings");d=pa=function(F){function V(a){a=F.call(this,a)||this;a.capabilities=void 0;a.fields=null;a.fullExtent=null;a.globalIdField=null;a.legendEnabled=!0;
a.objectIdField=null;a.popupEnabled=!0;a.popupTemplate=null;a.sourceJSON=null;a.title=null;a.typeIdField=null;a.types=null;return a}r._inheritsLoose(V,F);var q=V.prototype;q.load=function(){var a=r._asyncToGenerator(function*(b){var e=this;this.addResolvingPromise(r._asyncToGenerator(function*(){var t;if(!e.layer&&!e.url)throw new O("sublayer:missing-layer","Sublayer can't be loaded without being part of a layer",{sublayer:e});let B=null;if(!e.layer||e.originIdOf("url")>E.OriginId.SERVICE||"data-layer"===
(null==(t=e.source)?void 0:t.type))B=(yield aa(e.url,{responseType:"json",query:{f:"json"},...b})).data;else{var S;t=e.id;"map-layer"===(null==(S=e.source)?void 0:S.type)&&(t=e.source.mapLayerId);B=yield e.layer.fetchSublayerInfo(t,b)}B&&(e.sourceJSON=B,e.read({layerDefinition:B},{origin:"service"}))})());return this});return function(b){return a.apply(this,arguments)}}();q.readCapabilities=function(a,b){b=b.layerDefinition||b;a=(a=b.capabilities||a)?a.toLowerCase().split(",").map(e=>e.trim()):[];
return{exportMap:{supportsModification:!!b.canModifyLayer},operations:{supportsQuery:-1!==a.indexOf("query")}}};q.readGlobalIdFieldFromService=function(a,b){b=b.layerDefinition||b;if(b.globalIdField)return b.globalIdField;if(b.fields)for(const e of b.fields)if("esriFieldTypeGlobalID"===e.type)return e.name};q.writeLabelingInfo=function(a,b,e,t){a&&a.length&&(b.layerDefinition={drawingInfo:{labelingInfo:a.map(B=>B.write({},t))}})};q.readMinScale=function(a,b){return b.minScale||b.layerDefinition&&
b.layerDefinition.minScale||0};q.readMaxScale=function(a,b){return b.maxScale||b.layerDefinition&&b.layerDefinition.maxScale||0};q.readObjectIdFieldFromService=function(a,b){b=b.layerDefinition||b;if(b.objectIdField)return b.objectIdField;if(b.fields)for(const e of b.fields)if("esriFieldTypeOID"===e.type)return e.name};q.readOpacity=function(a,b){a=b.layerDefinition;return 1-.01*(null!=a.transparency?a.transparency:a.drawingInfo.transparency)};q.writeOpacity=function(a,b,e,t){b.layerDefinition={drawingInfo:{transparency:100-
100*a}}};q.writeParent=function(a,b){b.parentLayerId=this.parent&&this.parent!==this.layer?U.ensureInteger(this.parent.id):-1};q.castSublayers=function(a){return U.ensureType(G.ofType(pa),a)};q.writeSublayers=function(a,b,e){this.get("sublayers.length")&&(b[e]=this.sublayers.map(t=>t.id).toArray().reverse())};q.readTypeIdField=function(a,b){b=b.layerDefinition||b;let e=b.typeIdField;e&&b.fields&&(e=e.toLowerCase(),a=b.fields.find(t=>t.name.toLowerCase()===e))&&(e=a.name);return null};q.writeVisible=
function(a,b,e,t){b[e]=this.getAtOrigin("defaultVisibility","service")||a};q.clone=function(){const {store:a}=Q.getProperties(this),b=new pa;Q.getProperties(b).store=a.clone(ka);this.commitProperty("url");b._lastParsedUrl=this._lastParsedUrl;return b};q.createPopupTemplate=function(a){return L.createPopupTemplate(this,a)};q.createQuery=function(){return new y({returnGeometry:!0,where:this.definitionExpression||"1\x3d1"})};q.createFeatureLayer=function(){var a=r._asyncToGenerator(function*(){var b,
e;if(this.hasOwnProperty("sublayers"))return null;const t=null==(b=this.layer)?void 0:b.parsedUrl;b=new (yield new Promise((B,S)=>w(["../FeatureLayer"],ea=>B(Object.freeze({__proto__:null,default:ea})),S))).default({url:t.path});t&&this.source&&("map-layer"===this.source.type?b.layerId=this.source.mapLayerId:b.dynamicDataSource=this.source);null!=this.layer.refreshInterval&&(b.refreshInterval=this.layer.refreshInterval);this.definitionExpression&&(b.definitionExpression=this.definitionExpression);
this.floorInfo&&(b.floorInfo=l.clone(this.floorInfo));this.originIdOf("labelingInfo")>E.OriginId.SERVICE&&(b.labelingInfo=l.clone(this.labelingInfo));this.originIdOf("labelsVisible")>E.OriginId.DEFAULTS&&(b.labelsVisible=this.labelsVisible);this.originIdOf("legendEnabled")>E.OriginId.DEFAULTS&&(b.legendEnabled=this.legendEnabled);this.originIdOf("visible")>E.OriginId.DEFAULTS&&(b.visible=this.visible);this.originIdOf("minScale")>E.OriginId.DEFAULTS&&(b.minScale=this.minScale);this.originIdOf("maxScale")>
E.OriginId.DEFAULTS&&(b.maxScale=this.maxScale);this.originIdOf("opacity")>E.OriginId.DEFAULTS&&(b.opacity=this.opacity);this.originIdOf("popupTemplate")>E.OriginId.DEFAULTS&&(b.popupTemplate=l.clone(this.popupTemplate));this.originIdOf("renderer")>E.OriginId.SERVICE&&(b.renderer=l.clone(this.renderer));"data-layer"===(null==(e=this.source)?void 0:e.type)&&(b.dynamicDataSource=this.source.clone());this.originIdOf("title")>E.OriginId.DEFAULTS&&(b.title=this.title);"map-image"===this.layer.type&&this.layer.originIdOf("customParameters")>
E.OriginId.DEFAULTS&&(b.customParameters=this.layer.customParameters);"tile"===this.layer.type&&this.layer.originIdOf("customParameters")>E.OriginId.DEFAULTS&&(b.customParameters=this.layer.customParameters);return b});return function(){return a.apply(this,arguments)}}();q.getField=function(a){return this.fieldsIndex.get(a)};q.getFeatureType=function(a){const {typeIdField:b,types:e}=this;if(!b||!a)return null;const t=a.attributes?a.attributes[b]:void 0;if(null==t)return null;let B=null;e.some(S=>
{const {id:ea}=S;if(null==ea)return!1;ea.toString()===t.toString()&&(B=S);return!!B});return B};q.getFieldDomain=function(a,b){return(b=this.getFeatureType(b&&b.feature))&&(b=b.domains&&b.domains[a])&&"inherited"!==b.type?b:this._getLayerDomain(a)};q.queryFeatures=function(){var a=r._asyncToGenerator(function*(b=this.createQuery(),e){var t,B,S,ea;yield this.load();if(!this.get("capabilities.operations.supportsQuery"))throw new O("Sublayer.queryFeatures","this layer doesn't support queries.");const [{executeQuery:ta},
{default:ua}]=yield Promise.all([new Promise((oa,ra)=>w(["../../rest/query/operations/query"],oa,ra)),new Promise((oa,ra)=>w(["../../rest/support/FeatureSet"],va=>oa(Object.freeze({__proto__:null,default:va})),ra))]);b=yield ta(this.url,y.from(b),null!=(t=null==(B=this.layer)?void 0:B.spatialReference)?t:null,{...e,query:{...null==(S=this.layer)?void 0:S.customParameters,token:null==(ea=this.layer)?void 0:ea.apiKey}});t=ua.fromJSON(b.data);if(null!=t&&t.features)for(const oa of t.features)oa.sourceLayer=
this;return t});return function(){return a.apply(this,arguments)}}();q.toExportImageJSON=function(a){var b;const e={id:this.id,source:(null==(b=this.source)?void 0:b.toJSON())||{mapLayerId:this.id,type:"mapLayer"}};this.definitionExpression?(a=H.isSome(a)?M.combineFloorsDefinitionExpression(a,this):this.definitionExpression,e.definitionExpression=a):H.isSome(a)&&(e.definitionExpression=a);const t=["renderer","labelingInfo","opacity","labelsVisible"].reduce((B,S)=>{B[S]=this.originIdOf(S);return B},
{});Object.keys(t).some(B=>t[B]>E.OriginId.SERVICE)&&(a=e.drawingInfo={},t.renderer>E.OriginId.SERVICE&&(a.renderer=this.renderer?this.renderer.toJSON():null),t.labelsVisible>E.OriginId.SERVICE&&(a.showLabels=this.labelsVisible),this.labelsVisible&&t.labelingInfo>E.OriginId.SERVICE&&(a.labelingInfo=this.labelingInfo?this.labelingInfo.map(B=>B.write({},{origin:"service",layer:this.layer})):null,a.showLabels=!0),t.opacity>E.OriginId.SERVICE&&(a.transparency=100-100*this.opacity),this._assignDefaultSymbolColors(a.renderer));
return e};q._assignDefaultSymbolColors=function(a){this._forEachSimpleMarkerSymbols(a,b=>{b.color||"esriSMSX"!==b.style&&"esriSMSCross"!==b.style||(b.color=b.outline&&b.outline.color?b.outline.color:[0,0,0,0])})};q._forEachSimpleMarkerSymbols=function(a,b){if(a){const e="uniqueValueInfos"in a?a.uniqueValueInfos:"classBreakInfos"in a?a.classBreakInfos:[];for(const t of e)Y(t.symbol)&&b(t.symbol);"symbol"in a&&Y(a.symbol)&&b(a.symbol);"defaultSymbol"in a&&Y(a.defaultSymbol)&&b(a.defaultSymbol)}};q._setAndNotifyLayer=
function(a,b){const e=this.layer,t=this._get(a);let B,S;switch(a){case "definitionExpression":case "floorInfo":B="supportsSublayerDefinitionExpression";case "minScale":case "maxScale":case "visible":B="supportsSublayerVisibility";break;case "labelingInfo":case "labelsVisible":case "opacity":case "renderer":case "source":B="supportsDynamicLayers",S="supportsModification"}const ea=Q.getProperties(this).getDefaultOrigin();if("service"!==ea){if(B&&!1===this.get(`layer.capabilities.exportMap.${B}`)){this._logLockedError(a,
`capability not available 'layer.capabilities.exportMap.${B}'`);return}if(S&&!1===this.get(`capabilities.exportMap.${S}`)){this._logLockedError(a,`capability not available 'capabilities.exportMap.${S}'`);return}}"source"===a&&"not-loaded"!==this.loadStatus?this._logLockedError(a,"'source' can't be changed after calling sublayer.load()"):(this._set(a,b),"service"!==ea&&t!==b&&e&&e.emit&&e.emit("sublayer-update",{propertyName:a,target:this}))};q._handleSublayersChange=function(a,b){b&&(b.forEach(e=>
{e.parent=null;e.layer=null}),this.handles.removeAll());a&&(a.forEach(e=>{e.parent=this;e.layer=this.layer}),this.handles.add([a.on("after-add",({item:e})=>{e.parent=this;e.layer=this.layer}),a.on("after-remove",({item:e})=>{e.parent=null;e.layer=null}),a.on("before-changes",e=>{const t=this.get("layer.capabilities.exportMap.supportsSublayersChanges");null==t||t||(qa.error(new O("sublayer:sublayers-non-modifiable","Sublayer can't be added, moved, or removed from the layer's sublayers",{sublayer:this,
layer:this.layer})),e.preventDefault())})]))};q._logLockedError=function(a,b){qa.error(new O("sublayer:locked",`Property '${a}' can't be changed on Sublayer from the layer '${this.layer.id}'`,{reason:b,sublayer:this,layer:this.layer}))};q._getLayerDomain=function(a){return(a=this.fieldsIndex.get(a))?a.domain:null};r._createClass(V,[{key:"definitionExpression",set:function(a){this._setAndNotifyLayer("definitionExpression",a)}},{key:"fieldsIndex",get:function(){return new la(this.fields||[])}},{key:"floorInfo",
set:function(a){this._setAndNotifyLayer("floorInfo",a)}},{key:"id",get:function(){const a=this._get("id");return null==a?sa++:a},set:function(a){this._get("id")!==a&&(!1===this.get("layer.capabilities.exportMap.supportsDynamicLayers")?this._logLockedError("id","capability not available 'layer.capabilities.exportMap.supportsDynamicLayers'"):this._set("id",a))}},{key:"labelingInfo",set:function(a){this._setAndNotifyLayer("labelingInfo",a)}},{key:"labelsVisible",set:function(a){this._setAndNotifyLayer("labelsVisible",
a)}},{key:"layer",set:function(a){this._set("layer",a);this.sublayers&&this.sublayers.forEach(b=>b.layer=a)}},{key:"listMode",set:function(a){this._set("listMode",a)}},{key:"minScale",set:function(a){this._setAndNotifyLayer("minScale",a)}},{key:"maxScale",set:function(a){this._setAndNotifyLayer("maxScale",a)}},{key:"effectiveScaleRange",get:function(){const {minScale:a,maxScale:b}=this;return{minScale:a,maxScale:b}}},{key:"opacity",set:function(a){this._setAndNotifyLayer("opacity",a)}},{key:"defaultPopupTemplate",
get:function(){return this.createPopupTemplate()}},{key:"renderer",set:function(a){if(a)for(const b of a.getSymbols())if(ba.isSymbol3D(b)){qa.warn("Sublayer renderer should use 2D symbols");break}this._setAndNotifyLayer("renderer",a)}},{key:"source",get:function(){return this._get("source")||new g.MapLayerSource({mapLayerId:this.id})},set:function(a){this._setAndNotifyLayer("source",a)}},{key:"sublayers",set:function(a){this._handleSublayersChange(a,this._get("sublayers"));this._set("sublayers",a)}},
{key:"url",get:function(){var a,b;const e=null!=(a=null==(b=this.layer)?void 0:b.parsedUrl)?a:this._lastParsedUrl;a=this.source;if(!e)return null;this._lastParsedUrl=e;if("map-layer"===(null==a?void 0:a.type))return`${e.path}/${a.mapLayerId}`;a={layer:JSON.stringify({source:this.source})};return`${e.path}/dynamicLayer?${v.objectToQuery(a)}`},set:function(a){a?this._override("url",a):this._clearOverride("url")}},{key:"visible",set:function(a){this._setAndNotifyLayer("visible",a)}}]);return V}(k.HandleOwnerMixin(n.MultiOriginJSONMixin(C.IdentifiableMixin(m))));
d.test={isMapImageLayerOverridePolicy:F=>F===P||F===W,isTileImageLayerOverridePolicy:F=>F===D};c.__decorate([f.property({readOnly:!0})],d.prototype,"capabilities",void 0);c.__decorate([J.reader("service","capabilities",["layerDefinition.canModifyLayer","layerDefinition.capabilities"])],d.prototype,"readCapabilities",null);c.__decorate([f.property({type:String,value:null,json:{name:"layerDefinition.definitionExpression",write:{allowNull:!0,overridePolicy:W}}})],d.prototype,"definitionExpression",null);
c.__decorate([f.property({type:[K],json:{origins:{service:{read:{source:"layerDefinition.fields"}}}}})],d.prototype,"fields",void 0);c.__decorate([f.property({readOnly:!0})],d.prototype,"fieldsIndex",null);c.__decorate([f.property({type:na,value:null,json:{name:"layerDefinition.floorInfo",read:{source:"layerDefinition.floorInfo"},write:{target:"layerDefinition.floorInfo",overridePolicy:W},origins:{"web-scene":{read:!1,write:!1}}}})],d.prototype,"floorInfo",null);c.__decorate([f.property({type:N,json:{read:{source:"layerDefinition.extent"}}})],
d.prototype,"fullExtent",void 0);c.__decorate([f.property({type:String})],d.prototype,"globalIdField",void 0);c.__decorate([J.reader("service","globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],d.prototype,"readGlobalIdFieldFromService",null);c.__decorate([f.property({type:U.Integer,json:{write:{ignoreOrigin:!0}}})],d.prototype,"id",null);c.__decorate([f.property({value:null,type:[ja],json:{read:{source:"layerDefinition.drawingInfo.labelingInfo"},write:{target:"layerDefinition.drawingInfo.labelingInfo",
overridePolicy:P}}})],d.prototype,"labelingInfo",null);c.__decorate([R.writer("labelingInfo")],d.prototype,"writeLabelingInfo",null);c.__decorate([f.property({type:Boolean,value:!0,json:{read:{source:"layerDefinition.drawingInfo.showLabels"},write:{target:"layerDefinition.drawingInfo.showLabels",overridePolicy:P}}})],d.prototype,"labelsVisible",null);c.__decorate([f.property({value:null})],d.prototype,"layer",null);c.__decorate([f.property({type:Boolean,value:!0,json:{origins:{service:{read:{enabled:!1}}},
read:{source:"showLegend"},write:{target:"showLegend",overridePolicy:fa}}})],d.prototype,"legendEnabled",void 0);c.__decorate([f.property({type:["show","hide","hide-children"],value:"show",json:{read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],d.prototype,"listMode",null);c.__decorate([f.property({type:Number,value:0,json:{write:{overridePolicy:P}}})],d.prototype,"minScale",null);c.__decorate([J.reader("minScale",["minScale","layerDefinition.minScale"])],d.prototype,"readMinScale",null);
c.__decorate([f.property({type:Number,value:0,json:{write:{overridePolicy:P}}})],d.prototype,"maxScale",null);c.__decorate([J.reader("maxScale",["maxScale","layerDefinition.maxScale"])],d.prototype,"readMaxScale",null);c.__decorate([f.property({readOnly:!0})],d.prototype,"effectiveScaleRange",null);c.__decorate([f.property({type:String})],d.prototype,"objectIdField",void 0);c.__decorate([J.reader("service","objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],d.prototype,"readObjectIdFieldFromService",
null);c.__decorate([f.property({type:Number,value:1,json:{write:{target:"layerDefinition.drawingInfo.transparency",overridePolicy:P}}})],d.prototype,"opacity",null);c.__decorate([J.reader("opacity",["layerDefinition.drawingInfo.transparency","layerDefinition.transparency"])],d.prototype,"readOpacity",null);c.__decorate([R.writer("opacity")],d.prototype,"writeOpacity",null);c.__decorate([f.property({json:{type:U.Integer,write:{target:"parentLayerId",writerEnsuresNonNull:!0,overridePolicy:P}}})],d.prototype,
"parent",void 0);c.__decorate([R.writer("parent")],d.prototype,"writeParent",null);c.__decorate([f.property({type:Boolean,value:!0,json:{read:{source:"disablePopup",reader(F,V){return!V.disablePopup}},write:{target:"disablePopup",overridePolicy:fa,writer(F,V,q){V[q]=!F}}}})],d.prototype,"popupEnabled",void 0);c.__decorate([f.property({type:z,json:{read:{source:"popupInfo"},write:{target:"popupInfo",overridePolicy:fa}}})],d.prototype,"popupTemplate",void 0);c.__decorate([f.property({readOnly:!0})],
d.prototype,"defaultPopupTemplate",null);c.__decorate([f.property({types:A.rendererTypes,value:null,json:{name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:P},origins:{"web-scene":{types:A.webSceneRendererTypes,name:"layerDefinition.drawingInfo.renderer",write:{overridePolicy:P}}}}})],d.prototype,"renderer",null);c.__decorate([f.property({types:{key:"type",base:null,typeMap:{"data-layer":X.DataLayerSource,"map-layer":g.MapLayerSource}},cast(F){if(F){if("mapLayerId"in F)return U.ensureClass(g.MapLayerSource,
F);if("dataSource"in F)return U.ensureClass(X.DataLayerSource,F)}return F},json:{name:"layerDefinition.source",write:{overridePolicy:P}}})],d.prototype,"source",null);c.__decorate([f.property()],d.prototype,"sourceJSON",void 0);c.__decorate([f.property({value:null,json:{type:[U.Integer],write:{target:"subLayerIds",allowNull:!0,overridePolicy:P}}})],d.prototype,"sublayers",null);c.__decorate([T.cast("sublayers")],d.prototype,"castSublayers",null);c.__decorate([R.writer("sublayers")],d.prototype,"writeSublayers",
null);c.__decorate([f.property({type:String,json:{name:"name",write:{overridePolicy:fa}}})],d.prototype,"title",void 0);c.__decorate([f.property({type:String})],d.prototype,"typeIdField",void 0);c.__decorate([J.reader("typeIdField",["layerDefinition.typeIdField"])],d.prototype,"readTypeIdField",null);c.__decorate([f.property({type:[ma],json:{origins:{service:{read:{source:"layerDefinition.types"}}}}})],d.prototype,"types",void 0);c.__decorate([f.property({type:String,json:{read:{source:"layerUrl"},
write:{target:"layerUrl",overridePolicy:D}}})],d.prototype,"url",null);c.__decorate([f.property({type:Boolean,value:!0,json:{read:{source:"defaultVisibility"},write:{target:"defaultVisibility",overridePolicy:P}}})],d.prototype,"visible",null);c.__decorate([R.writer("visible")],d.prototype,"writeVisible",null);return d=pa=c.__decorate([da.subclass("esri.layers.support.Sublayer")],d)})},"esri/layers/support/sublayerUtils":function(){define(["exports","../../core/accessorSupport/PropertyOrigin"],function(w,
r){function c(d,z){if(!d||!d.length)return!0;z=z.slice().reverse().flatten(({sublayers:x})=>x&&x.toArray().reverse()).map(x=>x.id).toArray();if(d.length>z.length)return!1;let h=0;const p=z.length;for(const {id:x}of d){for(;h<p&&z[h]!==x;)h++;if(h>=p)return!1}return!0}w.isExportDynamic=function(d,z,h){return d.some(p=>{const x=p.source;return!(!x||"map-layer"===x.type&&x.mapLayerId===p.id&&(!x.gdbVersion||x.gdbVersion===h.gdbVersion))||p.originIdOf("renderer")>r.OriginId.SERVICE||p.originIdOf("labelingInfo")>
r.OriginId.SERVICE||p.originIdOf("opacity")>r.OriginId.SERVICE||p.originIdOf("labelsVisible")>r.OriginId.SERVICE})?!0:!c(d,z)};w.isSublayerOverhaul=function(d){return!!d&&d.some(z=>null!=z.minScale||z.layerDefinition&&null!=z.layerDefinition.minScale)};w.shouldWriteSublayerStructure=function(d,z,h){return z.flatten(({sublayers:p})=>p).length!==d.length||d.some(p=>p.originIdOf("minScale")>h||p.originIdOf("maxScale")>h||p.originIdOf("renderer")>h||p.originIdOf("labelingInfo")>h||p.originIdOf("opacity")>
h||p.originIdOf("labelsVisible")>h||p.originIdOf("source")>h)?!0:!c(d,z)};Object.defineProperty(w,"__esModule",{value:!0})})},"esri/layers/support/ExportImageParameters":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/HandleOwner ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./commonProperties ./sublayerUtils ../../views/support/floorFilterUtils".split(" "),
function(w,r,c,d,z,h,p,x,ca,Z,I,ha,ia,A){const aa={visible:"visibleSublayers",definitionExpression:"layerDefs",labelingInfo:"hasDynamicLayers",labelsVisible:"hasDynamicLayers",opacity:"hasDynamicLayers",minScale:"visibleSublayers",maxScale:"visibleSublayers",renderer:"hasDynamicLayers",source:"hasDynamicLayers"};w.ExportImageParameters=function(ba){function G(k){k=ba.call(this,k)||this;k.floors=null;k.scale=0;return k}r._inheritsLoose(G,ba);var O=G.prototype;O.destroy=function(){this.layer=null};
O.toJSON=function(){var k=this.layer;k={dpi:k.dpi,format:k.imageFormat,transparent:k.imageTransparency,gdbVersion:k.gdbVersion||null};this.hasDynamicLayers&&this.dynamicLayers?k.dynamicLayers=this.dynamicLayers:k={...k,layers:this.layers,layerDefs:this.layerDefs};return k};r._createClass(G,[{key:"dynamicLayers",get:function(){if(!this.hasDynamicLayers)return null;const k=this.visibleSublayers.map(C=>{const l=A.getLayerFloorFilterClause(this.floors,C);return C.toExportImageJSON(l)});return k.length?
JSON.stringify(k):null}},{key:"hasDynamicLayers",get:function(){return this.layer&&ia.isExportDynamic(this.visibleSublayers,this.layer.serviceSublayers,this.layer)}},{key:"layer",set:function(k){this._get("layer")!==k&&(this._set("layer",k),this.handles.remove("layer"),k&&this.handles.add([k.allSublayers.on("change",()=>this.notifyChange("visibleSublayers")),k.on("sublayer-update",C=>this.notifyChange(aa[C.propertyName]))],"layer"))}},{key:"layers",get:function(){const k=this.visibleSublayers;return k?
k.length?"show:"+k.map(C=>C.id).join(","):"show:-1":null}},{key:"layerDefs",get:function(){var k;const C=!(null==(k=this.floors)||!k.length);k=this.visibleSublayers.filter(l=>null!=l.definitionExpression||C&&null!=l.floorInfo);return k.length?JSON.stringify(k.reduce((l,m)=>{var u=A.getLayerFloorFilterClause(this.floors,m);u=h.isSome(u)?A.combineFloorsDefinitionExpression(u,m):m.definitionExpression;l[m.id]=u;return l},{})):null}},{key:"version",get:function(){this.commitProperty("layers");this.commitProperty("layerDefs");
this.commitProperty("dynamicLayers");this.commitProperty("timeExtent");const k=this.layer;k&&(k.commitProperty("dpi"),k.commitProperty("imageFormat"),k.commitProperty("imageTransparency"),k.commitProperty("gdbVersion"));return(this._get("version")||0)+1}},{key:"visibleSublayers",get:function(){const k=[];if(!this.layer)return k;var C=this.layer.sublayers;const l=m=>{const u=this.scale,H=0===m.minScale||u<=m.minScale,n=0===m.maxScale||u>=m.maxScale;m.visible&&(0===u||H&&n)&&(m.sublayers?m.sublayers.forEach(l):
k.unshift(m))};C&&C.forEach(l);C=this._get("visibleSublayers");return!C||C.length!==k.length||C.some((m,u)=>k[u]!==m)?k:C}}]);return G}(z.HandleOwnerMixin(d));c.__decorate([p.property({readOnly:!0})],w.ExportImageParameters.prototype,"dynamicLayers",null);c.__decorate([p.property()],w.ExportImageParameters.prototype,"floors",void 0);c.__decorate([p.property({readOnly:!0})],w.ExportImageParameters.prototype,"hasDynamicLayers",null);c.__decorate([p.property()],w.ExportImageParameters.prototype,"layer",
null);c.__decorate([p.property({readOnly:!0})],w.ExportImageParameters.prototype,"layers",null);c.__decorate([p.property({readOnly:!0})],w.ExportImageParameters.prototype,"layerDefs",null);c.__decorate([p.property({type:Number})],w.ExportImageParameters.prototype,"scale",void 0);c.__decorate([p.property(ha.combinedViewLayerTimeExtentProperty)],w.ExportImageParameters.prototype,"timeExtent",void 0);c.__decorate([p.property({readOnly:!0})],w.ExportImageParameters.prototype,"version",null);c.__decorate([p.property({readOnly:!0})],
w.ExportImageParameters.prototype,"visibleSublayers",null);w.ExportImageParameters=c.__decorate([I.subclass("esri.layers.mixins.ExportImageParameters")],w.ExportImageParameters);Object.defineProperty(w,"__esModule",{value:!0})})},"*noref":1}});
define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../request ../TimeExtent ../core/Error ../core/HandleOwner ../core/loadAll ../core/maybe ../core/MultiOriginJSONSupport ../core/promiseUtils ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass ../core/accessorSupport/decorators/writer ../core/accessorSupport/PropertyOrigin ../geometry/Extent ../geometry/support/scaleUtils ./Layer ./mixins/APIKeyMixin ./mixins/ArcGISMapService ./mixins/ArcGISService ./mixins/BlendLayer ./mixins/CustomParametersMixin ./mixins/OperationalLayer ./mixins/PortalLayer ./mixins/RefreshableLayer ./mixins/ScaleRangeLayer ./mixins/SublayersOwner ./mixins/TemporalLayer ./support/commonProperties ./support/ExportImageParameters ./support/Sublayer ./support/sublayerUtils ./support/versionUtils".split(" "),function(w,
r,c,d,z,h,p,x,ca,Z,I,ha,ia,A,aa,ba,G,O,k,C,l,m,u,H,n,v,f,Q,T,J,da,R,U,E,ma,K,la){h=function(ja){function na(...g){g=ja.call(this,...g)||this;g.datesInUnknownTimezone=!1;g.dpi=96;g.gdbVersion=null;g.imageFormat="png24";g.imageMaxHeight=2048;g.imageMaxWidth=2048;g.imageTransparency=!0;g.isReference=null;g.labelsVisible=!1;g.operationalLayerType="ArcGISMapServiceLayer";g.sourceJSON=null;g.sublayers=null;g.type="map-image";g.url=null;return g}w._inheritsLoose(na,ja);var X=na.prototype;X.normalizeCtorArgs=
function(g,y){return"string"===typeof g?{url:g,...y}:g};X.load=function(g){const y=x.isSome(g)?g.signal:null;this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Map Service"]},g).catch(Z.throwIfAbortError).then(()=>this._fetchService(y)));return Promise.resolve(this)};X.readImageFormat=function(g,y){return(g=y.supportedImageFormatTypes)&&-1<g.indexOf("PNG32")?"png32":"png24"};X.writeSublayers=function(g,y,L,M){if(this.loaded&&g){g=g.slice().reverse().flatten(({sublayers:D})=>D&&D.toArray().reverse()).toArray();
L=!1;if(this.capabilities&&this.capabilities.operations.supportsExportMap&&this.capabilities.exportMap.supportsDynamicLayers){const D=O.nameToId(M.origin);D===O.OriginId.PORTAL_ITEM?(L=this.createSublayersForOrigin("service").sublayers,L=K.shouldWriteSublayerStructure(g,L,O.OriginId.SERVICE)):D>O.OriginId.PORTAL_ITEM&&(L=this.createSublayersForOrigin("portal-item"),L=K.shouldWriteSublayerStructure(g,L.sublayers,O.nameToId(L.origin)))}var N=[],Y={writeSublayerStructure:L,...M},W=L;g.forEach(D=>{const P=
D.write({},Y);N.push(P);W=W||"user"===D.originOf("visible")});N.some(D=>1<Object.keys(D).length)&&(y.layers=N);W&&(y.visibleLayers=g.filter(D=>D.visible).map(D=>D.id))}};X.createExportImageParameters=function(g,y,L,M){var N=M&&M.pixelRatio||1;g&&10<=this.version&&(g=g.clone().shiftCentralMeridian());var Y=new E.ExportImageParameters({layer:this,floors:null==M?void 0:M.floors,scale:C.getScale({extent:g,width:y})*N});const W=Y.toJSON();Y.destroy();Y=!M||!M.rotation||10.3>this.version?{}:{rotation:-M.rotation};
var D=g&&g.spatialReference;D=D.wkid||JSON.stringify(D.toJSON());W.dpi*=N;N={};if(null!=M&&M.timeExtent){const {start:P,end:fa}=M.timeExtent.toJSON();N.time=P&&fa&&P===fa?""+P:`${null==P?"null":P},${null==fa?"null":fa}`}else this.timeInfo&&!this.timeInfo.hasLiveData&&(N.time="null,null");return{bbox:g&&g.xmin+","+g.ymin+","+g.xmax+","+g.ymax,bboxSR:D,imageSR:D,size:y+","+L,...W,...Y,...N}};X.fetchImage=function(){var g=w._asyncToGenerator(function*(y,L,M,N){var Y;y={responseType:"image",signal:null!=
(Y=null==N?void 0:N.signal)?Y:null,query:{...this.parsedUrl.query,...this.createExportImageParameters(y,L,M,N),f:"image",...this.refreshParameters,...this.customParameters,token:this.apiKey}};const W=this.parsedUrl.path+"/export";return null==y.query.dynamicLayers||this.capabilities.exportMap.supportsDynamicLayers?c(W,y).then(D=>D.data).catch(D=>{if(Z.isAbortError(D))throw D;throw new z("mapimagelayer:image-fetch-error",`Unable to load image: ${W}`,{error:D});}):Promise.reject(new z("mapimagelayer:dynamiclayer-not-supported",
`service ${this.url} doesn't support dynamic layers, which is required to be able to change the sublayer's order, rendering, labeling or source.`,{query:y.query}))});return function(y,L,M,N){return g.apply(this,arguments)}}();X.fetchRecomputedExtents=function(){var g=w._asyncToGenerator(function*(y={}){({data:y}=yield c(this.url,{...y,query:{returnUpdates:!0,f:"json",...this.customParameters,token:this.apiKey}}));const {extent:L,fullExtent:M,timeExtent:N}=y;y=L||M;return{fullExtent:y&&k.fromJSON(y),
timeExtent:N&&d.fromJSON({start:N[0],end:N[1]})}});return function(){return g.apply(this,arguments)}}();X.loadAll=function(){return p.loadAll(this,g=>{g(this.allSublayers)})};X.serviceSupportsSpatialReference=function(g){return la.serviceSupportsSpatialReference(this,g)};X._fetchService=function(){var g=w._asyncToGenerator(function*(y){if(this.sourceJSON)this.read(this.sourceJSON,{origin:"service",url:this.parsedUrl});else{var {data:L,ssl:M}=yield c(this.parsedUrl.path,{query:{f:"json",...this.parsedUrl.query,
...this.customParameters,token:this.apiKey},signal:y});M&&(this.url=this.url.replace(/^http:/i,"https:"));this.sourceJSON=L;this.read(L,{origin:"service",url:this.parsedUrl})}});return function(y){return g.apply(this,arguments)}}();return na}(n.BlendLayer(R.TemporalLayer(J.ScaleRangeLayer(da.SublayersOwner(u.ArcGISMapService(H.ArcGISService(f.OperationalLayer(Q.PortalLayer(ca.MultiOriginJSONMixin(T.RefreshableLayer(m.APIKeyMixin(v.CustomParametersMixin(h.HandleOwnerMixin(l))))))))))))));r.__decorate([I.property({type:Boolean})],
h.prototype,"datesInUnknownTimezone",void 0);r.__decorate([I.property()],h.prototype,"dpi",void 0);r.__decorate([I.property()],h.prototype,"gdbVersion",void 0);r.__decorate([I.property()],h.prototype,"imageFormat",void 0);r.__decorate([aa.reader("imageFormat",["supportedImageFormatTypes"])],h.prototype,"readImageFormat",null);r.__decorate([I.property({json:{origins:{service:{read:{source:"maxImageHeight"}}}}})],h.prototype,"imageMaxHeight",void 0);r.__decorate([I.property({json:{origins:{service:{read:{source:"maxImageWidth"}}}}})],
h.prototype,"imageMaxWidth",void 0);r.__decorate([I.property()],h.prototype,"imageTransparency",void 0);r.__decorate([I.property({type:Boolean,json:{read:!1,write:{enabled:!0,overridePolicy:()=>({enabled:!1})}}})],h.prototype,"isReference",void 0);r.__decorate([I.property({json:{read:!1,write:!1}})],h.prototype,"labelsVisible",void 0);r.__decorate([I.property({type:["ArcGISMapServiceLayer"]})],h.prototype,"operationalLayerType",void 0);r.__decorate([I.property({json:{read:!1,write:!1}})],h.prototype,
"popupEnabled",void 0);r.__decorate([I.property()],h.prototype,"sourceJSON",void 0);r.__decorate([I.property({json:{write:{ignoreOrigin:!0}}})],h.prototype,"sublayers",void 0);r.__decorate([G.writer("sublayers",{layers:{type:[ma]},visibleLayers:{type:[A.Integer]}})],h.prototype,"writeSublayers",null);r.__decorate([I.property({type:["show","hide","hide-children"]})],h.prototype,"listMode",void 0);r.__decorate([I.property({json:{read:!1},readOnly:!0,value:"map-image"})],h.prototype,"type",void 0);r.__decorate([I.property(U.url)],
h.prototype,"url",void 0);return h=r.__decorate([ba.subclass("esri.layers.MapImageLayer")],h)});