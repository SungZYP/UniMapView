// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
define(["exports","../../../../core/screenUtils"],function(n,m){function p(a){a=a.toRgba();return[a[0]/255,a[1]/255,a[2]/255,a[3]]}n.createFlowRendererSettings=function(a){if(a.hasVisualVariables("size")){var b=a.getVisualVariablesForType("size")[0];var c=[];var e=[];if(b.stops){for(var l of b.stops)c.push(l.value),e.push(l.size);b=b.stops.length}else c.push(b.minDataValue,b.maxDataValue),e.push(b.minSize,b.maxSize),b=2;c={kind:"ramp",stops:c,values:e,count:b}}else c={kind:"constant",value:[m.pt2px(a.trailWidth)]};
e="constant"===c.kind?c.value[0]:c.values[c.values.length-1];b=2*e;l=Math.round(m.pt2px(a.maxPathLength)/b)+1;if(a.hasVisualVariables("color")){var d=a.getVisualVariablesForType("color")[0],f=[],g=[];for(h of d.stops)f.push(h.value),Array.prototype.push.apply(g,p(h.color));var h={kind:"ramp",stops:f,values:g,count:d.stops.length}}else h={kind:"constant",value:p(a.color)};if(a.hasVisualVariables("opacity")){d=a.getVisualVariablesForType("opacity")[0];f=[];g=[];for(k of d.stops)f.push(k.value),g.push(k.opacity);
var k={kind:"ramp",stops:f,values:g,count:d.stops.length}}else k={kind:"constant",value:[1]};const {flowSpeed:q,trailLength:r,density:t}=a;d=m.pt2px(a.smoothing);return{lineRenderWidth:c,segmentLength:b,verticesPerLine:l,lineCollisionWidth:e,lineSpacing:10,lineColor:h,lineOpacity:k,lineSpeed:q,fadeDuration:r,density:t,smoothing:d,velocityScale:"flow-from"===a.flowRepresentation?1:-1,minWeightThreshold:.001,minSpeedThreshold:.001,maxTurnAngle:1,mergeLines:!0,interpolate:!0,profile:!1}};Object.defineProperty(n,
"__esModule",{value:!0})});