// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
define("../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/maybe ../enums ../Utils ./WGLGeometryBrush ../materialKey/MaterialKey ../../../../webgl/enums".split(" "),function(u,v,w,x,y,z,a){return function(n){function k(){return n.apply(this,arguments)||this}u._inheritsLoose(k,n);var l=k.prototype;l.dispose=function(){};l.getGeometryType=function(){return w.WGLGeometryType.MARKER};l.drawGeometry=function(d,f,g,h){const {context:e,painter:p,rendererInfo:m,state:q,passOptions:r}=d,b=
z.MarkerMaterialKey.load(g.materialKey),{bufferLayouts:A,attributes:t}=x.createProgramDescriptor(b.data,{geometry:[{location:0,name:"a_pos",count:2,type:a.DataType.SHORT},{location:1,name:"a_vertexOffset",count:2,type:a.DataType.SHORT},{location:2,name:"a_texCoords",count:2,type:a.DataType.UNSIGNED_SHORT},{location:3,name:"a_bitSetAndDistRatio",count:2,type:a.DataType.UNSIGNED_SHORT},{location:4,name:"a_id",count:4,type:a.DataType.UNSIGNED_BYTE},{location:5,name:"a_color",count:4,type:a.DataType.UNSIGNED_BYTE,
normalized:!0},{location:6,name:"a_outlineColor",count:4,type:a.DataType.UNSIGNED_BYTE,normalized:!0},{location:7,name:"a_sizeAndOutlineWidth",count:4,type:a.DataType.UNSIGNED_BYTE},{location:8,name:"a_zoomRange",count:2,type:a.DataType.UNSIGNED_SHORT}]}),c=p.materialManager.getMaterialProgram(d,b,"materials/icon",t,h);e.useProgram(c);b.textureBinding&&p.textureManager.bindTextures(e,c,b,!0);h=a.PrimitiveType.TRIANGLES;v.isSome(r)&&"hittest"===r.type&&(h=a.PrimitiveType.POINTS);this._setSharedUniforms(c,
d,f);c.setUniformMatrix3fv("u_displayMat3",b.vvRotation?q.displayViewMat3:q.displayMat3);this._setSizeVVUniforms(b,c,m,f);this._setColorAndOpacityVVUniforms(b,c,m);this._setRotationVVUniforms(b,c,m);d=g.target.getVAO(e,A,t);f=g.indexFrom*Uint32Array.BYTES_PER_ELEMENT;e.bindVAO(d);e.drawElements(h,g.indexCount,a.DataType.UNSIGNED_INT,f)};return k}(y)});