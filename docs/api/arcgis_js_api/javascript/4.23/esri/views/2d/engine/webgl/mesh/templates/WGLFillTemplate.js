// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
define("../../../../../../chunks/_rollupPluginBabelHelpers ../../../../../../core/screenUtils ../../color ../../definitions ../../GeometryUtils ../../number ../../materialKey/MaterialKey ./util ./WGLBaseFillTemplate ./WGLMeshTemplate".split(" "),function(C,x,A,g,D,t,E,w,F,G){return function(B){function n(a,b,d,e,p,m,q,l,h,r,c,k,u,y,z,v){var f=B.call(this)||this;f._effects=y;a=E.FillMaterialKey.load(a);b&&(a.sdf=b.sdf,a.pattern=!0,a.textureBinding=b.textureBinding);f.fillColor=d;f.tl=e;f.br=p;f.aux2=
t.i8888to32(m,q,l,h);f.aux3=t.i8888to32(r,c,k,0);f._bitset=u;f._minMaxZoom=t.i1616to32(Math.round(z*g.MIN_MAX_ZOOM_PRECISION_FACTOR),Math.round(v*g.MIN_MAX_ZOOM_PRECISION_FACTOR));f._materialKey=a.data;return f}C._inheritsLoose(n,B);n.fromCIMFill=function(a,b,d){var e=a.color;e=e&&A.premultiplyAlphaRGBA(e)||0;const p=a.materialKey,[m,q]=w.getMinMaxZoom(a.scaleInfo,d);if(!b)return new n(p,null,e,0,0,0,0,0,0,0,0,0,a.colorLocked?g.BITSET_GENERIC_LOCK_COLOR:0,a.effects,m,q);const {rect:l,width:h,height:r}=
b;var c=a.scaleX||1,k=l.x+g.SPRITE_PADDING;const u=l.y+g.SPRITE_PADDING;var y=k+h;const z=u+r;var v=a.height;d=Math.round(v);255<d?d=255:0>=d&&(d=z-u);c=Math.round(c*v);255<c?c=255:0>=c&&(c=y-k);v=x.pt2px(a.offsetX||0)+128;255<v&&(v=255);let f=x.pt2px(-a.offsetY||0)+128;255<f&&(f=255);k=t.i1616to32(k,u);y=t.i1616to32(y,z);return new n(p,b,e,k,y,c,d,v,f,128,128,D.degToByte(a.angle),a.colorLocked?g.BITSET_GENERIC_LOCK_COLOR:0,a.effects,m,q)};n.fromSimpleFill=function(a,b,d=!1){var {color:e}=a;e=e&&
"esriSFSNull"!==a.style&&A.premultiplyAlphaRGBAArray(e)||0;d=d?g.BITSET_GENERIC_LOCK_COLOR:0;const p=a.materialKey;if(b){const {rect:l,width:h,height:r}=b;var m=l.x+g.SPRITE_PADDING;const c=l.y+g.SPRITE_PADDING;var q=m+h;const k=c+r;m=t.i1616to32(m,c);q=t.i1616to32(q,k);b=new n(p,b,e,m,q,h,r,0,0,128,128,0,d,null,w.DEFAULT_MIN_ZOOM,w.DEFAULT_MAX_ZOOM)}else b=new n(p,null,e,0,0,0,0,0,0,0,0,0,d,null,w.DEFAULT_MIN_ZOOM,w.DEFAULT_MAX_ZOOM);b._maybeAddLineTemplate(a);return b};n.fromPictureFill=function(a,
b,d=!1){const e=g.PICTURE_FILL_COLOR,{rect:p,width:m,height:q}=b;var l=p.x+g.SPRITE_PADDING,h=p.y+g.SPRITE_PADDING,r=l+m,c=h+q;l=t.i1616to32(l,h);r=t.i1616to32(r,c);c=Math.round(x.pt2px(a.width));255<c&&(c=255);h=Math.round(x.pt2px(a.height));255<h&&(h=255);let k=x.pt2px(a.xoffset)+128;255<k&&(k=255);let u=x.pt2px(-a.yoffset)+128;255<u&&(u=255);b=new n(a.materialKey,b,e,l,r,c,h,k,u,128*a.xscale,128*a.yscale,0,d?g.BITSET_GENERIC_LOCK_COLOR:0,null,w.DEFAULT_MIN_ZOOM,w.DEFAULT_MAX_ZOOM);b._maybeAddLineTemplate(a);
return b};return n}(F(G))});