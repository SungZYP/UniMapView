// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
require({cache:{"esri/core/Evented":function(){define(["../chunks/_rollupPluginBabelHelpers","../chunks/tslib.es6","./Accessor","./handleUtils","./accessorSupport/decorators/subclass"],function(c,a,E,M,n){let p=function(){function w(){this._emitter=new w.EventEmitter(this)}var v=w.prototype;v.emit=function(q,t){return this._emitter.emit(q,t)};v.on=function(q,t){return this._emitter.on(q,t)};v.once=function(q,t){return this._emitter.once(q,t)};v.hasEventListener=function(q){return this._emitter.hasEventListener(q)};
return w}();(function(w){let v=function(){function t(K=null){this.target=K;this._listenersMap=null}var z=t.prototype;z.clear=function(){this._listenersMap&&this._listenersMap.clear();this._listenersMap=null};z.emit=function(K,N){K=this._listenersMap&&this._listenersMap.get(K);if(!K)return!1;const h=this.target||this;[...K].forEach(F=>{F.call(h,N)});return 0<K.length};z.on=function(K,N){if(Array.isArray(K)){var h=K.map(F=>this.on(F,N));return M.handlesGroup(h)}if(-1<K.indexOf(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");
this._listenersMap||(this._listenersMap=new Map);h=this._listenersMap.get(K)||[];h.push(N);this._listenersMap.set(K,h);return{remove:()=>{const F=this._listenersMap&&this._listenersMap.get(K)||[],d=F.indexOf(N);0<=d&&F.splice(d,1)}}};z.once=function(K,N){const h=this.on(K,F=>{h.remove();N.call(null,F)});return h};z.hasEventListener=function(K){K=this._listenersMap&&this._listenersMap.get(K);return null!=K&&0<K.length};return t}();w.EventEmitter=v;w.EventedMixin=t=>{t=function(z){function K(){var h=
z.apply(this,arguments)||this;h._emitter=new v;return h}c._inheritsLoose(K,z);var N=K.prototype;N.destroy=function(){this._emitter.clear()};N.emit=function(h,F){return this._emitter.emit(h,F)};N.on=function(h,F){return this._emitter.on(h,F)};N.once=function(h,F){return this._emitter.once(h,F)};N.hasEventListener=function(h){return this._emitter.hasEventListener(h)};return K}(t);return t=a.__decorate([n.subclass("esri.core.Evented")],t)};let q=function(t){function z(){var N=t.apply(this,arguments)||
this;N._emitter=new p.EventEmitter(c._assertThisInitialized(N));return N}c._inheritsLoose(z,t);var K=z.prototype;K.destroy=function(){this._emitter.clear()};K.emit=function(N,h){return this._emitter.emit(N,h)};K.on=function(N,h){return this._emitter.on(N,h)};K.once=function(N,h){return this._emitter.once(N,h)};K.hasEventListener=function(N){return this._emitter.hasEventListener(N)};return z}(E);q=a.__decorate([n.subclass("esri.core.Evented")],q);w.EventedAccessor=q})(p||(p={}));return p})},"esri/core/Handles":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Collection ./maybe ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(c,a,E,M,n,p,w){E=function(v){function q(z){z=v.call(this,z)||this;z._groups=new Map;return z}c._inheritsLoose(q,v);var t=q.prototype;t.destroy=function(){this.removeAll()};t.add=function(z,K){if(!this._isHandle(z)&&!Array.isArray(z)&&!M.isCollection(z))return this;const N=this._getOrCreateGroup(K);Array.isArray(z)||M.isCollection(z)?z.forEach(h=>this._isHandle(h)&&N.push(h)):N.push(z);this.notifyChange("size");return this};t.forEach=function(z,K){if("function"===typeof z)this._groups.forEach(N=>
N.forEach(z));else{const N=this._getGroup(z);N&&K&&N.forEach(K)}};t.has=function(z){return this._groups.has(this._ensureGroupKey(z))};t.remove=function(z){if(Array.isArray(z)||M.isCollection(z))return z.forEach(this.remove,this),this;if(!this.has(z))return this;const K=this._getGroup(z);for(let N=0;N<K.length;N++)K[N].remove();this._deleteGroup(z);this.notifyChange("size");return this};t.removeAll=function(){this._groups.forEach(z=>{for(let K=0;K<z.length;K++)z[K].remove()});this._groups.clear();
this.notifyChange("size");return this};t._isHandle=function(z){return z&&!!z.remove};t._getOrCreateGroup=function(z){if(this.has(z))return this._getGroup(z);const K=[];this._groups.set(this._ensureGroupKey(z),K);return K};t._getGroup=function(z){return n.assumeNonNull(this._groups.get(this._ensureGroupKey(z)))};t._deleteGroup=function(z){return this._groups.delete(this._ensureGroupKey(z))};t._ensureGroupKey=function(z){return z||"_default_"};c._createClass(q,[{key:"size",get:function(){let z=0;this._groups.forEach(K=>
{z+=K.length});return z}}]);return q}(E);a.__decorate([p.property({readOnly:!0})],E.prototype,"size",null);return E=a.__decorate([w.subclass("esri.core.Handles")],E)})},"esri/core/Collection":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./ArrayPool ./Evented ./lang ./maybe ./ObjectPool ./ObservableChangesType ./scheduling ./accessorSupport/decorators/property ./accessorSupport/ensureType ./accessorSupport/decorators/shared ./accessorSupport/decorators/subclass ./accessorSupport/tracking ./accessorSupport/tracking/SimpleObservable".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h,F){function d(H){return H?H instanceof l?H.toArray():H.length?Array.prototype.slice.apply(H):[]:[]}function k(H){if(H&&H.length)return H[0]}function G(H,S,L,D){S&&S.forEach((f,x,V)=>{H.push(f);G(H,L.call(D,f,x,V),L,D)})}var P;let u=function(){function H(){this.target=null;this.defaultPrevented=this.cancellable=!1;this.type=this.item=void 0}var S=H.prototype;S.preventDefault=function(){this.cancellable&&(this.defaultPrevented=!0)};S.reset=function(L){this.defaultPrevented=
!1;this.item=L};return H}();const O=new w(u,void 0,H=>{H.item=null;H.target=null;H.defaultPrevented=!1;H.cancellable=!1}),Q=()=>{},J=new Set,B=new Set,m=new Set,y=new Map;let b=0,l=P=function(H,S){function L(f){f=H.call(this,f)||this;f._chgListeners=[];f._notifications=null;f._timer=null;f._observable=new F.SimpleObservable;f.length=0;f._items=[];Object.defineProperty(c._assertThisInitialized(f),"uid",{value:b++});return f}c._inheritsLoose(L,H);L.isCollection=function(f){return null!=f&&f instanceof
P};var D=L.prototype;D.normalizeCtorArgs=function(f){return f?Array.isArray(f)||f instanceof P?{items:f}:f:{}};D.destroy=function(){this.removeAll()};D[S]=function*(){yield*this.items};D.hasEventListener=function(f){return"change"===f?0<this._chgListeners.length:this._emitter.hasEventListener(f)};D.on=function(f,x){if("change"===f){const V=this._chgListeners,Z={removed:!1,callback:x};V.push(Z);this._notifications&&this._notifications.push({listeners:V.slice(),items:this._items.slice(),changes:[]});
return{remove(){this.remove=Q;Z.removed=!0;V.splice(V.indexOf(Z),1)}}}return this._emitter.on(f,x)};D.once=function(f,x){const V=this.on(f,x);return{remove(){V.remove()}}};D.add=function(f,x){h.trackAccess(this._observable);if(this._emitBeforeChanges(v.ObservableChangesType.ADD))return this;x=this.getNextIndex(null!=x?x:null);this._splice(x,0,[f]);this._emitAfterChanges(v.ObservableChangesType.ADD);return this};D.addMany=function(f,x=this._items.length){h.trackAccess(this._observable);if(!f||!f.length||
this._emitBeforeChanges(v.ObservableChangesType.ADD))return this;x=this.getNextIndex(x);this._splice(x,0,d(f));this._emitAfterChanges(v.ObservableChangesType.ADD);return this};D.at=function(f){h.trackAccess(this._observable);f=Math.trunc(f)||0;0>f&&(f+=this.length);if(!(0>f||f>=this.length))return this._items[f]};D.removeAll=function(){h.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(v.ObservableChangesType.REMOVE))return[];const f=this._splice(0,this.length)||[];this._emitAfterChanges(v.ObservableChangesType.REMOVE);
return f};D.clone=function(){h.trackAccess(this._observable);return this._createNewInstance({items:this._items.map(n.clone)})};D.concat=function(...f){h.trackAccess(this._observable);f=f.map(d);return this._createNewInstance({items:this._items.concat(...f)})};D.drain=function(f,x){h.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(v.ObservableChangesType.REMOVE)){var V=p.assumeNonNull(this._splice(0,this.length)),Z=V.length;for(let ja=0;ja<Z;ja++)f.call(x,V[ja],ja,V);this._emitAfterChanges(v.ObservableChangesType.REMOVE)}};
D.every=function(f,x){h.trackAccess(this._observable);return this._items.every(f,x)};D.filter=function(f,x){h.trackAccess(this._observable);let V;V=2===arguments.length?this._items.filter(f,x):this._items.filter(f);return this._createNewInstance({items:V})};D.find=function(f,x){h.trackAccess(this._observable);return this._items.find(f,x)};D.findIndex=function(f,x){h.trackAccess(this._observable);return this._items.findIndex(f,x)};D.flatten=function(f,x){h.trackAccess(this._observable);const V=[];
G(V,this,f,x);return new P(V)};D.forEach=function(f,x){h.trackAccess(this._observable);return this._items.forEach(f,x)};D.getItemAt=function(f){h.trackAccess(this._observable);return this._items[f]};D.getNextIndex=function(f){h.trackAccess(this._observable);const x=this.length;f=null==f?x:f;0>f?f=0:f>x&&(f=x);return f};D.includes=function(f,x=0){h.trackAccess(this._observable);return this._items.includes(f,x)};D.indexOf=function(f,x=0){h.trackAccess(this._observable);return this._items.indexOf(f,
x)};D.join=function(f=","){h.trackAccess(this._observable);return this._items.join(f)};D.lastIndexOf=function(f,x=this.length-1){h.trackAccess(this._observable);return this._items.lastIndexOf(f,x)};D.map=function(f,x){h.trackAccess(this._observable);f=this._items.map(f,x);return new P({items:f})};D.reorder=function(f,x=this.length-1){h.trackAccess(this._observable);const V=this.indexOf(f);if(-1!==V){0>x?x=0:x>=this.length&&(x=this.length-1);if(V!==x){if(this._emitBeforeChanges(v.ObservableChangesType.MOVE))return f;
this._splice(V,1);this._splice(x,0,[f]);this._emitAfterChanges(v.ObservableChangesType.MOVE)}return f}};D.pop=function(){h.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(v.ObservableChangesType.REMOVE)){var f=k(this._splice(this.length-1,1));this._emitAfterChanges(v.ObservableChangesType.REMOVE);return f}};D.push=function(...f){h.trackAccess(this._observable);if(this._emitBeforeChanges(v.ObservableChangesType.ADD))return this.length;this._splice(this.length,0,f);this._emitAfterChanges(v.ObservableChangesType.ADD);
return this.length};D.reduce=function(f,x){h.trackAccess(this._observable);const V=this._items;return 2===arguments.length?V.reduce(f,x):V.reduce(f)};D.reduceRight=function(f,x){h.trackAccess(this._observable);const V=this._items;return 2===arguments.length?V.reduceRight(f,x):V.reduceRight(f)};D.remove=function(f){h.trackAccess(this._observable);return this.removeAt(this.indexOf(f))};D.removeAt=function(f){h.trackAccess(this._observable);if(!(0>f||f>=this.length||this._emitBeforeChanges(v.ObservableChangesType.REMOVE)))return f=
k(this._splice(f,1)),this._emitAfterChanges(v.ObservableChangesType.REMOVE),f};D.removeMany=function(f){h.trackAccess(this._observable);if(!f||!f.length||this._emitBeforeChanges(v.ObservableChangesType.REMOVE))return[];f=f instanceof P?f.toArray():f;const x=this._items,V=[],Z=f.length;for(let la=0;la<Z;la++){var ja=x.indexOf(f[la]);if(-1<ja){{var oa=la+1;var ma=ja+1;const pa=Math.min(f.length-oa,x.length-ma);let va=0;for(;va<pa&&f[oa+va]===x[ma+va];)va++;oa=va}oa=1+oa;(ja=this._splice(ja,oa))&&0<
ja.length&&V.push.apply(V,ja);la+=oa-1}}this._emitAfterChanges(v.ObservableChangesType.REMOVE);return V};D.reverse=function(){h.trackAccess(this._observable);if(this._emitBeforeChanges(v.ObservableChangesType.MOVE))return this;const f=this._splice(0,this.length);f&&(f.reverse(),this._splice(0,0,f));this._emitAfterChanges(v.ObservableChangesType.MOVE);return this};D.shift=function(){h.trackAccess(this._observable);if(this.length&&!this._emitBeforeChanges(v.ObservableChangesType.REMOVE)){var f=k(this._splice(0,
1));this._emitAfterChanges(v.ObservableChangesType.REMOVE);return f}};D.slice=function(f=0,x=this.length){h.trackAccess(this._observable);return this._createNewInstance({items:this._items.slice(f,x)})};D.some=function(f,x){h.trackAccess(this._observable);return this._items.some(f,x)};D.sort=function(f){h.trackAccess(this._observable);if(!this.length||this._emitBeforeChanges(v.ObservableChangesType.MOVE))return this;const x=p.assumeNonNull(this._splice(0,this.length));arguments.length?x.sort(f):x.sort();
this._splice(0,0,x);this._emitAfterChanges(v.ObservableChangesType.MOVE);return this};D.splice=function(f,x,...V){h.trackAccess(this._observable);const Z=(x?v.ObservableChangesType.REMOVE:0)|(V.length?v.ObservableChangesType.ADD:0);if(this._emitBeforeChanges(Z))return[];f=this._splice(f,x,V)||[];this._emitAfterChanges(Z);return f};D.toArray=function(){h.trackAccess(this._observable);return this._items.slice()};D.toJSON=function(){h.trackAccess(this._observable);return this.toArray()};D.toLocaleString=
function(){h.trackAccess(this._observable);return this._items.toLocaleString()};D.toString=function(){h.trackAccess(this._observable);return this._items.toString()};D.unshift=function(...f){h.trackAccess(this._observable);if(!f.length||this._emitBeforeChanges(v.ObservableChangesType.ADD))return this.length;this._splice(0,0,f);this._emitAfterChanges(v.ObservableChangesType.ADD);return this.length};D._createNewInstance=function(f){return new this.constructor(f)};D._splice=function(f,x,V){const Z=this._items;
var ja=this.itemType;let oa=void 0;!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._timer=q.schedule(()=>this._dispatchChange()));if(x){oa=Z.splice(f,x);if(this.hasEventListener("before-remove")){var ma=O.acquire();ma.target=this;ma.cancellable=!0;for(let va=0,Ba=oa.length;va<Ba;va++)x=oa[va],ma.reset(x),this.emit("before-remove",ma),ma.defaultPrevented&&
(oa.splice(va,1),Z.splice(f,0,x),f+=1,--va,--Ba);O.release(ma)}this.length=this._items.length;if(this.hasEventListener("after-remove")){x=O.acquire();x.target=this;x.cancellable=!1;ma=oa.length;for(let va=0;va<ma;va++)x.reset(oa[va]),this.emit("after-remove",x);O.release(x)}}if(V&&V.length){if(ja){x=[];for(var la of V)V=ja.ensureType(la),null==V&&null!=la||x.push(V);V=x}ja=this.hasEventListener("before-add");la=this.hasEventListener("after-add");x=f===this.length;if(ja||la){var pa=O.acquire();pa.target=
this;pa.cancellable=!0;ma=O.acquire();ma.target=this;ma.cancellable=!1;for(const va of V)ja?(pa.reset(va),this.emit("before-add",pa),pa.defaultPrevented||(x?Z.push(va):Z.splice(f++,0,va),this._set("length",Z.length),la&&(ma.reset(va),this.emit("after-add",ma)))):(x?Z.push(va):Z.splice(f++,0,va),this._set("length",Z.length),ma.reset(va),this.emit("after-add",ma));O.release(ma);O.release(pa)}else{if(x)for(pa of V)Z.push(pa);else Z.splice(f,0,...V);this._set("length",Z.length)}}(V&&V.length||oa&&oa.length)&&
this._notifyChangeEvent(V,oa);return oa};D._emitBeforeChanges=function(f){let x=!1;if(this.hasEventListener("before-changes")){const V=O.acquire();V.target=this;V.cancellable=!0;V.type=f;this.emit("before-changes",V);x=V.defaultPrevented;O.release(V)}return x};D._emitAfterChanges=function(f){if(this.hasEventListener("after-changes")){const x=O.acquire();x.target=this;x.cancellable=!1;x.type=f;this.emit("after-changes",x);O.release(x)}this._observable.notify()};D._notifyChangeEvent=function(f,x){this.hasEventListener("change")&&
this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:f,removed:x})};D._dispatchChange=function(){this._timer&&(this._timer.remove(),this._timer=null);if(this._notifications){var f=this._notifications;this._notifications=null;for(const x of f){f=x.changes;J.clear();B.clear();m.clear();for(const {added:la,removed:pa}of f){if(la)if(0===m.size&&0===B.size)for(const va of la)J.add(va);else for(const va of la)B.has(va)?(m.add(va),B.delete(va)):m.has(va)||J.add(va);
if(pa)if(0===m.size&&0===J.size)for(const va of pa)B.add(va);else for(const va of pa)J.has(va)?J.delete(va):(m.delete(va),B.add(va))}const V=E.acquire();J.forEach(la=>{V.push(la)});const Z=E.acquire();B.forEach(la=>{Z.push(la)});const ja=this._items,oa=x.items,ma=E.acquire();m.forEach(la=>{oa.indexOf(la)!==ja.indexOf(la)&&ma.push(la)});if(x.listeners&&(V.length||Z.length||ma.length)){f={target:this,added:V,removed:Z,moved:ma};const la=x.listeners.length;for(let pa=0;pa<la;pa++){const va=x.listeners[pa];
va.removed||va.callback.call(this,f)}}E.release(V);E.release(Z);E.release(ma)}J.clear();B.clear();m.clear()}};c._createClass(L,[{key:"items",get:function(){h.trackAccess(this._observable);return this._items},set:function(f){this._emitBeforeChanges(v.ObservableChangesType.ADD)||(this._splice(0,this.length,d(f)),this._emitAfterChanges(v.ObservableChangesType.ADD))}}]);return L}(M.EventedAccessor,Symbol.iterator);l.ofType=H=>{if(!H)return P;if(y.has(H))return y.get(H);let S=null;if("function"===typeof H)S=
H.prototype.declaredClass;else if(H.base)S=H.base.prototype.declaredClass;else for(var L in H.typeMap){const D=H.typeMap[L].prototype.declaredClass;S=S?S+` | ${D}`:D}L=function(D){function f(){return D.apply(this,arguments)||this}c._inheritsLoose(f,D);return f}(P);a.__decorate([K.shared({Type:H,ensureType:"function"===typeof H?z.ensureType(H):z.ensureOneOfType(H)})],L.prototype,"itemType",void 0);L=a.__decorate([N.subclass(`esri.core.Collection<${S}>`)],L);y.set(H,L);return L};a.__decorate([t.property()],
l.prototype,"length",void 0);a.__decorate([t.property()],l.prototype,"items",null);return l=P=a.__decorate([N.subclass("esri.core.Collection")],l)})},"esri/core/ObservableChangesType":function(){define(["exports"],function(c){c.ObservableChangesType=void 0;var a=c.ObservableChangesType||(c.ObservableChangesType={});a[a.ADD=1]="ADD";a[a.REMOVE=2]="REMOVE";a[a.MOVE=4]="MOVE";Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/accessorSupport/decorators/shared":function(){define(["exports"],
function(c){c.shared=function(a){return(E,M)=>{E[M]=a}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/accessorSupport/tracking/SimpleObservable":function(){define(["exports","./ObservationHandle"],function(c,a){let E=function(){function M(){this._observers=[]}var n=M.prototype;n.observe=function(p){this._observers.includes(p)||this._observers.push(p);return new a.ObservationHandle(this._observers,p)};n.notify=function(){const p=this._observers.slice();for(let w=0;w<p.length;++w){const v=
p[w];v.onInvalidated();v.onCommitted()}};return M}();c.SimpleObservable=E;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/watchUtils":function(){define(["exports","./events","./lang","./promiseUtils"],function(c,a,E,M){function n(F,d,k,G){var P=Array.isArray(d)?d:-1<d.indexOf(",")?d.split(","):[d];d=F.watch(d,k,G);for(const u of P)P=u.trim().replace(h,"$1"),G=F.get(P),k.call(F,G,G,P,F);return d}function p(F,d,k,G,P){P=F.watch(d,(O,Q,J,B)=>{if(!k||k(O))null==G?void 0:G.call(F,O,Q,J,
B)},P);if(Array.isArray(d))for(var u of d){const O=F.get(u);k&&k(O)&&(null==G?void 0:G.call(F,O,O,d,F))}else u=F.get(d),k&&k(u)&&(null==G?void 0:G.call(F,u,u,d,F));return P}function w(F,d,k,G,P){function u(){B&&(B.remove(),B=null)}const O="function"===typeof G?G:null,Q="object"===typeof G?G:null;"boolean"===typeof G&&(P=G);let J=!1,B;const m=M.createDeferred();M.onAbort(Q,()=>{u();m.reject(M.createAbortError())});G={then:m.promise.then.bind(m.promise),catch:m.promise.catch.bind(m.promise),remove:u};
Object.freeze(G);B=p(F,d,k,(y,b,l,H)=>{J=!0;u();O&&O.call(F,y,b,l,H);m.resolve({value:y,oldValue:b,propertyName:l,target:H})},P);J&&u();return G}function v(F){return!!F}function q(F){return!F}function t(F){return!0===F}function z(F){return!1===F}function K(F){return void 0!==F}function N(F){return void 0===F}const h=/\?(\.|$)/g;c.init=n;c.on=function(F,d,k,G,P,u,O){function Q(m){const y=J[m];y&&(u&&u(y.target,m,F,k),y.handle.remove(),delete J[m])}const J={},B=n(F,d,(m,y,b)=>{Q(b);a.isEventTarget(m)&&
(J[b]={handle:a.on(m,k,G),target:m},P&&P(m,b,F,k))},O);return{remove(){B.remove();for(const m in J)Q(m)}}};c.once=function(F,d,k,G){return w(F,d,null,k,G)};c.pausable=function(F,d,k,G){let P=!1;const u=F.watch(d,(O,Q,J,B)=>{P||k.call(F,O,Q,J,B)},G);return{remove(){u.remove()},pause(){P=!0},resume(){P=!1}}};c.watch=function(F,d,k,G){return F.watch(d,k,G)};c.when=function(F,d,k,G){return p(F,d,v,k,G)};c.whenDefined=function(F,d,k,G){return p(F,d,K,k,G)};c.whenDefinedOnce=function(F,d,k,G){return w(F,
d,K,k,G)};c.whenEqual=function(F,d,k,G,P){return p(F,d,u=>E.equals(k,u),G,P)};c.whenEqualOnce=function(F,d,k,G,P){return w(F,d,u=>E.equals(k,u),G,P)};c.whenFalse=function(F,d,k,G){return p(F,d,z,k,G)};c.whenFalseOnce=function(F,d,k,G){return w(F,d,z,k,G)};c.whenNot=function(F,d,k,G){return p(F,d,q,k,G)};c.whenNotOnce=function(F,d,k,G){return w(F,d,q,k,G)};c.whenOnce=function(F,d,k,G){return w(F,d,v,k,G)};c.whenTrue=function(F,d,k,G){return p(F,d,t,k,G)};c.whenTrueOnce=function(F,d,k,G){return w(F,
d,t,k,G)};c.whenUndefined=function(F,d,k,G){return p(F,d,N,k,G)};c.whenUndefinedOnce=function(F,d,k,G){return w(F,d,N,k,G)};c.whenValidOnce=w;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/data/FeatureStore":function(){define("../../../chunks/_rollupPluginBabelHelpers ../../../core/Error ../../../core/Evented ../../../core/Logger ../../../core/maybe ../../../geometry/support/aaBoundingBox ../../../geometry/support/aaBoundingRect ../featureConversionUtils ./BoundsStore ./optimizedFeatureQueryEngineAdapter".split(" "),
function(c,a,E,M,n,p,w,v,q,t){return function(){function z(N){this.geometryInfo=N;this._boundsStore=new q.BoundsStore;this._featuresById=new Map;this._markedIds=new Set;this.events=new E;this.featureAdapter=t.optimizedFeatureQueryEngineAdapter}var K=z.prototype;K.add=function(N){this._add(N);this._emitChanged()};K.addMany=function(N){for(const h of N)this._add(h);this._emitChanged()};K.clear=function(){this._featuresById.clear();this._boundsStore.clear();this._emitChanged()};K.removeById=function(N){N=
this._featuresById.get(N);if(!N)return null;this._remove(N);this._emitChanged();return N};K.removeManyById=function(N){this._boundsStore.invalidateIndex();for(const h of N)(N=this._featuresById.get(h))&&this._remove(N);this._emitChanged()};K.forEachBounds=function(N,h,F){for(const d of N)(N=this._boundsStore.get(d.objectId))&&h(p.fromRect(F,N))};K.getFeature=function(N){return this._featuresById.get(N)};K.has=function(N){return this._featuresById.has(N)};K.forEach=function(N){this._featuresById.forEach(h=>
N(h))};K.forEachInBounds=function(N,h){this._boundsStore.forEachInBounds(N,F=>{h(this._featuresById.get(F))})};K.startMarkingUsedFeatures=function(){this._boundsStore.invalidateIndex();this._markedIds.clear()};K.sweep=function(){let N=!1;this._featuresById.forEach((h,F)=>{this._markedIds.has(F)||(N=!0,this._remove(h))});this._markedIds.clear();N&&this._emitChanged()};K._emitChanged=function(){this.events.emit("changed",void 0)};K._add=function(N){if(N){var h=N.objectId;if(null==h)M.getLogger("esri.layers.graphics.data.FeatureStore").error(new a("featurestore:invalid-feature",
"feature id is missing",{feature:N}));else{var F=this._featuresById.get(h);this._markedIds.add(h);if(F){N.displayId=F.displayId;var d=this._boundsStore.get(h);this._boundsStore.delete(h)}else if(n.isSome(this.onFeatureAdd))this.onFeatureAdd(N);!n.isNone(N.geometry)&&N.geometry.coords&&N.geometry.coords.length?(d=v.getBoundsOptimizedGeometry(n.isSome(d)?d:w.create(),N.geometry,this.geometryInfo.hasZ,this.geometryInfo.hasM),n.isSome(d)&&this._boundsStore.set(h,d)):this._boundsStore.set(h,null);this._featuresById.set(h,
N)}}};K._remove=function(N){if(n.isSome(this.onFeatureRemove))this.onFeatureRemove(N);this._markedIds.delete(N.objectId);this._boundsStore.delete(N.objectId);this._featuresById.delete(N.objectId);return N};c._createClass(z,[{key:"geometryType",get:function(){return this.geometryInfo.geometryType}},{key:"hasM",get:function(){return this.geometryInfo.hasM}},{key:"hasZ",get:function(){return this.geometryInfo.hasZ}},{key:"numFeatures",get:function(){return this._featuresById.size}},{key:"fullBounds",
get:function(){if(!this.numFeatures)return null;const N=w.create(w.NEGATIVE_INFINITY);this._featuresById.forEach(h=>{if(h=this._boundsStore.get(h.objectId))N[0]=Math.min(h[0],N[0]),N[1]=Math.min(h[1],N[1]),N[2]=Math.max(h[2],N[2]),N[3]=Math.max(h[3],N[3])});return N}},{key:"storeStatistics",get:function(){let N=0;this._featuresById.forEach(h=>{n.isSome(h.geometry)&&h.geometry.coords&&(N+=h.geometry.coords.length)});return{featureCount:this._featuresById.size,vertexCount:N/(this.hasZ?this.hasM?4:3:
this.hasM?3:2)}}}]);return z}()})},"esri/geometry/support/aaBoundingBox":function(){define(["exports","../../core/maybe","../Extent","./aaBoundingRect"],function(c,a,E,M){function n(d=h){return[d[0],d[1],d[2],d[3],d[4],d[5]]}function p(d,k,G,P,u,O,Q=n()){Q[0]=d;Q[1]=k;Q[2]=G;Q[3]=P;Q[4]=u;Q[5]=O;return Q}function w(d){return d[0]>=d[3]?0:d[3]-d[0]}function v(d){return d[1]>=d[4]?0:d[4]-d[1]}function q(d){return d[2]>=d[5]?0:d[5]-d[2]}function t(d,k){return Math.max(k[0],d[0])<=Math.min(k[3],d[3])&&
Math.max(k[1],d[1])<=Math.min(k[4],d[4])&&Math.max(k[2],d[2])<=Math.min(k[5],d[5])}function z(d,k){d[0]=k[0];d[1]=k[1];d[2]=k[2];d[3]=k[3];d[4]=k[4];d[5]=k[5];return d}function K(d){return 6===d.length}const N=[Infinity,Infinity,Infinity,-Infinity,-Infinity,-Infinity],h=[0,0,0,0,0,0],F=n();c.NEGATIVE_INFINITY=N;c.POSITIVE_INFINITY=[-Infinity,-Infinity,-Infinity,Infinity,Infinity,Infinity];c.ZERO=h;c.allFinite=function(d){for(let k=0;6>k;k++)if(!isFinite(d[k]))return!1;return!0};c.center=function(d,
k=[0,0,0]){k[0]=d[0]+w(d)/2;k[1]=d[1]+v(d)/2;k[2]=d[2]+q(d)/2;return k};c.contains=function(d,k){return k[0]>=d[0]&&k[1]>=d[1]&&k[2]>=d[2]&&k[3]<=d[3]&&k[4]<=d[4]&&k[5]<=d[5]};c.containsPoint=function(d,k){return k[0]>=d[0]&&k[1]>=d[1]&&k[2]>=d[2]&&k[0]<=d[3]&&k[1]<=d[4]&&k[2]<=d[5]};c.containsPointWithMargin=function(d,k,G){return k[0]>=d[0]-G&&k[1]>=d[1]-G&&k[2]>=d[2]-G&&k[0]<=d[3]+G&&k[1]<=d[4]+G&&k[2]<=d[5]+G};c.create=n;c.depth=v;c.diameter=function(d){const k=w(d),G=q(d);d=v(d);return Math.sqrt(k*
k+G*G+d*d)};c.empty=function(d){return d?z(d,N):n(N)};c.equals=function(d,k,G){if(a.isNone(d)||a.isNone(k))return d===k;if(!K(d)||!K(k))return!1;if(G)for(let P=0;P<d.length;P++){if(!G(d[P],k[P]))return!1}else for(G=0;G<d.length;G++)if(d[G]!==k[G])return!1;return!0};c.expandWithAABB=function(d,k){d[0]=Math.min(d[0],k[0]);d[1]=Math.min(d[1],k[1]);d[2]=Math.min(d[2],k[2]);d[3]=Math.max(d[3],k[3]);d[4]=Math.max(d[4],k[4]);d[5]=Math.max(d[5],k[5])};c.expandWithBuffer=function(d,k,G=0,P=k.length/3){let u=
d[0],O=d[1],Q=d[2],J=d[3],B=d[4],m=d[5];for(let y=0;y<P;y++)u=Math.min(u,k[G+3*y]),O=Math.min(O,k[G+3*y+1]),Q=Math.min(Q,k[G+3*y+2]),J=Math.max(J,k[G+3*y]),B=Math.max(B,k[G+3*y+1]),m=Math.max(m,k[G+3*y+2]);d[0]=u;d[1]=O;d[2]=Q;d[3]=J;d[4]=B;d[5]=m};c.expandWithNestedArray=function(d,k,G){const P=k.length;let u=d[0],O=d[1],Q=d[2],J=d[3],B=d[4],m=d[5];if(G)for(G=0;G<P;G++){var y=k[G];u=Math.min(u,y[0]);O=Math.min(O,y[1]);Q=Math.min(Q,y[2]);J=Math.max(J,y[0]);B=Math.max(B,y[1]);m=Math.max(m,y[2])}else for(G=
0;G<P;G++)y=k[G],u=Math.min(u,y[0]),O=Math.min(O,y[1]),J=Math.max(J,y[0]),B=Math.max(B,y[1]);d[0]=u;d[1]=O;d[2]=Q;d[3]=J;d[4]=B;d[5]=m};c.expandWithOffset=function(d,k,G,P){d[0]=Math.min(d[0],d[0]+k);d[3]=Math.max(d[3],d[3]+k);d[1]=Math.min(d[1],d[1]+G);d[4]=Math.max(d[4],d[4]+G);d[2]=Math.min(d[2],d[2]+P);d[5]=Math.max(d[5],d[5]+P)};c.expandWithRect=function(d,k){d[0]=Math.min(d[0],k[0]);d[1]=Math.min(d[1],k[1]);d[3]=Math.max(d[3],k[2]);d[4]=Math.max(d[4],k[3])};c.expandWithVec3=function(d,k){d[0]=
Math.min(d[0],k[0]);d[1]=Math.min(d[1],k[1]);d[2]=Math.min(d[2],k[2]);d[3]=Math.max(d[3],k[0]);d[4]=Math.max(d[4],k[1]);d[5]=Math.max(d[5],k[2])};c.fromExtent=function(d,k=n()){k[0]=d.xmin;k[1]=d.ymin;k[2]=d.zmin;k[3]=d.xmax;k[4]=d.ymax;k[5]=d.zmax;return k};c.fromMinMax=function(d,k,G=n()){G[0]=d[0];G[1]=d[1];G[2]=d[2];G[3]=k[0];G[4]=k[1];G[5]=k[2];return G};c.fromRect=function(d,k){d[0]=k[0];d[1]=k[1];d[2]=Number.NEGATIVE_INFINITY;d[3]=k[2];d[4]=k[3];d[5]=Number.POSITIVE_INFINITY;return d};c.fromValues=
p;c.getMax=function(d,k){k[0]=d[3];k[1]=d[4];k[2]=d[5];return k};c.getMin=function(d,k){k[0]=d[0];k[1]=d[1];k[2]=d[2];return k};c.height=q;c.intersects=t;c.intersectsClippingArea=function(d,k){return a.isNone(k)?!0:t(d,k)};c.is=K;c.isPoint=function(d){return 0===w(d)&&0===v(d)&&0===q(d)};c.maximumDimension=function(d){return Math.max(w(d),q(d),v(d))};c.offset=function(d,k,G,P,u=d){u[0]=d[0]+k;u[1]=d[1]+G;u[2]=d[2]+P;u[3]=d[3]+k;u[4]=d[4]+G;u[5]=d[5]+P;return u};c.scale=function(d,k,G=d){const P=d[0]+
w(d)/2,u=d[1]+v(d)/2,O=d[2]+q(d)/2;G[0]=P+(d[0]-P)*k;G[1]=u+(d[1]-u)*k;G[2]=O+(d[2]-O)*k;G[3]=P+(d[3]-P)*k;G[4]=u+(d[4]-u)*k;G[5]=O+(d[5]-O)*k;return G};c.set=z;c.setMax=function(d,k,G=d){G[3]=k[0];G[4]=k[1];G[5]=k[2];G!==d&&(G[0]=d[0],G[1]=d[1],G[2]=d[2]);return d};c.setMin=function(d,k,G=d){G[0]=k[0];G[1]=k[1];G[2]=k[2];G!==d&&(G[3]=d[3],G[4]=d[4],G[5]=d[5]);return G};c.size=function(d,k=[0,0,0]){k[0]=w(d);k[1]=v(d);k[2]=q(d);return k};c.toExtent=function(d,k){return isFinite(d[2])||isFinite(d[5])?
new E({xmin:d[0],xmax:d[3],ymin:d[1],ymax:d[4],zmin:d[2],zmax:d[5],spatialReference:k}):new E({xmin:d[0],xmax:d[3],ymin:d[1],ymax:d[4],spatialReference:k})};c.toRect=function(d,k){k||(k=M.create());k[0]=d[0];k[1]=d[1];k[2]=d[3];k[3]=d[4];return k};c.width=w;c.wrap=function(d,k,G,P,u,O){return p(d,k,G,P,u,O,F)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/aaBoundingRect":function(){define(["exports","../../core/has","../../core/mathUtils","../../core/maybe","../Extent"],
function(c,a,E,M,n){function p(h=N){return[h[0],h[1],h[2],h[3]]}function w(h,F){h!==F&&(h[0]=F[0],h[1]=F[1],h[2]=F[2],h[3]=F[3]);return h}function v(h){return M.isNone(h)||h[0]>=h[2]?0:h[2]-h[0]}function q(h){return h[1]>=h[3]?0:h[3]-h[1]}function t(h,F,d){return F>=h[0]&&d>=h[1]&&F<=h[2]&&d<=h[3]}function z(h){return null!=h&&4===h.length}const K=[Infinity,Infinity,-Infinity,-Infinity],N=[0,0,0,0];c.NEGATIVE_INFINITY=K;c.POSITIVE_INFINITY=[-Infinity,-Infinity,Infinity,Infinity];c.UNIT=[0,0,1,1];
c.ZERO=N;c.allFinite=function(h){for(let F=0;4>F;F++)if(!isFinite(h[F]))return!1;return!0};c.area=function(h){return v(h)*q(h)};c.center=function(h,F=[0,0]){F[0]=(h[0]+h[2])/2;F[1]=(h[1]+h[3])/2;return F};c.clone=function(h){return[h[0],h[1],h[2],h[3]]};c.contains=function(h,F){return F[0]>=h[0]&&F[2]<=h[2]&&F[1]>=h[1]&&F[3]<=h[3]};c.containsPoint=function(h,F){return t(h,F[0],F[1])};c.containsPointObject=function(h,F){return t(h,F.x,F.y)};c.containsPointWithMargin=function(h,F,d){return F[0]>=h[0]-
d&&F[1]>=h[1]-d&&F[0]<=h[2]+d&&F[1]<=h[3]+d};c.containsXY=t;c.copy=w;c.create=p;c.distance=function(h,F){const d=(h[1]+h[3])/2,k=Math.max(Math.abs(F[0]-(h[0]+h[2])/2)-v(h)/2,0);h=Math.max(Math.abs(F[1]-d)-q(h)/2,0);return Math.sqrt(k*k+h*h)};c.empty=function(h){return h?w(h,K):p(K)};c.equals=function(h,F){return z(h)&&z(F)?h[0]===F[0]&&h[1]===F[1]&&h[2]===F[2]&&h[3]===F[3]:h===F};c.expand=function(h,F,d){if(M.isNone(F))w(d,h);else if("length"in F)if(z(F))d[0]=Math.min(h[0],F[0]),d[1]=Math.min(h[1],
F[1]),d[2]=Math.max(h[2],F[2]),d[3]=Math.max(h[3],F[3]);else{if(2===F.length||3===F.length)d[0]=Math.min(h[0],F[0]),d[1]=Math.min(h[1],F[1]),d[2]=Math.max(h[2],F[0]),d[3]=Math.max(h[3],F[1])}else switch(F.type){case "extent":d[0]=Math.min(h[0],F.xmin);d[1]=Math.min(h[1],F.ymin);d[2]=Math.max(h[2],F.xmax);d[3]=Math.max(h[3],F.ymax);break;case "point":d[0]=Math.min(h[0],F.x),d[1]=Math.min(h[1],F.y),d[2]=Math.max(h[2],F.x),d[3]=Math.max(h[3],F.y)}};c.expandPointInPlace=function(h,F){F[0]<h[0]&&(h[0]=
F[0]);F[0]>h[2]&&(h[2]=F[0]);F[1]<h[1]&&(h[1]=F[1]);F[1]>h[3]&&(h[3]=F[1])};c.expandWithNestedArray=function(h,F,d=h){const k=F.length;let G=h[0],P=h[1],u=h[2];h=h[3];for(let O=0;O<k;O++){const Q=F[O];G=Math.min(G,Q[0]);P=Math.min(P,Q[1]);u=Math.max(u,Q[0]);h=Math.max(h,Q[1])}d[0]=G;d[1]=P;d[2]=u;d[3]=h;return d};c.fromExtent=function(h,F=p()){F[0]=h.xmin;F[1]=h.ymin;F[2]=h.xmax;F[3]=h.ymax;return F};c.fromValues=function(h,F,d,k,G=p()){G[0]=h;G[1]=F;G[2]=d;G[3]=k;return G};c.height=q;c.intersection=
function(h,F,d){if(M.isNone(F))return w(d,h);const k=F[0],G=F[1],P=F[2];F=F[3];d[0]=E.clamp(h[0],k,P);d[1]=E.clamp(h[1],G,F);d[2]=E.clamp(h[2],k,P);d[3]=E.clamp(h[3],G,F);return d};c.intersects=function(h,F){return Math.max(F[0],h[0])<=Math.min(F[2],h[2])&&Math.max(F[1],h[1])<=Math.min(F[3],h[3])};c.intersectsSegment=function(h,F,d){const k=h[0],G=h[1],P=h[2];h=h[3];const {x:u,y:O}=F,{x:Q,y:J}=d;var B=(y,b)=>0>(J-O)*y+(u-Q)*b+(Q*O-u*J);F=B(k,h);d=B(P,h);const m=B(P,G);B=B(k,G);return F===d&&d===m&&
m===B&&B===F||u<k&&Q<k||u>P&&Q>P||O>h&&J>h||O<G&&J<G?!1:!0};c.intersectsSphere=function(h,F){const d=F[3];var k=Math.abs(F[0]-.5*(h[0]+h[2]));const G=.5*(h[2]-h[0]);if(k>d+G)return!1;var P=.5*(h[3]-h[1]);h=Math.abs(F[1]-.5*(h[1]+h[3]));if(h>d+P)return!1;if(k<G||h<P)return!0;k-=G;P=h-P;return k*k+P*P<=d*d};c.is=z;c.isPoint=function(h){return(0===v(h)||!isFinite(h[0]))&&(0===q(h)||!isFinite(h[1]))};c.offset=function(h,F,d,k=h){k[0]=h[0]+F;k[1]=h[1]+d;k[2]=h[2]+F;k[3]=h[3]+d;return k};c.pad=function(h,
F,d=h){d[0]=h[0]-F;d[1]=h[1]-F;d[2]=h[2]+F;d[3]=h[3]+F;return d};c.setMax=function(h,F,d=h){d[2]=F[0];d[3]=F[1];d!==h&&(d[0]=h[0],d[1]=h[1]);return h};c.setMin=function(h,F,d=h){d[0]=F[0];d[1]=F[1];d!==h&&(d[2]=h[2],d[3]=h[3]);return d};c.size=function(h,F){F[0]=h[2]-h[0];F[1]=h[3]-h[1]};c.toExtent=function(h,F){return new n({xmin:h[0],ymin:h[1],xmax:h[2],ymax:h[3],spatialReference:F})};c.width=v;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/featureConversionUtils":function(){define("exports ../../core/Error ../../core/Logger ../../core/maybe ../../geometry/support/jsonUtils ./OptimizedFeature ./OptimizedFeatureSet ./OptimizedGeometry".split(" "),
function(c,a,E,M,n,p,w,v){function q(A,T){return A?T?4:3:T?3:2}function t(A,T,X,Y){if(A){if(X)return T&&Y?g:Oa;if(T&&Y)return Sa}else if(T&&Y)return Oa;return Ta}function z({scale:A,translate:T},X){return Math.round((X-T[0])/A[0])}function K({scale:A,translate:T},X){return Math.round((T[1]-X)/A[1])}function N({scale:A,translate:T},X){return X*A[0]+T[0]}function h({scale:A,translate:T},X){return T[1]-X*A[1]}function F(A){A=A.coords;return{x:A[0],y:A[1]}}function d(A,T){A.coords[0]=T.x;A.coords[1]=
T.y;return A}function k(A){A=A.coords;return{x:A[0],y:A[1],z:A[2]}}function G(A,T){A.coords[0]=T.x;A.coords[1]=T.y;A.coords[2]=T.z;return A}function P(A){A=A.coords;return{x:A[0],y:A[1],m:A[2]}}function u(A,T){A.coords[0]=T.x;A.coords[1]=T.y;A.coords[2]=T.m;return A}function O(A){A=A.coords;return{x:A[0],y:A[1],z:A[2],m:A[3]}}function Q(A,T){A.coords[0]=T.x;A.coords[1]=T.y;A.coords[2]=T.z;A.coords[3]=T.m;return A}function J(A,T){return A&&T?Q:A?G:T?u:d}function B(A,T,X,Y,ha){X=J(X,Y);for(const ea of T){const {geometry:U,
attributes:W}=ea;let da;U&&(da=X(new v,U));A.push(new p.OptimizedFeature(da,W,null,W[ha]))}return A}function m(A,T,X,Y){for(const ha of T){const {geometry:ea,attributes:U}=ha;let W;ea&&(W=y(ea,X,Y));A.push({attributes:U,geometry:W})}return A}function y(A,T,X){if(M.isNone(A))return null;const Y=q(T,X),ha=[];for(let ea=0;ea<A.coords.length;ea+=Y){const U=[];for(let W=0;W<Y;W++)U.push(A.coords[ea+W]);ha.push(U)}return T?X?{points:ha,hasZ:T,hasM:X}:{points:ha,hasZ:T}:X?{points:ha,hasM:X}:{points:ha}}
function b(A,T,X,Y,ha){X=q(X,Y);for(const ea of T){T=ea.geometry;Y=ea.attributes;let U;T&&(U=l(new v,T,X));A.push(new p.OptimizedFeature(U,Y,null,Y[ha]))}return A}function l(A,T,X=q(T.hasZ,T.hasM)){A.lengths[0]=T.points.length;const Y=A.coords;let ha=0;for(const ea of T.points)for(T=0;T<X;T++)Y[ha++]=ea[T];return A}function H(A,T,X){if(!A)return null;const Y=q(T,X),{coords:ha,lengths:ea}=A;A=[];let U=0;for(const W of ea){const da=[];for(let qa=0;qa<W;qa++){const ra=[];for(let wa=0;wa<Y;wa++)ra.push(ha[U++]);
da.push(ra)}A.push(da)}return T?X?{paths:A,hasZ:T,hasM:X}:{paths:A,hasZ:T}:X?{paths:A,hasM:X}:{paths:A}}function S(A,T,X,Y,ha){X=q(X,Y);for(const ea of T){T=ea.geometry;Y=ea.attributes;let U;T&&(U=L(new v,T,X));A.push(new p.OptimizedFeature(U,Y,null,Y[ha]))}return A}function L(A,T,X=q(T.hasZ,T.hasM)){const {lengths:Y,coords:ha}=A;let ea=0;for(const U of T.paths){for(const W of U)for(T=0;T<X;T++)ha[ea++]=W[T];Y.push(U.length)}return A}function D(A,T,X){if(!A)return null;const Y=q(T,X),{coords:ha,lengths:ea}=
A;A=[];let U=0;for(const W of ea){const da=[];for(let qa=0;qa<W;qa++){const ra=[];for(let wa=0;wa<Y;wa++)ra.push(ha[U++]);da.push(ra)}A.push(da)}return T?X?{rings:A,hasZ:T,hasM:X}:{rings:A,hasZ:T}:X?{rings:A,hasM:X}:{rings:A}}function f(A,T,X,Y,ha){for(const ea of T){T=ea.geometry;const U=ea.centroid,W=ea.attributes;let da;T&&(da=x(new v,T,X,Y));M.isSome(U)?A.push(new p.OptimizedFeature(da,W,d(new v,U),W[ha])):A.push(new p.OptimizedFeature(da,W,null,W[ha]))}return A}function x(A,T,X=T.hasZ,Y=T.hasM){V(A,
T.rings,X,Y);return A}function V(A,T,X,Y){X=q(X,Y);const {lengths:ha,coords:ea}=A;Y=0;ha.length=ea.length=0;for(const U of T){for(const W of U)for(T=0;T<X;T++)ea[Y++]=W[T];ha.push(U.length)}return A}function Z(A,T,X,Y,ha,ea){A.length=0;if(!X){for(const U of T)A.push(new p.OptimizedFeature(null,U.attributes,null,U.attributes[ea]));return A}switch(X){case "esriGeometryPoint":return B(A,T,Y,ha,ea);case "esriGeometryMultipoint":return b(A,T,Y,ha,ea);case "esriGeometryPolyline":return S(A,T,Y,ha,ea);case "esriGeometryPolygon":return f(A,
T,Y,ha,ea);default:Ba.error("convertToFeatureSet:unknown-geometry",new a(`Unable to parse unknown geometry type '${X}'`)),A.length=0}return A}function ja(A,T,X,Y){A=A&&("coords"in A?A:A.geometry);if(M.isNone(A))return null;switch(T){case "esriGeometryPoint":return T=F,X&&Y?T=O:X?T=k:Y&&(T=P),T(A);case "esriGeometryMultipoint":return y(A,X,Y);case "esriGeometryPolyline":return H(A,X,Y);case "esriGeometryPolygon":return D(A,X,Y);default:Ba.error("convertToGeometry:unknown-geometry",new a(`Unable to parse unknown geometry type '${T}'`))}}
function oa(A,T,X,Y,ha){A.length=0;if(M.isNone(X)){for(const W of T)A.push({attributes:W.attributes});return A}switch(X){case "esriGeometryPoint":var ea=F;Y&&ha?ea=O:Y?ea=k:ha&&(ea=P);for(var U of T){const {geometry:W,attributes:da}=U;Y=M.isSome(W)?ea(W):null;A.push({attributes:da,geometry:Y})}break;case "esriGeometryMultipoint":return m(A,T,Y,ha);case "esriGeometryPolyline":for(const W of T){const {geometry:da,attributes:qa}=W;let ra;M.isSome(da)&&(ra=H(da,Y,ha));A.push({attributes:qa,geometry:ra})}break;
case "esriGeometryPolygon":for(ea of T){const {geometry:W,attributes:da,centroid:qa}=ea;let ra;M.isSome(W)&&(ra=D(W,Y,ha));M.isSome(qa)?(U=F(qa),A.push({attributes:da,centroid:U,geometry:ra})):A.push({attributes:da,geometry:ra})}break;default:Ba.error("convertToFeatureSet:unknown-geometry",new a(`Unable to parse unknown geometry type '${X}'`))}return A}function ma(A,T,X,Y,ha,ea,U=X,W=Y){A.lengths.length&&(A.lengths.length=0);A.coords.length&&(A.coords.length=0);if(M.isNone(T)||!T.coords.length)return null;
ha=Ka[ha];const {coords:da,lengths:qa}=T;T=q(X,Y);const ra=q(X&&U,Y&&W);X=t(X,Y,U,W);if(!qa.length)return X(A.coords,da,0,0,z(ea,da[0]),K(ea,da[1])),A.lengths.length&&(A.lengths.length=0),A.coords.length=T,A;let wa,ya=0,Aa,Ha=0;for(const Ga of qa){if(Ga<ha)continue;let Ea=0;Aa=Ha;W=Y=z(ea,da[ya]);wa=U=K(ea,da[ya+1]);X(A.coords,da,Aa,ya,W,wa);Ea++;ya+=T;Aa+=ra;for(let Da=1;Da<Ga;Da++,ya+=T)if(W=z(ea,da[ya]),wa=K(ea,da[ya+1]),W!==Y||wa!==U)X(A.coords,da,Aa,ya,W-Y,wa-U),Aa+=ra,Ea++,Y=W,U=wa;Ea>=ha&&
(A.lengths.push(Ea),Ha=Aa)}A.coords.length=Ha;return A.coords.length?A:null}function la(A,T,X,Y,ha,ea,U){let W=Y,da=0;for(let ra=ea+X;ra<U;ra+=X){{var qa=T[ra];const wa=T[ra+1],ya=T[U],Aa=T[U+1];let Ha=T[ea],Ga=T[ea+1],Ea=ya-Ha,Da=Aa-Ga;if(0!==Ea||0!==Da){const Fa=((qa-Ha)*Ea+(wa-Ga)*Da)/(Ea*Ea+Da*Da);1<Fa?(Ha=ya,Ga=Aa):0<Fa&&(Ha+=Ea*Fa,Ga+=Da*Fa)}Ea=qa-Ha;Da=wa-Ga;qa=Ea*Ea+Da*Da}qa>W&&(da=ra,W=qa)}W>Y&&(da-ea>X&&la(A,T,X,Y,ha,ea,da),ha(A,T,A.length,da,T[da],T[da+1]),U-da>X&&la(A,T,X,Y,ha,da,U))}
function pa(A,T,X,Y,ha){const {coords:ea,lengths:U}=T,W=X?Y?g:Oa:Y?Oa:Ta;X=q(X,Y);if(!ea.length)return A!==T&&(A.lengths.length=0,A.coords.length=0),A;if(!U.length)return W(A.coords,ea,0,0,N(ha,ea[0]),h(ha,ea[1])),A!==T&&(A.lengths.length=0,A.coords.length=X),A;const [da,qa]=ha.scale;Y=0;for(let ra=0;ra<U.length;ra++){const wa=U[ra];A.lengths[ra]=wa;let ya=N(ha,ea[Y]),Aa=h(ha,ea[Y+1]);W(A.coords,ea,Y,Y,ya,Aa);Y+=X;for(let Ha=1;Ha<wa;Ha++,Y+=X)ya+=ea[Y]*da,Aa-=ea[Y+1]*qa,W(A.coords,ea,Y,Y,ya,Aa)}A!==
T&&(A.lengths.length=U.length,A.coords.length=ea.length);return A}function va(A,T,X,Y){let ha=0,ea=A[Y*T],U=A[Y*(T+1)];for(let W=1;W<X;W++){const da=ea+A[Y*(T+W)],qa=U+A[Y*(T+W)+1],ra=(da-ea)*(qa+U);ea=da;U=qa;ha+=ra}return.5*ha}const Ba=E.getLogger("esri.layers.graphics.featureConversionUtils"),Ka={esriGeometryPoint:0,esriGeometryPolyline:2,esriGeometryPolygon:3,esriGeometryMultipoint:0},Ta=(A,T,X,Y,ha,ea)=>{A[X]=ha;A[X+1]=ea},Oa=(A,T,X,Y,ha,ea)=>{A[X]=ha;A[X+1]=ea;A[X+2]=T[Y+2]},Sa=(A,T,X,Y,ha,
ea)=>{A[X]=ha;A[X+1]=ea;A[X+2]=T[Y+3]},g=(A,T,X,Y,ha,ea)=>{A[X]=ha;A[X+1]=ea;A[X+2]=T[Y+2];A[X+3]=T[Y+3]},C=[],fa=[];c.convertFromFeature=function(A,T,X,Y,ha){C[0]=A;[A]=Z(fa,C,T,X,Y,ha);C.length=fa.length=0;return A};c.convertFromFeatureSet=function(A,T){const X=new w,{hasM:Y,hasZ:ha,features:ea,objectIdFieldName:U,spatialReference:W,geometryType:da,exceededTransferLimit:qa,transform:ra,fields:wa}=A;wa&&(X.fields=wa);X.geometryType=da;X.objectIdFieldName=U||T;X.spatialReference=W;if(!X.objectIdFieldName)return Ba.error(new a("optimized-features:invalid-objectIdFieldName",
"objectIdFieldName is missing")),X;ea&&Z(X.features,ea,da,ha,Y,X.objectIdFieldName);qa&&(X.exceededTransferLimit=qa);Y&&(X.hasM=Y);ha&&(X.hasZ=ha);ra&&(X.transform=ra);return X};c.convertFromFeatures=Z;c.convertFromGeometry=function(A,T,X){if(M.isNone(A))return null;const Y=new v;"hasZ"in A&&null==T&&(T=A.hasZ);"hasM"in A&&null==X&&(X=A.hasM);if(n.isPoint(A))return J(null!=T?T:null!=A.z,null!=X?X:null!=A.m)(Y,A);if(n.isPolygon(A))return x(Y,A,T,X);if(n.isPolyline(A))return L(Y,A,q(T,X));if(n.isMultipoint(A))return l(Y,
A,q(T,X));Ba.error("convertFromGeometry:unknown-geometry",new a(`Unable to parse unknown geometry type '${A}'`))};c.convertFromGraphics=function(A,T,X,Y,ha,ea){const U=A.length;switch(X){case "esriGeometryPoint":B(A,T,Y,ha,ea);break;case "esriGeometryMultipoint":b(A,T,Y,ha,ea);break;case "esriGeometryPolyline":S(A,T,Y,ha,ea);break;case "esriGeometryPolygon":f(A,T,Y,ha,ea);break;default:Ba.error("convertToFeatureSet:unknown-geometry",new a(`Unable to parse unknown geometry type '${X}'`))}for(Y=0;Y<
T.length;Y++)A[Y+U].geometryType=X,A[Y+U].insertAfter=T[Y].insertAfter,A[Y+U].groupId=T[Y].groupId;return A};c.convertFromMultipoint=l;c.convertFromMultipointFeatures=b;c.convertFromNestedArray=V;c.convertFromPoint=function(A,T,X=J(null!=T.z,null!=T.m)){return X(A,T)};c.convertFromPointFeatures=B;c.convertFromPolygon=x;c.convertFromPolyline=L;c.convertFromPolylineFeatures=S;c.convertToFeature=function(A,T,X,Y){fa[0]=A;oa(C,fa,T,X,Y);A=C[0];C.length=fa.length=0;return A};c.convertToFeatureSet=function(A){const {objectIdFieldName:T,
spatialReference:X,transform:Y,fields:ha,hasM:ea,hasZ:U,features:W,geometryType:da,exceededTransferLimit:qa,uniqueIdField:ra,queryGeometry:wa,queryGeometryType:ya}=A;A=oa([],W,da,U,ea);const Aa=ja(wa,ya,!1,!1);A={features:A,fields:ha,geometryType:da,objectIdFieldName:T,spatialReference:X,uniqueIdField:ra,queryGeometry:Aa};Y&&(A.transform=Y);qa&&(A.exceededTransferLimit=qa);ea&&(A.hasM=ea);U&&(A.hasZ=U);return A};c.convertToFeatures=oa;c.convertToGeometry=ja;c.convertToMultipoint=y;c.convertToMultipointFeatures=
m;c.convertToPoint=function(A,T,X){return A?T?X?O(A):k(A):X?P(A):F(A):null};c.convertToPolygon=D;c.convertToPolyline=H;c.deltaDecodeGeometry=function(A,T){if(M.isNone(A))return null;const X=A.clone(),Y=A.coords;A=A.lengths;let ha=0;for(let W=0;W<A.length;W++){const da=A[W];var ea=Y[T*ha],U=Y[T*ha+1];for(let qa=1;qa<da;qa++)ea+=Y[T*(ha+qa)],U+=Y[T*(ha+qa)+1],X.coords[T*(ha+qa)]=ea,X.coords[T*(ha+qa)+1]=U;ha+=da}return X};c.deltaEncodeGeometry=function(A,T){const X=A.clone(),Y=A.coords;A=A.lengths;
let ha=0;for(let U=0;U<A.length;U++){const W=A[U];let da=Y[T*ha];var ea=Y[T*ha+1];for(let qa=1;qa<W;qa++){const ra=Y[T*(ha+qa)],wa=Y[T*(ha+qa)+1];ea=wa-ea;X.coords[T*(ha+qa)]=ra-da;X.coords[T*(ha+qa)+1]=ea;da=ra;ea=wa}ha+=W}return X};c.generalizeOptimizedGeometry=function(A,T,X,Y,ha,ea,U=X,W=Y){A.lengths.length&&(A.lengths.length=0);A.coords.length&&(A.coords.length=0);if(!T||!T.coords.length)return null;ha=Ka[ha];const {coords:da,lengths:qa}=T;T=q(X,Y);const ra=q(X&&U,Y&&W);X=t(X,Y,U,W);if(!qa.length)return X(A.coords,
da,0,0,da[0],da[1]),A.lengths.length&&(A.lengths.length=0),A.coords.length=T,A;Y=0;ea*=ea;for(const wa of qa){if(wa<ha){Y+=wa*T;continue}U=A.coords.length/ra;W=Y;const ya=Y+(wa-1)*T;X(A.coords,da,A.coords.length,W,da[W],da[W+1]);la(A.coords,da,T,ea,X,W,ya);X(A.coords,da,A.coords.length,ya,da[ya],da[ya+1]);W=A.coords.length/ra-U;W>=ha?A.lengths.push(W):A.coords.length=U*ra;Y+=wa*T}return A.coords.length?A:null};c.getBoundsOptimizedGeometry=function(A,T,X,Y){if(M.isNone(T)||!T.coords||!T.coords.length)return null;
X=q(X,Y);let ha=Y=Number.POSITIVE_INFINITY,ea=Number.NEGATIVE_INFINITY,U=Number.NEGATIVE_INFINITY;if(T&&T.coords){T=T.coords;for(let W=0;W<T.length;W+=X){const da=T[W],qa=T[W+1];Y=Math.min(Y,da);ea=Math.max(ea,da);ha=Math.min(ha,qa);U=Math.max(U,qa)}}A[0]=Y;A[1]=ha;A[2]=ea;A[3]=U;return A};c.getQuantizedArea=function(A,T){const {coords:X,lengths:Y}=A;let ha=A=0;for(let ea=0;ea<Y.length;ea++)ha+=va(X,A,Y[ea],T),A+=ea;return Math.abs(ha)};c.getQuantizedBoundsOptimizedGeometry=function(A,T,X,Y){X=q(X,
Y);const {lengths:ha,coords:ea}=T;Y=T=Number.POSITIVE_INFINITY;let U=Number.NEGATIVE_INFINITY,W=Number.NEGATIVE_INFINITY,da=0;for(const qa of ha){let ra=ea[da],wa=ea[da+1];T=Math.min(ra,T);Y=Math.min(wa,Y);U=Math.max(ra,U);W=Math.max(wa,W);da+=X;for(let ya=1;ya<qa;ya++,da+=X){const Aa=ea[da],Ha=ea[da+1];ra+=Aa;wa+=Ha;0>Aa&&(T=Math.min(T,ra));0<Aa&&(U=Math.max(U,ra));0>Ha?Y=Math.min(Y,wa):0<Ha&&(W=Math.max(W,wa))}}A[0]=T;A[1]=Y;A[2]=U;A[3]=W;return A};c.getSignedQuantizedRingArea=va;c.quantizeOptimizedFeatureSet=
function(A,T){const {geometryType:X,features:Y,hasM:ha,hasZ:ea}=T;if(!A)return T;for(let U=0;U<Y.length;U++){const W=Y[U],da=W.weakClone();da.geometry=new v;ma(da.geometry,W.geometry,ha,ea,X,A);W.centroid&&(da.centroid=new v,ma(da.centroid,W.centroid,ha,ea,"esriGeometryPoint",A));Y[U]=da}T.transform=A;return T};c.quantizeOptimizedGeometry=ma;c.quantizeX=z;c.quantizeY=K;c.removeCollinearVectices=function(A,T,X,Y,ha){if(!T||!T.coords||!T.coords.length)return null;X=Ka[X];const {coords:ea,lengths:U}=
T;T=t(Y,ha,Y,ha);Y=q(Y,ha);let W=ha=0,da=0,qa=0;for(const ya of U){W=qa;T(A.coords,ea,W,ha,ea[ha],ea[ha+1]);ha+=Y;var ra=ea[ha];let Aa=ea[ha+1],Ha=ra,Ga=Aa;var wa=Aa/ra;W+=Y;T(A.coords,ea,W,ha,Ha,Ga);ha+=Y;for(let Ea=2;Ea<ya;Ea++){ra=ea[ha];Aa=ea[ha+1];const Da=Aa/ra,Fa=wa===Da||!isFinite(wa)&&!isFinite(Da);wa=Fa&&isFinite(Da)?0<=wa&&0<=Da||0>=wa&&0>=Da:0<=Ga&&0<=Aa||0>=Ga&&0>=Aa;Fa&&wa?(Ha+=ra,Ga+=Aa):(Ha=ra,Ga=Aa,W+=Y);T(A.coords,ea,W,ha,Ha,Ga);ha+=Y;wa=Da}W+=Y;ra=(W-qa)/Y;ra>=X&&(A.lengths[da]=
ra,qa=W,da++)}A.coords.length>qa&&(A.coords.length=qa);A.lengths.length>da&&(A.lengths.length=da);return A.coords.length&&A.lengths.length?A:null};c.removeZMValues=function(A,T,X,Y,ha,ea){const U=q(X,Y);X=t(X,Y,ha,ea);Y=T.coords;A.coords.length=0;A.lengths.length=0;A.lengths.push(...T.lengths);for(T=0;T<Y.length;T+=U)X(A.coords,Y,A.coords.length,T,Y[T],Y[T+1]);return A};c.unquantizeOptimizedFeatureSet=function(A){const {transform:T,features:X,hasM:Y,hasZ:ha}=A;if(!T)return A;for(const ea of X)M.isSome(ea.geometry)&&
pa(ea.geometry,ea.geometry,Y,ha,T),M.isSome(ea.centroid)&&pa(ea.centroid,ea.centroid,Y,ha,T);A.transform=null;return A};c.unquantizeOptimizedGeometry=pa;c.unquantizeX=N;c.unquantizeY=h;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeature":function(){define(["exports","../../chunks/_rollupPluginBabelHelpers","../../core/maybe"],function(c,a,E){let M=function(){function p(w=null,v={},q,t){this.geometry=w;this.attributes=v;this.centroid=q;this.objectId=t;this.geohashY=
this.geohashX=this.displayId=0}p.prototype.weakClone=function(){const w=new p(this.geometry,this.attributes,this.centroid,this.objectId);w.displayId=this.displayId;w.geohashX=this.geohashX;w.geohashY=this.geohashY;return w};return p}(),n=function(p){function w(){return p.apply(this,arguments)||this}a._inheritsLoose(w,p);return w}(M);c.OptimizedFeature=M;c.OptimizedFeatureWithGeometry=n;c.hasGeometry=function(p){return!(E.isNone(p.geometry)||!p.geometry.coords||!p.geometry.coords.length)};Object.defineProperty(c,
"__esModule",{value:!0})})},"esri/layers/graphics/OptimizedFeatureSet":function(){define(function(){return function(){function c(){this.spatialReference=this.geometryType=this.geometryProperties=this.geohashFieldName=this.globalIdFieldName=this.objectIdFieldName=null;this.hasM=this.hasZ=!1;this.features=[];this.fields=[];this.transform=null;this.exceededTransferLimit=!1;this.queryGeometry=this.queryGeometryType=this.uniqueIdField=null}c.prototype.weakClone=function(){const a=new c;a.objectIdFieldName=
this.objectIdFieldName;a.globalIdFieldName=this.globalIdFieldName;a.geohashFieldName=this.geohashFieldName;a.geometryProperties=this.geometryProperties;a.geometryType=this.geometryType;a.spatialReference=this.spatialReference;a.hasZ=this.hasZ;a.hasM=this.hasM;a.features=this.features;a.fields=this.fields;a.transform=this.transform;a.exceededTransferLimit=this.exceededTransferLimit;a.uniqueIdField=this.uniqueIdField;a.queryGeometry=this.queryGeometry;a.queryGeometryType=this.queryGeometryType;return a};
return c}()})},"esri/layers/graphics/OptimizedGeometry":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(c){return function(){function a(M=[],n=[],p=!1){this.lengths=null!=M?M:[];this.coords=null!=n?n:[];this.hasIndeterminateRingOrder=p}var E=a.prototype;E.forEachVertex=function(M){let n=0;this.lengths.length||M(this.coords[0],this.coords[1]);for(let p=0;p<this.lengths.length;p++){const w=this.lengths[p];for(let v=0;v<w;v++)M(this.coords[2*(v+n)],this.coords[2*(v+n)+1]);n+=w}};
E.clone=function(M){return M?(M.set(this.coords),new a(this.lengths.slice(),M,this.hasIndeterminateRingOrder)):new a(this.lengths.slice(),this.coords.slice(),this.hasIndeterminateRingOrder)};c._createClass(a,[{key:"isPoint",get:function(){return 0===this.lengths.length}},{key:"maxLength",get:function(){return Math.max(...this.lengths)}},{key:"size",get:function(){return this.lengths.reduce((M,n)=>M+n)}}]);return a}()})},"esri/layers/graphics/data/BoundsStore":function(){define(["exports","../../../core/has",
"../../../core/libs/rbush/PooledRBush"],function(c,a,E){function M(w,v,q){n.minX=v[0];n.minY=v[1];n.maxX=v[2];n.maxY=v[3];w.search(n,q)}const n={minX:0,minY:0,maxX:0,maxY:0};let p=function(){function w(){this._indexInvalid=!1;this._boundsToLoad=[];this._boundsById=new Map;this._idByBounds=new Map;this._index=new E.PooledRBush(9,a("esri-csp-restrictions")?q=>({minX:q[0],minY:q[1],maxX:q[2],maxY:q[3]}):["[0]","[1]","[2]","[3]"]);this._loadIndex=()=>{if(this._indexInvalid){const q=Array(this._idByBounds.size);
let t=0;this._idByBounds.forEach((z,K)=>{q[t++]=K});this._indexInvalid=!1;this._index.clear();this._index.load(q)}else this._boundsToLoad.length&&(this._index.load(this._boundsToLoad.filter(q=>this._idByBounds.has(q))),this._boundsToLoad.length=0)}}var v=w.prototype;v.clear=function(){this._indexInvalid=!1;this._boundsToLoad.length=0;this._boundsById.clear();this._idByBounds.clear();this._index.clear()};v.delete=function(q){const t=this._boundsById.get(q);this._boundsById.delete(q);t&&(this._idByBounds.delete(t),
this._indexInvalid||this._index.remove(t))};v.forEachInBounds=function(q,t){this._loadIndex();M(this._index,q,z=>t(this._idByBounds.get(z)))};v.get=function(q){return this._boundsById.get(q)};v.has=function(q){return this._boundsById.has(q)};v.invalidateIndex=function(){this._indexInvalid||(this._indexInvalid=!0,this._boundsToLoad.length=0)};v.set=function(q,t){if(!this._indexInvalid){const z=this._boundsById.get(q);z&&(this._index.remove(z),this._idByBounds.delete(z))}this._boundsById.set(q,t);t&&
(this._idByBounds.set(t,q),this._indexInvalid||(this._boundsToLoad.push(t),5E4<this._boundsToLoad.length&&this._loadIndex()))};return w}();c.BoundsStore=p;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/libs/rbush/PooledRBush":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../arrayUtils ../../maybe ../../PooledArray ../../../chunks/quickselect".split(" "),function(c,a,E,M,n,p){function w(m,y){v(m,0,m.children.length,y,m)}function v(m,y,b,l,H){H||(H=new J([]));
H.minX=Infinity;H.minY=Infinity;H.maxX=-Infinity;H.maxY=-Infinity;for(let S=y,L;S<b;S++)L=m.children[S],q(H,m.leaf?l(L):L);return H}function q(m,y){m.minX=Math.min(m.minX,y.minX);m.minY=Math.min(m.minY,y.minY);m.maxX=Math.max(m.maxX,y.maxX);m.maxY=Math.max(m.maxY,y.maxY)}function t(m,y){return m.minX-y.minX}function z(m,y){return m.minY-y.minY}function K(m){return(m.maxX-m.minX)*(m.maxY-m.minY)}function N(m){return m.maxX-m.minX+(m.maxY-m.minY)}function h(m,y){return m.minX<=y.minX&&m.minY<=y.minY&&
y.maxX<=m.maxX&&y.maxY<=m.maxY}function F(m,y){return y.minX<=m.maxX&&y.minY<=m.maxY&&y.maxX>=m.minX&&y.maxY>=m.minY}function d(m,y,b,l,H){for(y=[y,b];y.length;){b=M.assumeNonNull(y.pop());const S=M.assumeNonNull(y.pop());if(b-S<=l)continue;const L=S+Math.ceil((b-S)/l/2)*l;p.quickselect(m,L,S,b,H);y.push(S,L,L,b)}}let k=function(){function m(b=9,l){this.compareMinX=t;this.compareMinY=z;this._toBBox=function(H){return H};this._maxEntries=Math.max(4,b||9);this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries));
l&&("function"===typeof l?this._toBBox=l:this._initFormat(l));this.clear()}var y=m.prototype;y.destroy=function(){this.clear();G.prune();P.prune();u.prune();O.prune()};y.all=function(b){this._all(this.data,b)};y.search=function(b,l){let H=this.data;const S=this._toBBox;if(F(b,H))for(G.clear();H;){for(let L=0,D=H.children.length;L<D;L++){const f=H.children[L],x=H.leaf?S(f):f;F(b,x)&&(H.leaf?l(f):h(b,x)?this._all(f,l):G.push(f))}H=G.pop()}};y.collides=function(b){let l=this.data;const H=this._toBBox;
if(!F(b,l))return!1;for(G.clear();l;){for(let S=0,L=l.children.length;S<L;S++){const D=l.children[S],f=l.leaf?H(D):D;if(F(b,f)){if(l.leaf||h(b,f))return!0;G.push(D)}}l=G.pop()}return!1};y.load=function(b){if(!b.length)return this;if(b.length<this._minEntries){for(let l=0,H=b.length;l<H;l++)this.insert(b[l]);return this}b=this._build(b.slice(0,b.length),0,b.length-1,0);if(this.data.children.length)if(this.data.height===b.height)this._splitRoot(this.data,b);else{if(this.data.height<b.height){const l=
this.data;this.data=b;b=l}this._insert(b,this.data.height-b.height-1,!0)}else this.data=b;return this};y.insert=function(b){b&&this._insert(b,this.data.height-1);return this};y.clear=function(){this.data=new J([]);return this};y.remove=function(b){if(!b)return this;let l=this.data,H=null,S=0,L=!1,D;const f=this._toBBox(b);u.clear();for(O.clear();l||0<u.length;){if(!l){var x;l=M.assumeNonNull(u.pop());H=u.data[u.length-1];S=null!=(x=O.pop())?x:0;L=!0}if(l.leaf&&(D=E.indexOf(l.children,b,l.children.length,
l.indexHint),-1!==D)){l.children.splice(D,1);u.push(l);this._condense(u);break}L||l.leaf||!h(l,f)?H?(S++,l=H.children[S],L=!1):l=null:(u.push(l),O.push(S),S=0,H=l,l=l.children[0])}return this};y.toJSON=function(){return this.data};y.fromJSON=function(b){this.data=b;return this};y._all=function(b,l){for(P.clear();b;){var H;if(!0===b.leaf)for(const S of b.children)l(S);else P.pushArray(b.children);b=null!=(H=P.pop())?H:null}};y._build=function(b,l,H,S){var L=H-l+1,D=this._maxEntries;if(L<=D)return b=
new J(b.slice(l,H+1)),w(b,this._toBBox),b;S||(S=Math.ceil(Math.log(L)/Math.log(D)),D=Math.ceil(L/D**(S-1)));const f=new B([]);f.height=S;L=Math.ceil(L/D);D=L*Math.ceil(Math.sqrt(D));for(d(b,l,H,D,this.compareMinX);l<=H;l+=D){const x=Math.min(l+D-1,H);d(b,l,x,L,this.compareMinY);for(let V=l;V<=x;V+=L)f.children.push(this._build(b,V,Math.min(V+L-1,x),S-1))}w(f,this._toBBox);return f};y._chooseSubtree=function(b,l,H,S){for(;;){S.push(l);if(!0===l.leaf||S.length-1===H)break;let L=Infinity,D=Infinity,
f=void 0;for(let x=0,V=l.children.length;x<V;x++){const Z=l.children[x],ja=K(Z),oa=(Math.max(Z.maxX,b.maxX)-Math.min(Z.minX,b.minX))*(Math.max(Z.maxY,b.maxY)-Math.min(Z.minY,b.minY))-ja;oa<D?(D=oa,L=ja<L?ja:L,f=Z):oa===D&&ja<L&&(L=ja,f=Z)}l=f||l.children[0]}return l};y._insert=function(b,l,H){var S=this._toBBox;H=H?b:S(b);u.clear();S=this._chooseSubtree(H,this.data,l,u);S.children.push(b);for(q(S,H);0<=l;)if(u.data[l].children.length>this._maxEntries)this._split(u,l),l--;else break;this._adjustParentBBoxes(H,
u,l)};y._split=function(b,l){const H=b.data[l];var S=H.children.length;const L=this._minEntries;this._chooseSplitAxis(H,L,S);(S=this._chooseSplitIndex(H,L,S))?(S=H.children.splice(S,H.children.length-S),S=H.leaf?new J(S):new B(S),S.height=H.height,w(H,this._toBBox),w(S,this._toBBox),l?b.data[l-1].children.push(S):this._splitRoot(H,S)):console.log("  Error: assertion failed at PooledRBush._split: no valid split index")};y._splitRoot=function(b,l){this.data=new B([b,l]);this.data.height=b.height+1;
w(this.data,this._toBBox)};y._chooseSplitIndex=function(b,l,H){let S,L,D=void 0;S=L=Infinity;for(let x=l;x<=H-l;x++){var f=v(b,0,x,this._toBBox);const V=v(b,x,H,this._toBBox),Z=Math.max(0,Math.min(f.maxX,V.maxX)-Math.max(f.minX,V.minX))*Math.max(0,Math.min(f.maxY,V.maxY)-Math.max(f.minY,V.minY));f=K(f)+K(V);Z<S?(S=Z,D=x,L=f<L?f:L):Z===S&&f<L&&(L=f,D=x)}return D};y._chooseSplitAxis=function(b,l,H){const S=b.leaf?this.compareMinX:t,L=b.leaf?this.compareMinY:z,D=this._allDistMargin(b,l,H,S);l=this._allDistMargin(b,
l,H,L);D<l&&b.children.sort(S)};y._allDistMargin=function(b,l,H,S){b.children.sort(S);S=this._toBBox;var L=v(b,0,l,S);const D=v(b,H-l,H,S);let f=N(L)+N(D);for(let x=l;x<H-l;x++){const V=b.children[x];q(L,b.leaf?S(V):V);f+=N(L)}for(H=H-l-1;H>=l;H--)L=b.children[H],q(D,b.leaf?S(L):L),f+=N(D);return f};y._adjustParentBBoxes=function(b,l,H){for(;0<=H;H--)q(l.data[H],b)};y._condense=function(b){for(let l=b.length-1;0<=l;l--){const H=b.data[l];if(0===H.children.length)if(0<l){const S=b.data[l-1],L=S.children;
L.splice(E.indexOf(L,H,L.length,S.indexHint),1)}else this.clear();else w(H,this._toBBox)}};y._initFormat=function(b){const l=["return a"," - b",";"];this.compareMinX=new Function("a","b",l.join(b[0]));this.compareMinY=new Function("a","b",l.join(b[1]));this._toBBox=new Function("a","return {minX: a"+b[0]+", minY: a"+b[1]+", maxX: a"+b[2]+", maxY: a"+b[3]+"};")};return m}();const G=new n,P=new n,u=new n,O=new n({deallocator:void 0});n=function(){this.minY=this.minX=Infinity;this.maxY=this.maxX=-Infinity};
let Q=function(m){function y(){var b=m.apply(this,arguments)||this;b.height=1;b.indexHint=new E.PositionHint;return b}a._inheritsLoose(y,m);return y}(n),J=function(m){function y(b){var l=m.call(this)||this;l.children=b;l.leaf=!0;return l}a._inheritsLoose(y,m);return y}(Q),B=function(m){function y(b){var l=m.call(this)||this;l.children=b;l.leaf=!1;return l}a._inheritsLoose(y,m);return y}(Q);c.BBox=n;c.PooledRBush=k;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/chunks/quickselect":function(){define(["exports"],
function(c){var a={exports:{}};(function(E){(function(M){M=M();void 0!==M&&(E.exports=M)})(function(){function M(w,v,q,t,z){for(;t>q;){if(600<t-q){var K=t-q+1,N=v-q+1,h=Math.log(K),F=.5*Math.exp(2*h/3);h=.5*Math.sqrt(h*F*(K-F)/K)*(0>N-K/2?-1:1);M(w,v,Math.max(q,Math.floor(v-N*F/K+h)),Math.min(t,Math.floor(v+(K-N)*F/K+h)),z)}K=w[v];N=q;F=t;n(w,q,v);for(0<z(w[t],K)&&n(w,q,t);N<F;){n(w,N,F);N++;for(F--;0>z(w[N],K);)N++;for(;0<z(w[F],K);)F--}0===z(w[q],K)?n(w,q,F):(F++,n(w,F,t));F<=v&&(q=F+1);v<=F&&(t=
F-1)}}function n(w,v,q){var t=w[v];w[v]=w[q];w[q]=t}function p(w,v){return w<v?-1:w>v?1:0}return function(w,v,q,t,z){M(w,v,q||0,t||w.length-1,z||p)}})})(a);c.quickselect=a.exports})},"esri/layers/graphics/data/optimizedFeatureQueryEngineAdapter":function(){define(["exports","../../../core/maybe","../centroid","../OptimizedFeature","../OptimizedGeometry"],function(c,a,E,M,n){const p={getObjectId(w){return w.objectId},getAttributes(w){return w.attributes},getAttribute(w,v){return w.attributes[v]},cloneWithGeometry(w,
v){return new M.OptimizedFeature(v,w.attributes,null,w.objectId)},getGeometry(w){return w.geometry},getCentroid(w,v){a.isNone(w.centroid)&&(w.centroid=E.getCentroidOptimizedGeometry(new n,w.geometry,v.hasZ,v.hasM));return w.centroid}};c.default=p;c.optimizedFeatureQueryEngineAdapter=p;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/centroid":function(){define(["exports","../../core/maybe"],function(c,a){function E(n,p,w,v,q,t,z=1){t=q?t?4:3:t?3:2;let K=w,N=w+t,h=0,F=0,d=
w=0,k=0;for(let G=0,P=v-1;G<P;G++,K+=t,N+=t){v=p[K];const u=p[K+1],O=p[K+2],Q=p[N],J=p[N+1],B=p[N+2];let m=v*J-Q*u;d+=m;h+=(v+Q)*m;F+=(u+J)*m;q&&(m=v*B-Q*O,w+=(O+B)*m,k+=m);v<n[0]&&(n[0]=v);v>n[1]&&(n[1]=v);u<n[2]&&(n[2]=u);u>n[3]&&(n[3]=u);q&&(O<n[4]&&(n[4]=O),O>n[5]&&(n[5]=O))}0<d*z&&(d*=-1);0<k*z&&(k*=-1);if(!d)return null;n=[h,F,.5*d];q&&(n[3]=w,n[4]=.5*k);return n}function M(n,p,w,v,q){q=v?q?4:3:q?3:2;let t=p,z=p+q,K=0,N=0,h=0,F=0;for(let P=0,u=w-1;P<u;P++,t+=q,z+=q){var d=n[t];const O=n[t+1],
Q=n[t+2],J=n[z],B=n[z+1],m=n[z+2];if(v){{var k=J-d;var G=B-O;const y=m-Q;k=Math.sqrt(k*k+G*G+y*y)}}else k=J-d,G=B-O,k=Math.sqrt(k*k+G*G);k&&(K+=k,v?(d=[d+.5*(J-d),O+.5*(B-O),Q+.5*(m-Q)],N+=k*d[0],h+=k*d[1],F+=k*d[2]):(d=[d+.5*(J-d),O+.5*(B-O)],N+=k*d[0],h+=k*d[1]))}return 0<K?v?[N/K,h/K,F/K]:[N/K,h/K]:0<w?v?[n[p],n[p+1],n[p+2]]:[n[p],n[p+1]]:null}c.getCentroidOptimizedGeometry=function(n,p,w,v,q){if(a.isNone(p)||!p.lengths.length)return null;const t="upperLeft"===(null==q?void 0:q.originPosition)?
-1:1;n.lengths.length&&(n.lengths.length=0);n.coords.length&&(n.coords.length=0);q=n.coords;const z=[],K=w?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY],{lengths:N,coords:h}=p,F=w?v?4:3:v?3:2;let d=0;for(var k of N){const G=E(K,h,d,k,w,v,t);G&&z.push(G);d+=k*F}z.sort((G,P)=>{let u=t*G[2]-t*P[2];
0===u&&w&&(u=G[4]-P[4]);return u});z.length&&(k=6*z[0][2],q[0]=z[0][0]/k,q[1]=z[0][1]/k,w&&(k=6*z[0][4],q[2]=0!==k?z[0][3]/k:0),q[0]<K[0]||q[0]>K[1]||q[1]<K[2]||q[1]>K[3]||w&&(q[2]<K[4]||q[2]>K[5]))&&(q.length=0);if(!q.length)if(p=p.lengths[0]?M(h,0,N[0],w,v):null)q[0]=p[0],q[1]=p[1],w&&2<p.length&&(q[2]=p[2]);else return null;return n};c.lineCentroid=M;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/data/QueryEngine":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/Error ../../../core/lang ../../../core/maybe ../../../core/MemCache ../../../core/unitUtils ../../../geometry/support/aaBoundingBox ../../../geometry/support/aaBoundingRect ../../../geometry/support/boundsUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ./attributeSupport ./projectionSupport ./QueryEngineCapabilities ./QueryEngineResult ./spatialQuerySupport ./timeSupport ./utils ../../support/FieldsIndex ../../../support/arcadeOnDemand ../../../views/support/Scheduler".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h,F,d,k,G,P,u,O,Q,J){function B(L){return L.every(D=>"exceedslimit"!==D.statisticType)}const m=new Set,y=new p.MemCacheStorage(2E6);let b=0,l=function(){function L(f){this.capabilities={query:d.queryCapabilities};this.geometryType=f.geometryType;this.hasM=f.hasM;this.hasZ=f.hasZ;this.objectIdField=f.objectIdField;this.spatialReference=f.spatialReference;this.definitionExpression=f.definitionExpression;this.featureStore=f.featureStore;this.aggregateAdapter=f.aggregateAdapter;
this._changeHandle=this.featureStore.events.on("changed",()=>this.clearCache());this.timeInfo=f.timeInfo;f.cacheSpatialQueries&&(this._geometryQueryCache=new p.MemCache(b++ +"$$",y));this.fieldsIndex=new O(f.fields);f.scheduler&&f.priority&&(this._frameTask=f.scheduler.registerTask(f.priority))}var D=L.prototype;D.destroy=function(){this._frameTask=n.removeMaybe(this._frameTask);this.clearCache();n.destroyMaybe(this._geometryQueryCache);this._changeHandle=n.removeMaybe(this._changeHandle);n.destroyMaybe(this.fieldsIndex)};
D.clearCache=function(){this._geometryQueryCache&&this._geometryQueryCache.clear();this._timeExtent=this._allItems=null};D.executeQuery=function(){var f=a._asyncToGenerator(function*(x={},V){let Z=M.clone(x),ja;try{Z=yield this._schedule(()=>u.normalizeQuery(Z,this.definitionExpression,this.spatialReference),V),Z=yield this._reschedule(()=>this._checkQuerySupport(Z),V),ja=yield this._reschedule(()=>this._executeGeometryQuery(Z,V),V),ja=yield this._reschedule(()=>ja.executeAggregateIdsQuery(Z),V),
ja=yield this._reschedule(()=>ja.executeObjectIdsQuery(Z),V),ja=yield this._reschedule(()=>ja.executeTimeQuery(Z),V),ja=yield this._reschedule(()=>ja.executeAttributesQuery(Z),V)}catch(oa){if(oa!==u.QUERY_ENGINE_EMPTY_RESULT)throw oa;ja=new k.default([],null,this)}return ja.createQueryResponse(Z)});return function(){return f.apply(this,arguments)}}();D.executeQueryForCount=function(){var f=a._asyncToGenerator(function*(x={},V){let Z=M.clone(x);Z.returnGeometry=!1;Z.returnCentroid=!1;Z.outSR=null;
try{Z=yield this._schedule(()=>u.normalizeQuery(Z,this.definitionExpression,this.spatialReference),V);Z=yield this._reschedule(()=>this._checkQuerySupport(Z),V);let ja=yield this._reschedule(()=>this._executeGeometryQuery(Z,V),V);ja=yield this._reschedule(()=>ja.executeAggregateIdsQuery(Z),V);ja=yield this._reschedule(()=>ja.executeObjectIdsQuery(Z),V);ja=yield this._reschedule(()=>ja.executeTimeQuery(Z),V);ja=yield this._reschedule(()=>ja.executeAttributesQuery(Z),V);return ja.createQueryResponseForCount(Z)}catch(ja){if(ja!==
u.QUERY_ENGINE_EMPTY_RESULT)throw ja;return 0}});return function(){return f.apply(this,arguments)}}();D.executeQueryForExtent=function(){var f=a._asyncToGenerator(function*(x={},V){let Z=M.clone(x),ja;x=Z.outSR;try{Z=yield this._schedule(()=>u.normalizeQuery(Z,this.definitionExpression,this.spatialReference),V);Z=yield this._reschedule(()=>this._checkQuerySupport(Z),V);Z.returnGeometry=!0;Z.returnCentroid=!1;Z.outSR=null;ja=yield this._reschedule(()=>this._executeGeometryQuery(Z,V),V);ja=yield this._reschedule(()=>
ja.executeAggregateIdsQuery(Z),V);ja=yield this._reschedule(()=>ja.executeObjectIdsQuery(Z),V);ja=yield this._reschedule(()=>ja.executeTimeQuery(Z),V);ja=yield this._reschedule(()=>ja.executeAttributesQuery(Z),V);const oa=ja.size;if(!oa)return{count:oa,extent:null};v.set(S,v.NEGATIVE_INFINITY);this.featureStore.forEachBounds(ja.items,pa=>v.expandWithAABB(S,pa),H);const ma={xmin:S[0],ymin:S[1],xmax:S[3],ymax:S[4],spatialReference:u.cleanFromGeometryEngine(this.spatialReference)};this.hasZ&&isFinite(S[2])&&
isFinite(S[5])&&(ma.zmin=S[2],ma.zmax=S[5]);const la=F.project(ma,ja.spatialReference,x);la.spatialReference=u.cleanFromGeometryEngine(x||this.spatialReference);if(0===la.xmax-la.xmin){const pa=w.getMetersPerUnitForSR(la.spatialReference);la.xmin-=pa;la.xmax+=pa}if(0===la.ymax-la.ymin){const pa=w.getMetersPerUnitForSR(la.spatialReference);la.ymin-=pa;la.ymax+=pa}if(this.hasZ&&null!=la.zmin&&null!=la.zmax&&0===la.zmax-la.zmin){const pa=w.getMetersPerUnitForSR(la.spatialReference);la.zmin-=pa;la.zmax+=
pa}return{count:oa,extent:la}}catch(oa){if(oa===u.QUERY_ENGINE_EMPTY_RESULT)return{count:0,extent:null};throw oa;}});return function(){return f.apply(this,arguments)}}();D.executeQueryForIds=function(){var f=a._asyncToGenerator(function*(x={},V){return this.executeQueryForIdSet(x,V).then(Z=>Array.from(Z))});return function(){return f.apply(this,arguments)}}();D.executeQueryForIdSet=function(){var f=a._asyncToGenerator(function*(x={},V){let Z=M.clone(x),ja;Z.returnGeometry=!1;Z.returnCentroid=!1;Z.outSR=
null;try{Z=yield this._schedule(()=>u.normalizeQuery(Z,this.definitionExpression,this.spatialReference),V);Z=yield this._reschedule(()=>this._checkQuerySupport(Z),V);ja=yield this._reschedule(()=>this._executeGeometryQuery(Z,V),V);ja=yield this._reschedule(()=>ja.executeAggregateIdsQuery(Z),V);ja=yield this._reschedule(()=>ja.executeObjectIdsQuery(Z),V);ja=yield this._reschedule(()=>ja.executeTimeQuery(Z),V);ja=yield this._reschedule(()=>ja.executeAttributesQuery(Z),V);const oa=ja.items,ma=new Set;
yield this._reschedule(()=>{for(const la of oa)ma.add(ja.featureAdapter.getObjectId(la))},V);return ma}catch(oa){if(oa===u.QUERY_ENGINE_EMPTY_RESULT)return new Set;throw oa;}});return function(){return f.apply(this,arguments)}}();D.executeQueryForSnapping=function(){var f=a._asyncToGenerator(function*(x,V){const {point:Z,distance:ja,types:oa}=x;if(oa===k.SnappingTypes.NONE)return{candidates:[]};const ma=yield this._reschedule(()=>this._checkQuerySupport(x.query),V),la=!N.equals(Z.spatialReference,
this.spatialReference);la&&(yield F.checkProjectionSupport(Z.spatialReference,this.spatialReference));var pa="number"===typeof ja?ja:ja.x,va="number"===typeof ja?ja:ja.y;pa={xmin:Z.x-pa,xmax:Z.x+pa,ymin:Z.y-va,ymax:Z.y+va,spatialReference:Z.spatialReference};pa=la?F.project(pa,this.spatialReference):pa;if(!pa)return{candidates:[]};va=(yield K.normalizeCentralMeridian(z.fromJSON(Z),null,{signal:V}))[0];const Ba=(yield K.normalizeCentralMeridian(z.fromJSON(pa),null,{signal:V}))[0];if(n.isNone(va)||
n.isNone(Ba))return{candidates:[]};let Ka=new k.default(this._searchFeatures(this._getQueryBBoxes(Ba.toJSON())),null,this);Ka=yield this._reschedule(()=>Ka.executeObjectIdsQuery(ma),V);Ka=yield this._reschedule(()=>Ka.executeTimeQuery(ma),V);Ka=yield this._reschedule(()=>Ka.executeAttributesQuery(ma),V);V=va.toJSON();V=la?F.project(V,this.spatialReference):V;return Ka.createSnappingResponse({...x,point:V,distance:la?Math.max(pa.xmax-pa.xmin,pa.ymax-pa.ymin)/2:ja},Z.spatialReference)});return function(x,
V){return f.apply(this,arguments)}}();D.executeQueryForLatestObservations=function(){var f=a._asyncToGenerator(function*(x={},V){if(!this.timeInfo||!this.timeInfo.trackIdField)throw new E("feature-store:unsupported-query","Missing timeInfo or timeInfo.trackIdField",{query:x,timeInfo:this.timeInfo});let Z=M.clone(x),ja;try{Z=yield this._schedule(()=>u.normalizeQuery(Z,this.definitionExpression,this.spatialReference),V),Z=yield this._reschedule(()=>this._checkQuerySupport(Z),V),ja=yield this._reschedule(()=>
this._executeGeometryQuery(Z,V),V),ja=yield this._reschedule(()=>ja.executeAggregateIdsQuery(Z),V),ja=yield this._reschedule(()=>ja.executeObjectIdsQuery(Z),V),ja=yield this._reschedule(()=>ja.executeTimeQuery(Z),V),ja=yield this._reschedule(()=>ja.executeAttributesQuery(Z),V),ja=yield this._reschedule(()=>ja.filterLatest(),V)}catch(oa){if(oa!==u.QUERY_ENGINE_EMPTY_RESULT)throw oa;ja=new k.default([],null,this)}return ja.createQueryResponse(Z)});return function(){return f.apply(this,arguments)}}();
D.executeQueryForSummaryStatistics=function(){var f=a._asyncToGenerator(function*(x={},V,Z){const {field:ja,normalizationField:oa,valueExpression:ma}=V;return(yield this._getQueryEngineResultForStats(x,{field:ja,normalizationField:oa,valueExpression:ma},Z)).createSummaryStatisticsResponse(x,V)});return function(){return f.apply(this,arguments)}}();D.executeQueryForUniqueValues=function(){var f=a._asyncToGenerator(function*(x={},V,Z){const {field:ja,valueExpression:oa}=V;return(yield this._getQueryEngineResultForStats(x,
{field:ja,valueExpression:oa},Z)).createUniqueValuesResponse(x,V)});return function(){return f.apply(this,arguments)}}();D.executeQueryForClassBreaks=function(){var f=a._asyncToGenerator(function*(x={},V,Z){const {field:ja,normalizationField:oa,valueExpression:ma}=V;return(yield this._getQueryEngineResultForStats(x,{field:ja,normalizationField:oa,valueExpression:ma},Z)).createClassBreaksResponse(x,V)});return function(){return f.apply(this,arguments)}}();D.executeQueryForHistogram=function(){var f=
a._asyncToGenerator(function*(x={},V,Z){const {field:ja,normalizationField:oa,valueExpression:ma}=V;return(yield this._getQueryEngineResultForStats(x,{field:ja,normalizationField:oa,valueExpression:ma},Z)).createHistogramResponse(x,V)});return function(){return f.apply(this,arguments)}}();D._schedule=function(){var f=a._asyncToGenerator(function*(x,V){return n.isSome(this._frameTask)?this._frameTask.schedule(x,V):x(J.noBudget)});return function(x,V){return f.apply(this,arguments)}}();D._reschedule=
function(){var f=a._asyncToGenerator(function*(x,V){return n.isSome(this._frameTask)?this._frameTask.reschedule(x,V):x(J.noBudget)});return function(x,V){return f.apply(this,arguments)}}();D._getAll=function(){if(!this._allItems){const f=[];this.featureStore.forEach(x=>f.push(x));this._allItems=new k.default(f,null,this)}return this._allItems};D._executeGeometryQuery=function(){var f=a._asyncToGenerator(function*(x,V){var Z=this;const {geometry:ja,outSR:oa,spatialRel:ma,returnGeometry:la,returnCentroid:pa}=
x;var va=this.featureStore.featureSpatialReference;const Ba=ja&&va&&va!==ja.spatialReference?F.project(ja,va):ja,Ka=la||pa,Ta=N.isValid(oa)&&!N.equals(this.spatialReference,oa),Oa=this._geometryQueryCache?Ta&&Ka?JSON.stringify({originalFilterGeometry:ja,spatialRelationship:ma,outSpatialReference:oa}):JSON.stringify({originalFilterGeometry:ja,spatialRelationship:ma}):null;if(Oa&&(va=this._geometryQueryCache.get(Oa),!n.isUndefined(va)))return va;va=function(){var fa=a._asyncToGenerator(function*(A){if(Ta&&
Ka)return A=yield A.project(oa),Oa&&Z._geometryQueryCache.put(Oa,A,A.size||1),A;Oa&&Z._geometryQueryCache.put(Oa,A,A.size||1);return A});return function(A){return fa.apply(this,arguments)}}();if(!Ba)return va(this._getAll());const Sa=this.featureAdapter;if("esriSpatialRelDisjoint"===ma){x=this._searchFeatures(this._getQueryBBoxes(ja));if(!x.length)return va(this._getAll());let fa,A;const T=new Set;for(var g of x)T.add(Sa.getObjectId(g));yield this._reschedule(()=>{let X=0;fa=Array(T.size);this.featureStore.forEach(Y=>
fa[X++]=Y);A=T},V);x=yield this._reschedule(a._asyncToGenerator(function*(){const X=yield G.getSpatialQueryOperator(ma,Ba,Z.geometryType,Z.hasZ,Z.hasM);return new k.default(yield Z._runSpatialFilter(fa,Y=>!A.has(Sa.getObjectId(Y))||X(Sa.getGeometry(Y)),V),ja,Z)}),V);return va(x)}g=this._searchFeatures(this._getQueryBBoxes(ja));if(!g.length)return va=new k.default([],ja,this),Oa&&this._geometryQueryCache.put(Oa,va,va.size||1),va;if(this._canExecuteSoloPass(Ba,x))return va(new k.default(g,ja,this));
const C=yield G.getSpatialQueryOperator(ma,Ba,this.geometryType,this.hasZ,this.hasM);x=yield this._runSpatialFilter(g,fa=>C(Sa.getGeometry(fa)),V);return va(new k.default(x,ja,this))});return function(x,V){return f.apply(this,arguments)}}();D._runSpatialFilter=function(){var f=a._asyncToGenerator(function*(x,V,Z){var ja=this;if(!V)return x;if(n.isNone(this._frameTask))return x.filter(pa=>V(pa));let oa=0;const ma=[],la=function(){var pa=a._asyncToGenerator(function*(va){for(;oa<x.length;){const Ba=
x[oa++];V(Ba)&&(ma.push(Ba),va.madeProgress());va.done&&(yield ja._reschedule(Ka=>la(Ka),Z))}});return function(va){return pa.apply(this,arguments)}}();return this._reschedule(pa=>la(pa),Z).then(()=>ma)});return function(x,V,Z){return f.apply(this,arguments)}}();D._canExecuteSoloPass=function(f,x){const {geometryType:V}=this;({spatialRel:x}=x);return G.canQueryWithRBush(f)&&("esriSpatialRelEnvelopeIntersects"===x||"esriGeometryPoint"===V&&("esriSpatialRelIntersects"===x||"esriSpatialRelContains"===
x||"esriSpatialRelWithin"===x))};D._getQueryBBoxes=function(f){if(G.canQueryWithRBush(f)){if(z.isExtent(f))return[q.fromValues(f.xmin,f.ymin,f.xmax,f.ymax)];if(z.isPolygon(f))return f.rings.map(x=>q.fromValues(Math.min(x[0][0],x[2][0]),Math.min(x[0][1],x[2][1]),Math.max(x[0][0],x[2][0]),Math.max(x[0][1],x[2][1])))}return[t.getBoundsXY(q.create(),f)]};D._searchFeatures=function(f){for(const Z of f)this.featureStore.forEachInBounds(Z,ja=>{m.add(ja)});const x=Array(m.size);let V=0;m.forEach(Z=>x[V++]=
Z);m.clear();return x};D._checkStatisticsSupport=function(){var f=a._asyncToGenerator(function*(x,V){if(0>x.distance||null!=x.geometryPrecision||x.multipatchOption||x.pixelSize||x.relationParam||x.text||x.outStatistics||x.groupByFieldsForStatistics||x.having||x.orderByFields)throw new E("feature-store:unsupported-query","Unsupported query options",{query:x});return Promise.all([this._checkAttributesQuerySupport(x),this._checkStatisticsParamsSupport(V),G.checkSpatialQuerySupport(x,this.geometryType,
this.spatialReference),F.checkProjectionSupport(this.spatialReference,x.outSR)]).then(()=>x)});return function(x,V){return f.apply(this,arguments)}}();D._checkStatisticsParamsSupport=function(){var f=a._asyncToGenerator(function*(x){var V=[];x.valueExpression&&({arcadeUtils:V}=yield Q.loadArcade(),V=V.extractFieldNames(x.valueExpression));x.field&&V.push(x.field);x.normalizationField&&V.push(x.normalizationField);if(!V.length)throw new E("feature-store:unsupported-query","params should have at least a field or valueExpression",
{params:x});h.validateFields(this.fieldsIndex,V,"params contains missing fields")});return function(x){return f.apply(this,arguments)}}();D._checkQuerySupport=function(){var f=a._asyncToGenerator(function*(x){if(0>x.distance||null!=x.geometryPrecision||x.multipatchOption||x.pixelSize||x.relationParam||x.text)throw new E("feature-store:unsupported-query","Unsupported query options",{query:x});return Promise.all([this._checkAttributesQuerySupport(x),this._checkStatisticsQuerySupport(x),G.checkSpatialQuerySupport(x,
this.geometryType,this.spatialReference),F.checkProjectionSupport(this.spatialReference,x.outSR)]).then(()=>x)});return function(x){return f.apply(this,arguments)}}();D._checkAttributesQuerySupport=function(f){const {outFields:x,orderByFields:V,returnDistinctValues:Z,outStatistics:ja}=f,oa=ja?ja.map(ma=>ma.outStatisticFieldName&&ma.outStatisticFieldName.toLowerCase()).filter(Boolean):[];if(V&&0<V.length){const ma=V.map(la=>{const pa=la.toLowerCase();return-1<pa.indexOf(" asc")?pa.split(" asc")[0]:
-1<pa.indexOf(" desc")?pa.split(" desc")[0]:la}).filter(la=>-1===oa.indexOf(la));h.validateFields(this.fieldsIndex,ma,"orderByFields contains missing fields")}if(x&&0<x.length)h.validateFields(this.fieldsIndex,x,"outFields contains missing fields");else if(Z)throw new E("feature-store:unsupported-query","outFields should be specified for returnDistinctValues",{query:f});h.validateWhere(this.fieldsIndex,f.where)};D._checkStatisticsQuerySupport=function(){var f=a._asyncToGenerator(function*(x){const {outStatistics:V,
groupByFieldsForStatistics:Z,having:ja}=x;var oa=Z&&Z.length,ma=V&&V.length;if(ja){if(!oa||!ma)throw new E("feature-store:unsupported-query","outStatistics and groupByFieldsForStatistics should be specified with having",{query:x});h.validateHaving(this.fieldsIndex,ja,V)}if(ma&&B(V)){ma=V.map(la=>la.onStatisticField).filter(Boolean);h.validateFields(this.fieldsIndex,ma,"onStatisticFields contains missing fields");oa&&h.validateFields(this.fieldsIndex,Z,"groupByFieldsForStatistics contains missing fields");
for(const la of V){const {onStatisticField:pa,statisticType:va}=la;if(("percentile_disc"===va||"percentile_cont"===va)&&"statisticParameters"in la){if({statisticParameters:oa}=la,!oa)throw new E("feature-store:unsupported-query","statisticParamters should be set for percentile type",{definition:la,query:x});}else if("count"!==va&&pa&&h.hasInvalidFieldType(pa,this.fieldsIndex))throw new E("feature-store:unsupported-query","outStatistics contains non-numeric fields",{definition:la,query:x});}}});return function(x){return f.apply(this,
arguments)}}();D._getQueryEngineResultForStats=function(){var f=a._asyncToGenerator(function*(x={},V,Z){x=M.clone(x);let ja;try{x=yield this._schedule(()=>u.normalizeQuery(x,this.definitionExpression,this.spatialReference),Z),x=yield this._reschedule(()=>this._checkStatisticsSupport(x,V),Z),ja=yield this._reschedule(()=>this._executeGeometryQuery(x,Z),Z),ja=yield this._reschedule(()=>ja.executeAggregateIdsQuery(x),Z),ja=yield this._reschedule(()=>ja.executeObjectIdsQuery(x),Z),ja=yield this._reschedule(()=>
ja.executeTimeQuery(x),Z),ja=yield this._reschedule(()=>ja.executeAttributesQuery(x),Z)}catch(oa){if(oa!==u.QUERY_ENGINE_EMPTY_RESULT)throw oa;ja=new k.default([],null,this)}return ja});return function(){return f.apply(this,arguments)}}();a._createClass(L,[{key:"featureAdapter",get:function(){return this.featureStore.featureAdapter}},{key:"fullExtent",get:function(){const f=this.featureStore.fullBounds;return f?{xmin:f[0],ymin:f[1],xmax:f[2],ymax:f[3],spatialReference:u.cleanFromGeometryEngine(this.spatialReference)}:
null}},{key:"timeExtent",get:function(){return this.timeInfo?this._timeExtent?this._timeExtent:this._timeExtent=P.getTimeExtent(this.timeInfo,this.featureStore):null}}]);return L}();const H=v.create(),S=v.create();c.Feature=function(L,D=null,f,x,V){this.attributes=L;this.geometry=f;this.centroid=x;this.filterFlags=V;this.groupId=-1;this.displayId=D};c.default=l;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/MemCache":function(){define(["exports","../chunks/_rollupPluginBabelHelpers",
"./maybe","./PooledArray"],function(c,a,E,M){c.RemoveMode=void 0;(function(w){w[w.ALL=0]="ALL";w[w.SOME=1]="SOME"})(c.RemoveMode||(c.RemoveMode={}));let n=function(){function w(q,t,z){this._namespace=q;this._storage=t;this._removeFunc=!1;this._miss=this._hit=0;this._storage.register(this);this._namespace+=":";z&&(this._storage.registerRemoveFunc(this._namespace,z),this._removeFunc=!0)}var v=w.prototype;v.destroy=function(){this._storage.clear(this._namespace);this._removeFunc&&this._storage.deregisterRemoveFunc(this._namespace);
this._storage.deregister(this);this._storage=null};v.resetHitRate=function(){this._hit=this._miss=0};v.put=function(q,t,z,K=0){this._storage.put(this._namespace+q,t,z,K)};v.get=function(q){q=this._storage.get(this._namespace+q);void 0===q?++this._miss:++this._hit;return q};v.pop=function(q){q=this._storage.pop(this._namespace+q);void 0===q?++this._miss:++this._hit;return q};v.updateSize=function(q,t,z){this._storage.updateSize(this._namespace+q,t,z)};v.clear=function(){this._storage.clear(this._namespace)};
v.clearAll=function(){this._storage.clearAll()};v.getStats=function(){return this._storage.getStats()};v.resetStats=function(){this._storage.resetStats()};a._createClass(w,[{key:"namespace",get:function(){return this._namespace.slice(0,-1)}},{key:"hitRate",get:function(){return this._hit/(this._hit+this._miss)}},{key:"size",get:function(){return this._storage.size}},{key:"maxSize",get:function(){return this._storage.maxSize}}]);return w}(),p=function(){function w(q=10485760){this._maxSize=q;this._db=
new Map;this._miss=this._hit=this._size=0;this._removeFuncs=new M;this._users=new M}var v=w.prototype;v.destroy=function(){this.clearAll();this._removeFuncs.clear();this._users.clear();this._db=null};v.register=function(q){this._users.push(q)};v.deregister=function(q){this._users.removeUnordered(q)};v.registerRemoveFunc=function(q,t){this._removeFuncs.push([q,t])};v.deregisterRemoveFunc=function(q){this._removeFuncs.filterInPlace(t=>t[0]!==q)};v.put=function(q,t,z,K){const N=this._db.get(q);N&&(this._size-=
N.size,this._db.delete(q),N.entry!==t&&this._notifyRemove(q,N.entry,c.RemoveMode.ALL));z>this._maxSize?this._notifyRemove(q,t,c.RemoveMode.ALL):void 0===t?console.warn("Refusing to cache undefined entry "):!z||0>z?console.warn("Refusing to cache entry with invalid size "+z):(K=1+Math.max(K,-3)- -3,this._db.set(q,{entry:t,size:z,lifetime:K,lives:K}),this._size+=z,this._checkSizeLimit())};v.updateSize=function(q,t,z){const K=this._db.get(q);if(K&&K.entry===t){for(this._size-=K.size;z>this._maxSize;)if(z=
this._notifyRemove(q,t,c.RemoveMode.SOME),!(E.isSome(z)&&0<z)){this._db.delete(q);return}K.size=z;this._size+=z;this._checkSizeLimit()}};v.pop=function(q){const t=this._db.get(q);if(t)return this._size-=t.size,this._db.delete(q),++this._hit,t.entry;++this._miss};v.get=function(q){const t=this._db.get(q);if(void 0===t)++this._miss;else return this._db.delete(q),t.lives=t.lifetime,this._db.set(q,t),++this._hit,t.entry};v.getStats=function(){const q={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/
1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},t={},z=[];this._db.forEach((h,F)=>{const d=h.lifetime;z[d]=(z[d]||0)+h.size;this._users.forAll(k=>{k=k.namespace;F.startsWith(k)&&(t[k]=(t[k]||0)+h.size)})});const K={};this._users.forAll(h=>{const F=h.namespace;!isNaN(h.hitRate)&&0<h.hitRate?(t[F]=t[F]||0,K[F]=Math.round(100*h.hitRate)+"%"):K[F]="0%"});var N=Object.keys(t);N.sort((h,F)=>t[F]-t[h]);N.forEach(h=>q[h]=Math.round(t[h]/2**20)+"MB / "+K[h]);
for(N=z.length-1;0<=N;--N){const h=z[N];h&&(q["Priority "+(N+-3-1)]=Math.round(h/this.size*100)+"%")}return q};v.resetStats=function(){this._hit=this._miss=0;this._users.forAll(q=>q.resetHitRate())};v.clear=function(q){this._db.forEach((t,z)=>{z.startsWith(q)&&(this._size-=t.size,this._db.delete(z),this._notifyRemove(z,t.entry,c.RemoveMode.ALL))})};v.clearAll=function(){this._db.forEach((q,t)=>this._notifyRemove(t,q.entry,c.RemoveMode.ALL));this._size=0;this._db.clear()};v._getHitRate=function(){return this._hit/
(this._hit+this._miss)};v._notifyRemove=function(q,t,z){let K;this._removeFuncs.some(N=>q.startsWith(N[0])?(N=N[1](t,z),"number"===typeof N&&(K=N),!0):!1);return K};v._checkSizeLimit=function(){if(!(this._size<=this._maxSize))for(const [q,t]of this._db){this._db.delete(q);if(1>=t.lives){this._size-=t.size;const z=this._notifyRemove(q,t.entry,c.RemoveMode.SOME);E.isSome(z)&&0<z&&(this._size+=z,t.lives=t.lifetime,t.size=z,this._db.set(q,t))}else--t.lives,this._db.set(q,t);if(this._size<=.9*this.maxSize)break}};
a._createClass(w,[{key:"size",get:function(){return this._size}},{key:"maxSize",get:function(){return this._maxSize},set:function(q){this._maxSize=Math.max(q,0);this._checkSizeLimit()}}]);return w}();c.MIN_PRIORITY=-3;c.MemCache=n;c.MemCacheStorage=p;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/unitUtils":function(){define("exports ./has ./jsonMap ./maybe ../geometry/projectionEllipsoid ../geometry/SpatialReference ../geometry/support/Ellipsoid ../geometry/support/spatialReferenceUtils ../geometry/support/WKIDUnitConversion".split(" "),
function(c,a,E,M,n,p,w,v,q){function t(f){if(f=S[f])return f;throw Error("unknown type");}function z(f){return H[f].baseUnit}function K(f,x=null){x=x||t(f);return H[x].baseUnit===f}function N(f,x,V){if(x===V)return f;const Z=t(x);if(Z!==t(V))throw Error("incompatible units");f=K(x,Z)?f:f*H[Z].units[x].inBaseUnits;return K(V,Z)?f:f/H[Z].units[V].inBaseUnits}function h(f,x){return 3E3>N(f,x,"meters")?"meters":"kilometers"}function F(f,x){return 1E5>N(f,x,"meters")?"meters":"kilometers"}function d(f,
x){return 1E3>N(f,x,"feet")?"feet":"miles"}function k(f,x){return 1E5>N(f,x,"feet")?"feet":"miles"}function G(f){return l.fromJSON(f.toLowerCase())||null}function P(f,x=w.earth.metersPerDegree){return u(f,!0)||x}function u(f,x=!1){let V,Z,ja=null;null!=f&&("object"===typeof f?(V=f.wkid,Z=f.wkt):"number"===typeof f?V=f:"string"===typeof f&&(Z=f));if(V){if(v.isWKIDFromMars(V))return w.mars.metersPerDegree;if(v.isWKIDFromMoon(V))return w.moon.metersPerDegree;ja=m.values[m[V]];!ja&&x&&b.has(V)&&(ja=J)}else Z&&
(/^PROJCS/i.test(Z)?ja=O(B.exec(Z),ja):/^GEOCCS/i.test(Z)&&(ja=O(y.exec(Z),ja)));return ja}function O(f,x){return f&&f[1]?parseFloat(f[1].split(",")[1]):x}function Q(f){var x=null;if(null!=f)if("object"===typeof f){var V=f.wkid;var Z=f.wkt}else"number"===typeof f?V=f:"string"===typeof f&&(Z=f);if(V)x=m.units[m[V]];else if(Z&&(f=/^PROJCS/i.test(Z)?B:/^GEOCCS/i.test(Z)?y:null)&&(Z=f.exec(Z))&&Z[1]&&(Z=Z[1],x=(x=/[\\"\\']{1}([^\\"\\']+)/.exec(Z))&&x[1],!x||-1===m.units.indexOf(x)))for(Z=parseFloat(Z.split(",")[1]),
x=null,f=m.values,V=0;V<f.length;++V)if(1E-7>Math.abs(Z-f[V])){x=m.units[V];break}return M.isSome(x)?G(x):null}const J=w.earth.radius*Math.PI/200,B=/UNIT\[([^\]]+)\]\]$/i,m=q,y=/UNIT\[([^\]]+)\]/i,b=new Set([4261,4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104139,104140]),l=E.strict()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",
yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"});a={millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1E3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},
"us-feet":{inBaseUnits:1200/3937}};q={"square-millimeters":{inBaseUnits:1E-6},"square-centimeters":{inBaseUnits:1E-4},"square-decimeters":{inBaseUnits:.1*.1},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:1E6},"square-inches":{inBaseUnits:6.4516E-4},"square-feet":{inBaseUnits:.09290304},"square-yards":{inBaseUnits:.83612736},"square-miles":{inBaseUnits:2589988.110336},"square-us-feet":{inBaseUnits:(f=>f*f)(1200/3937)},acres:{inBaseUnits:4046.8564224},ares:{inBaseUnits:100},hectares:{inBaseUnits:1E4}};
const H={length:{baseUnit:"meters",units:a},area:{baseUnit:"square-meters",units:q},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1E3*1E-9},"cubic-centimeters":{inBaseUnits:.001},"cubic-decimeters":{inBaseUnits:1},"cubic-meters":{inBaseUnits:1E3},"cubic-kilometers":{inBaseUnits:1E12},"cubic-inches":{inBaseUnits:.016387064},"cubic-feet":{inBaseUnits:.09290304*304.8},"cubic-yards":{inBaseUnits:764.554857984},"cubic-miles":{inBaseUnits:4.16818182544058E12}}},
angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},S=function(){const f={};for(const x in H)for(const V in H[x].units)f[V]=x;return f}(),L={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",
esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},D={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"};a=E.strict()(L);q=E.strict()(D);E=E.strict()({...L,...D});c.areaUnitsJSONMap=a;c.baseUnitForUnit=function(f){return z(t(f))};c.baseUnitForUnitType=z;c.convertUnit=N;c.getDefaultUnitSystem=
function(f){if(!f)return null;switch(Q(f)){case "feet":case "us-feet":case "clarke-feet":case "clarke-yards":case "clarke-links":case "sears-yards":case "sears-feet":case "sears-chains":case "benoit-1895-b-chains":case "indian-yards":case "indian-1937-yards":case "gold-coast-feet":case "sears-1922-truncated-chains":return"imperial";case "50-kilometers":case "150-kilometers":case "meters":return"metric"}return null};c.getMetersPerUnit=u;c.getMetersPerUnitForSR=P;c.getMetersPerVerticalUnitForSR=function(f){if(f&&
"object"===typeof f&&!v.isEarth(f))return 1;f=P(f);return 1E5<f?1:f};c.getUnitString=Q;c.getVerticalUnitStringForSR=function(f){const x=P(f),V=f instanceof p?n.getReferenceEllipsoid(f).metersPerDegree:1E5;return x>=V?"meters":Q(f)};c.inchesPerMeter=39.37;c.isBaseUnit=K;c.isMeasurementSystem=function(f){return"imperial"===f||"metric"===f};c.lengthToDegrees=function(f,x,V){return N(f,x,"meters")/(V*Math.PI/180)};c.lengthUnitsJSONMap=q;c.measurementAreaUnits="metric imperial square-inches square-feet square-yards square-miles square-us-feet square-meters square-kilometers acres ares hectares".split(" ");
c.measurementLengthUnits="metric imperial inches feet yards miles nautical-miles us-feet meters kilometers".split(" ");c.preferredImperialAreaUnit=function(f,x){return 1E6>N(f,x,"square-feet")?"square-feet":"square-miles"};c.preferredImperialLengthUnit=d;c.preferredImperialVerticalLengthUnit=k;c.preferredLengthUnit=function(f,x,V){switch(V){case "metric":return h(f,x);case "imperial":return d(f,x);default:return V}};c.preferredMetricAreaUnit=function(f,x){return 3E6>N(f,x,"square-meters")?"square-meters":
"square-kilometers"};c.preferredMetricLengthUnit=h;c.preferredMetricVerticalLengthUnit=F;c.preferredVerticalLengthUnit=function(f,x,V){switch(V){case "metric":return F(f,x);case "imperial":return k(f,x);default:return V}};c.unitFromRESTJSON=G;c.unitToRESTJSON=function(f){return l.toJSON(f)||null};c.unitType=t;c.unitsJSONMap=E;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/projectionEllipsoid":function(){define(["exports","./SpatialReference","./support/Ellipsoid","./support/spatialReferenceUtils"],
function(c,a,E,M){function n(t){return new a({wkt:`GEOCCS["Spherical geocentric",\n    DATUM["Not specified",\n      SPHEROID["Sphere",${t.radius},0]],\n    PRIMEM["Greenwich",0.0,\n      AUTHORITY["EPSG","8901"]],\n    UNIT["m",1.0],\n    AXIS["Geocentric X",OTHER],\n    AXIS["Geocentric Y",EAST],\n    AXIS["Geocentric Z",NORTH]\n  ]`})}const p=n(E.earth),w=n(E.mars),v=n(E.moon),q=new a({wkt:`GEOCCS["WGS 84",\n  DATUM["WGS_1984",\n    SPHEROID["WGS 84",${E.earth.radius},298.257223563,\n      AUTHORITY["EPSG","7030"]],\n    AUTHORITY["EPSG","6326"]],\n  PRIMEM["Greenwich",0,\n    AUTHORITY["EPSG","8901"]],\n  UNIT["m",1.0,\n    AUTHORITY["EPSG","9001"]],\n  AXIS["Geocentric X",OTHER],\n  AXIS["Geocentric Y",OTHER],\n  AXIS["Geocentric Z",NORTH],\n  AUTHORITY["EPSG","4978"]\n]`});
c.SphericalECEFSpatialReference=p;c.SphericalPCPFMars=w;c.SphericalPCPFMoon=v;c.WGS84ECEFSpatialReference=q;c.createSphericalPCPF=n;c.getReferenceEllipsoid=function(t){return t&&(M.isMars(t)||t===w)?E.mars:t&&(M.isMoon(t)||t===v)?E.moon:E.earth};c.getReferenceEllipsoidFromWKID=function(t){return M.isWKIDFromMars(t)?E.mars:M.isWKIDFromMoon(t)?E.moon:E.earth};c.getSphericalPCPF=function(t){return t&&(M.isMars(t)||t===w)?w:t&&(M.isMoon(t)||t===v)?v:p};c.getSphericalPCPFForEllipsoid=function(t){return t&&
t===E.mars?w:t&&t===E.moon?v:p};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtils":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../config ../../core/Error ../../core/Logger ../../core/maybe ../Polygon ../Polyline ./normalizeUtilsCommon ./spatialReferenceUtils ./webMercatorUtils ../../rest/geometry/cut ../../rest/geometry/simplify".split(" "),function(c,a,E,M,n,p,w,v,q,t,z,K,N){function h(Q){const J=[];let B=0,m=0;for(let y=0;y<Q.length;y++){const b=
Q[y];let l=null;for(let H=0;H<b.length;H++)l=b[H],J.push(l),0===H?m=B=l[0]:(B=Math.min(B,l[0]),m=Math.max(m,l[0]));l&&J.push([(B+m)/2,0])}return J}function F(Q,J){if(!(Q instanceof v||Q instanceof w))throw O.error("straightLineDensify: the input geometry is neither polyline nor polygon"),new M("straightLineDensify: the input geometry is neither polyline nor polygon");var B=q.getGeometryParts(Q);const m=[];for(const b of B){B=[];m.push(B);B.push([b[0][0],b[0][1]]);for(let l=0;l<b.length-1;l++){const H=
b[l][0],S=b[l][1],L=b[l+1][0],D=b[l+1][1];var y=Math.sqrt((L-H)*(L-H)+(D-S)*(D-S));const f=(D-S)/y,x=(L-H)/y,V=y/J;if(1<V){for(let Z=1;Z<=V-1;Z++){const ja=Z*J;B.push([x*ja+H,f*ja+S])}y=(y+Math.floor(V-1)*J)/2;B.push([x*y+H,f*y+S])}B.push([L,D])}}return"polygon"===Q.type?new w({rings:m,spatialReference:Q.spatialReference}):new v({paths:m,spatialReference:Q.spatialReference})}function d(Q,J,B){J&&(Q=F(Q,1E6),Q=z.webMercatorToGeographic(Q,!0));B&&(Q=q.updatePolyGeometry(Q,B));return Q}function k(Q,
J,B){if(Array.isArray(Q)){var m=Q[0];m>J?(B=q.offsetMagnitude(m,J),Q[0]=m+-2*B*J):m<B&&(J=q.offsetMagnitude(m,B),Q[0]=m+-2*J*B)}else m=Q.x,m>J?(B=q.offsetMagnitude(m,J),Q=Q.clone().offset(-2*B*J,0)):m<B&&(J=q.offsetMagnitude(m,B),Q=Q.clone().offset(-2*J*B,0));return Q}function G(Q,J){let B=-1;for(let m=0;m<J.cutIndexes.length;m++){const y=J.cutIndexes[m],b=J.geometries[m],l=q.getGeometryParts(b);for(let H=0;H<l.length;H++){const S=l[H];S.some(L=>{if(180>L[0])return!0;L=0;for(var D=0;D<S.length;D++){var f=
S[D][0];L=f>L?f:L}L=Number(L.toFixed(9));L=-360*q.offsetMagnitude(L,180);for(D=0;D<S.length;D++)f=b.getPoint(H,D),b.setPoint(H,D,f.clone().offset(L,0));return!0})}if(y===B)if("polygon"===Q[0].type)for(const H of q.getGeometryParts(b))Q[y]=Q[y].addRing(H);else{if("polyline"===Q[0].type)for(const H of q.getGeometryParts(b))Q[y]=Q[y].addPath(H)}else B=y,Q[y]=b}return Q}function P(Q,J,B){return u.apply(this,arguments)}function u(){u=a._asyncToGenerator(function*(Q,J,B){var m;if(!Array.isArray(Q))return P([Q],
J);J=null!=(m=null==J?void 0:J.url)?m:E.geometryServiceUrl;let y,b,l;let H=0;var S=[];m=[];for(var L of Q)if(p.isNone(L))m.push(L);else{if(!D){var D=L.spatialReference;var f=t.getInfo(D);var x=(y=D.isWebMercator)?102100:4326;b=q.cutParams[x].maxX;l=q.cutParams[x].minX;var V=q.cutParams[x].plus180Line;x=q.cutParams[x].minus180Line}if(f)if("mesh"===L.type)m.push(L);else if("point"===L.type)m.push(k(L.clone(),b,l));else if("multipoint"===L.type){var Z=L.clone();Z.points=Z.points.map(ja=>k(ja,b,l));m.push(Z)}else if("extent"===
L.type)Z=L.clone()._normalize(!1,!1,f),m.push(Z.rings?new w(Z):Z);else if(L.extent){Z=L.extent;const ja=2*q.offsetMagnitude(Z.xmin,l)*b;let oa=0===ja?L.clone():q.updatePolyGeometry(L.clone(),ja);Z.offset(ja,0);Z.intersects(V)&&Z.xmax!==b?(H=Z.xmax>H?Z.xmax:H,oa=d(oa,y),S.push(oa),m.push("cut")):Z.intersects(x)&&Z.xmin!==l?(H=2*Z.xmax*b>H?2*Z.xmax*b:H,oa=d(oa,y,360),S.push(oa),m.push("cut")):m.push(oa)}else m.push(L.clone());else m.push(L)}D=q.offsetMagnitude(H,b);f=-90;V=D;for(L=new v;0<D;)x=-180+
360*D,L.addPath([[x,f],[x,-1*f]]),f*=-1,D--;if(0<S.length&&0<V){D=yield K.cut(J,S,L,B);D=G(S,D);f=[];S=[];for(V=0;V<m.length;V++)L=m[V],"cut"!==L?S.push(L):(L=D.shift(),x=Q[V],p.isSome(x)&&"polygon"===x.type&&x.rings&&1<x.rings.length&&L.rings.length>=x.rings.length?(f.push(L),S.push("simplify")):S.push(y?z.geographicToWebMercator(L):L));if(!f.length)return S;m=yield N.simplify(J,f,B);Q=[];for(B=0;B<S.length;B++)J=S[B],"simplify"!==J?Q.push(J):Q.push(y?z.geographicToWebMercator(m.shift()):m.shift());
return Q}Q=[];for(B=0;B<m.length;B++)J=m[B],"cut"!==J?Q.push(J):(J=S.shift(),Q.push(!0===y?z.geographicToWebMercator(J):J));return Promise.resolve(Q)});return u.apply(this,arguments)}const O=n.getLogger("esri.geometry.support.normalizeUtils");c.getDenormalizedExtent=function(Q){if(!Q)return null;const J=Q.extent;if(!J)return null;var B=Q.spatialReference&&t.getInfo(Q.spatialReference);if(!B)return J;const [m,y]=B.valid;({width:B}=J);let {xmin:b,xmax:l}=J;[b,l]=[l,b];if("extent"===Q.type||0===B||B<=
y||B>2*y||b<m||l>y)return J;let H;switch(Q.type){case "polygon":if(1<Q.rings.length)H=h(Q.rings);else return J;break;case "polyline":if(1<Q.paths.length)H=h(Q.paths);else return J;break;case "multipoint":H=Q.points}Q=J.clone();for(let S=0;S<H.length;S++){let L=H[S][0];0>L?(L+=y,l=Math.max(L,l)):(L-=y,b=Math.min(L,b))}Q.xmin=b;Q.xmax=l;return Q.width<B?(Q.xmin-=y,Q.xmax-=y,Q):J};c.normalizeCentralMeridian=P;c.normalizeMapX=function(Q,J){if(J=t.getInfo(J)){const [B,m]=J.valid;J=m-B;if(Q<B)for(;Q<B;)Q+=
J;if(Q>m)for(;Q>m;)Q-=J}return Q};c.straightLineDensify=F;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/normalizeUtilsCommon":function(){define(["exports","../Polyline","../SpatialReference","./jsonUtils"],function(c,a,E,M){function n(w){return M.isPolygon(w)?w.rings:w.paths}const p={102100:{maxX:2.0037508342788905E7,minX:-2.0037508342788905E7,plus180Line:new a({paths:[[[2.0037508342788905E7,-2.0037508342788905E7],[2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:E.WebMercator}),
minus180Line:new a({paths:[[[-2.0037508342788905E7,-2.0037508342788905E7],[-2.0037508342788905E7,2.0037508342788905E7]]],spatialReference:E.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new a({paths:[[[180,-180],[180,180]]],spatialReference:E.WGS84}),minus180Line:new a({paths:[[[-180,-180],[-180,180]]],spatialReference:E.WGS84})}};c.cutParams=p;c.getGeometryParts=n;c.getSpatialReferenceMinMaxX=function(w){w=(null==w?0:w.isWebMercator)?102100:4326;return[p[w].minX,p[w].maxX]};c.offsetMagnitude=
function(w,v){return Math.ceil((w-v)/(2*v))};c.updatePolyGeometry=function(w,v){const q=n(w);for(const t of q)for(const z of t)z[0]+=v;return w};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/geometry/cut":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../geometry ../../request ../../core/urlUtils ../../geometry/support/jsonUtils".split(" "),function(c,a,E,M,n,p){function w(){w=a._asyncToGenerator(function*(v,q,t,z){v="string"===typeof v?n.urlToObject(v):v;const K=
q[0].spatialReference;q={...z,query:{...v.query,f:"json",sr:JSON.stringify(K),target:JSON.stringify({geometryType:p.getJsonType(q[0]),geometries:q}),cutter:JSON.stringify(t)}};q=yield M(v.path+"/cut",q);const {cutIndexes:N,geometries:h=[]}=q.data;return{cutIndexes:N,geometries:h.map(F=>{F=p.fromJSON(F);F.spatialReference=K;return F})}});return w.apply(this,arguments)}c.cut=function(v,q,t,z){return w.apply(this,arguments)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/geometry/simplify":function(){define(["exports",
"../../chunks/_rollupPluginBabelHelpers","../../request","../../core/urlUtils","../../geometry/support/jsonUtils"],function(c,a,E,M,n){function p(){p=a._asyncToGenerator(function*(q,t,z){const K="string"===typeof q?M.urlToObject(q):q;q=t[0].spatialReference;const N=n.getJsonType(t[0]);t={...z,query:{...K.query,f:"json",sr:q.wkid?q.wkid:JSON.stringify(q),geometries:JSON.stringify(w(t))}};t=yield E(K.path+"/simplify",t);return v(t.data,N,q)});return p.apply(this,arguments)}function w(q){return{geometryType:n.getJsonType(q[0]),
geometries:q.map(t=>t.toJSON())}}function v(q,t,z){const K=n.getGeometryType(t);return q.map(N=>{N=K.fromJSON(N);N.spatialReference=z;return N})}c.simplify=function(q,t,z){return p.apply(this,arguments)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/data/attributeSupport":function(){define(["exports","../../../core/Error","../../../core/sql/WhereClauseCache"],function(c,a,E){function M(q,t){return q?w.get(q,t):null}function n(q,t,z,K=!0){const N=[];for(const h of t)if("*"!==
h&&!q.has(h))if(K){t=p(h);try{const F=M(t,q);if(!F)throw new a("feature-store:unsupported-query","invalid SQL expression",{where:t});if(!F.isStandardized)throw new a("feature-store:unsupported-query","expression is not standard",{clause:F});n(q,F.fieldNames,"expression contains missing fields")}catch(F){if((t=F&&F.details)&&(t.clause||t.where))throw F;t&&t.missingFields?N.push(...t.missingFields):N.push(h)}}else N.push(h);if(N.length)throw new a("feature-store:unsupported-query",z,{missingFields:N});
}function p(q){return q.split(" as ")[0]}const w=new E.WhereClauseCache(50,500),v=new Set("esriFieldTypeOID esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeLong esriFieldTypeDate".split(" "));c.getAliasFromFieldName=function(q){return q.split(" as ")[1]};c.getExpressionFromFieldName=p;c.getWhereClause=M;c.hasInvalidFieldType=function(q,t){return(q=t.get(q))?!v.has(q.type):!1};c.validateFields=n;c.validateHaving=function(q,t,z){if(!t)return!0;const K=
w.get(t,q);if(!K)throw new a("feature-store:unsupported-query","invalid SQL expression",{having:t});if(!K.isAggregate)throw new a("feature-store:unsupported-query","having does not contain a valid aggregate function",{having:t});n(q,K.fieldNames,"having contains missing fields");if(!K.getExpressions().every(N=>{const {aggregateType:h,field:F}=N,d=q.has(F)&&q.get(F).name;return z.some(k=>{const {onStatisticField:G,statisticType:P}=k;return(q.has(G)&&q.get(G).name)===d&&P.toLowerCase().trim()===h})}))throw new a("feature-store:unsupported-query",
"expressions in having should also exist in outStatistics",{having:t});return!0};c.validateWhere=function(q,t){if(!t)return!0;const z=w.get(t,q);if(!z)throw new a("feature-store:unsupported-query","invalid SQL expression",{where:t});if(!z.isStandardized)throw new a("feature-store:unsupported-query","where clause is not standard",{where:t});n(q,z.fieldNames,"where clause contains missing fields");return!0};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/sql/WhereClauseCache":function(){define(["exports",
"../ItemCache","./WhereClause"],function(c,a,E){let M=function(){function n(p,w){this._cache=new a(p);this._invalidCache=new a(w)}n.prototype.get=function(p,w){const v=`${w.uid}:${p}`,q=this._cache.get(v);if(q)return q;if(void 0!==this._invalidCache.get(v))return null;try{const t=E.WhereClause.create(p,w);this._cache.put(v,t);return t}catch{return this._invalidCache.put(v,null),null}};return n}();c.WhereClauseCache=M;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/ItemCache":function(){define(["./MemCache"],
function(c){return function(){function a(M,n){this._storage=new c.MemCacheStorage;this._storage.maxSize=M;n&&this._storage.registerRemoveFunc("",n)}var E=a.prototype;E.put=function(M,n){this._storage.put(M,n,1,1)};E.pop=function(M){return this._storage.pop(M)};E.get=function(M){return this._storage.get(M)};E.clear=function(){this._storage.clearAll()};E.destroy=function(){this._storage.destroy()};return a}()})},"esri/core/sql/WhereClause":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../has ./AggregateFunctions ./StandardizedFunctions ./WhereGrammar".split(" "),
function(c,a,E,M,n,p){function w(L,D){L+="";return L.length>=D?L:Array(D-L.length+1).join("0")+L}function v(L,D,f="0",x="0",V="0",Z="0",ja="",oa="0",ma="0"){return"+"===ja||"-"===ja?(L=`${w(parseInt(L,10),4)}-${w(parseInt(D,10),2)}-${w(parseInt(f,10),2)}`,D="",10>parseFloat(Z)&&(D="0"),x=`${w(parseInt(x,10),2)}:${w(parseInt(V,10),2)}:${D+parseFloat(Z).toString()}`,ja=`${ja}${w(parseInt(oa,10),2)}:${w(parseInt(ma,10),2)}`,new Date(L+"T"+x+ja)):new Date(parseInt(L,10),parseInt(D,10)-1,parseInt(f,10),
parseInt(x,10),parseInt(V,10),parseFloat(Z))}function q(L){let D=Q.exec(L);if(null!==D){const [,f,x,V,Z,ja,oa]=D;return v(f,x,V,Z,ja,oa)}D=J.exec(L);if(null!==D){const [,f,x,V,Z,ja,oa,ma,la,pa]=D;return v(f,x,V,Z,ja,oa,ma,la,pa)}D=B.exec(L);if(null!==D){const [,f,x,V,Z,ja,oa,ma,la]=D;return v(f,x,V,Z,ja,"0",oa,ma,la)}D=m.exec(L);if(null!==D){const [,f,x,V,Z,ja]=D;return v(f,x,V,Z,ja)}D=O.exec(L);if(null!==D){const [,f,x,V]=D;return v(f,x,V)}throw Error("SQL Invalid Timestamp");}function t(L){L=O.exec(L);
if(null===L)throw Error("SQL Invalid Date");const [,D,f,x]=L;return new Date(parseInt(D,10),parseInt(f,10)-1,parseInt(x,10))}function z(L){return Array.isArray(L)?L:[L]}function K(L){return null!==L?!0!==L:null}function N(L,D){return null!=L&&null!=D?!0===L&&!0===D:!1===L||!1===D?!1:null}function h(L,D){return null!=L&&null!=D?!0===L||!0===D:!0===L||!0===D?!0:null}function F(L,D){if(null==L)return null;let f=!1;for(const x of D)if(null==x)f=null;else if(L===x){f=!0;break}return f}function d(L,D,f){if(null==
L)return null;{let x="",V=H.Normal;for(let Z=0;Z<D.length;Z++){const ja=D.charAt(Z);switch(V){case H.Normal:ja===f?V=H.Escaped:x="-[]/{}()*+?.\\^$|".includes(ja)?x+("\\"+ja):"%"===ja?x+".*":"_"===ja?x+".":x+ja;break;case H.Escaped:x="-[]/{}()*+?.\\^$|".includes(ja)?x+("\\"+ja):x+ja,V=H.Normal}}D=new RegExp("^"+x+"$","m")}return D.test(L)}function k(L){return L instanceof Date?L.valueOf():L}function G(L,D,f){if(null==D||null==f)return null;D=k(D);f=k(f);switch(L){case "\x3c\x3e":return D!==f;case "\x3d":return D===
f;case "\x3e":return D>f;case "\x3c":return D<f;case "\x3e\x3d":return D>=f;case "\x3c\x3d":return D<=f}}function P(L,D,f){if(D instanceof n.SqlInterval)if(f instanceof Date)switch(L){case "+":return new Date(D.valueInMilliseconds()+f.getTime());case "-":return D.valueInMilliseconds()-f.getTime();case "*":return D.valueInMilliseconds()*f.getTime();case "/":return D.valueInMilliseconds()/f.getTime()}else if(f instanceof n.SqlInterval)switch(L){case "+":return n.SqlInterval.createFromMilliseconds(D.valueInMilliseconds()+
f.valueInMilliseconds());case "-":return n.SqlInterval.createFromMilliseconds(D.valueInMilliseconds()-f.valueInMilliseconds());case "*":return D.valueInMilliseconds()*f.valueInMilliseconds();case "/":return D.valueInMilliseconds()/f.valueInMilliseconds()}else D=D.valueInMilliseconds();else if(f instanceof n.SqlInterval)if(D instanceof Date)switch(L){case "+":return new Date(f.valueInMilliseconds()+D.getTime());case "-":return new Date(D.getTime()-f.valueInMilliseconds());case "*":return D.getTime()*
f.valueInMilliseconds();case "/":return D.getTime()/f.valueInMilliseconds()}else f=f.valueInMilliseconds();else if(D instanceof Date&&"number"===typeof f)switch(f*=864E5,D=D.getTime(),L){case "+":return new Date(D+f);case "-":return new Date(D-f);case "*":return new Date(D*f);case "/":return new Date(D/f)}else if(f instanceof Date&&"number"===typeof D)switch(D*=864E5,f=f.getTime(),L){case "+":return new Date(D+f);case "-":return new Date(D-f);case "*":return new Date(D*f);case "/":return new Date(D/
f)}switch(L){case "+":return D+f;case "-":return D-f;case "*":return D*f;case "/":return D/f}}function u(L,D,f,x){L=x.getAttribute(L,D);return null!=L&&1===f[D]?new Date(L):L}const O=/^(\d{4})-(\d{1,2})-(\d{1,2})$/,Q=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)$/,J=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2}(\.[0-9]+)?)(\+|\-)(\d{1,2}):(\d{1,2})$/,B=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})(\+|\-)(\d{1,2}):(\d{1,2})$/,m=/^(\d{4})-(\d{1,2})-(\d{1,2}) (\d{1,2}):(\d{1,2})$/,
y=new Set(["current_timestamp","current_date","current_time"]);let b=function(){function L(){}L.makeBool=function(D){return!0===D};L.featureValue=function(D,f,x,V){return u(D,f,x,V)};L.equalsNull=function(D){return null===D};L.applyLike=function(D,f,x){return d(D,f,x)};L.ensureArray=function(D){return z(D)};L.applyIn=function(D,f){return F(D,f)};L.currentDate=function(){const D=new Date;D.setHours(0,0,0,0);return D};L.makeSqlInterval=function(D,f,x){return n.SqlInterval.createFromValueAndQualifer(D,
f,x)};L.convertInterval=function(D){return D instanceof n.SqlInterval?D.valueInMilliseconds():D};L.currentTimestamp=function(){return new Date};L.compare=function(D,f,x){return G(D,f,x)};L.calculate=function(D,f,x){return P(D,f,x)};L.makeComparable=function(D){return k(D)};L.evaluateFunction=function(D,f){return n.evaluateFunction(D,f)};L.lookup=function(D,f){D=f[D];return void 0===D?null:D};L.between=function(D,f){return null==D||null==f[0]||null==f[1]?null:D>=f[0]&&D<=f[1]};L.notbetween=function(D,
f){return null==D||null==f[0]||null==f[1]?null:D<f[0]||D>f[1]};L.ternaryNot=function(D){return K(D)};L.ternaryAnd=function(D,f){return N(D,f)};L.ternaryOr=function(D,f){return h(D,f)};return L}(),l=function(){function L(f,x){this.fieldsIndex=x;this.datefields={};this.parameters={};this._hasDateFunctions=void 0;this.parseTree=p.WhereGrammar.parse(f);const {isStandardized:V,isAggregate:Z,referencedFieldNames:ja}=this._extractExpressionInfo(x);this.referencedFieldNames=ja;this.isStandardized=V;this.isAggregate=
Z}L.create=function(f,x){return new L(f,x)};var D=L.prototype;D.testSet=function(f,x=S){const V={};for(const Z of this.fieldNames)V[Z]=f.map(ja=>x.getAttribute(ja,Z));return!!this._evaluateNode(this.parseTree,{attributes:V},S)};D.calculateValue=function(f,x=S){f=this._evaluateNode(this.parseTree,f,x);return f instanceof n.SqlInterval?f.valueInMilliseconds()/864E5:f};D.calculateValueCompiled=function(f,x=S){if(null!=this.parseTree._compiledVersion)return this.parseTree._compiledVersion(f,this.parameters,
x,this.datefields);if(E("esri-csp-restrictions"))return this.calculateValue(f,x);this._compileMe();return this.parseTree._compiledVersion(f,this.parameters,x,this.datefields)};D.testFeature=function(f,x=S){return!!this._evaluateNode(this.parseTree,f,x)};D.testFeatureCompiled=function(f,x=S){if(null!=this.parseTree._compiledVersion)return!!this.parseTree._compiledVersion(f,this.parameters,x,this.datefields);if(E("esri-csp-restrictions"))return this.testFeature(f,x);this._compileMe();return!!this.parseTree._compiledVersion(f,
this.parameters,x,this.datefields)};D.getFunctions=function(){const f=new Set;this._visitAll(this.parseTree,x=>{"function"===x.type&&f.add(x.name.toLowerCase())});return Array.from(f)};D.getExpressions=function(){const f=new Map;this._visitAll(this.parseTree,x=>{if("function"===x.type){const V=x.name.toLowerCase();x=x.args.value[0];if("column_ref"===x.type){x=x.column;const Z=`${V}-${x}`;f.has(Z)||f.set(Z,{aggregateType:V,field:x})}}});return[...f.values()]};D.getVariables=function(){const f=new Set;
this._visitAll(this.parseTree,x=>{"param"===x.type&&f.add(x.value.toLowerCase())});return Array.from(f)};D._compileMe=function(){const f="return this.convertInterval("+this.evaluateNodeToJavaScript(this.parseTree)+")";this.parseTree._compiledVersion=(new Function("feature","lookups","attributeAdapter","datefields",f)).bind(b)};D._extractExpressionInfo=function(f){const x=[],V=new Set;let Z=!0,ja=!0;this._visitAll(this.parseTree,oa=>{switch(oa.type){case "column_ref":{const ma=f.get(oa.column);let la,
pa;ma?la=pa=ma.name:(pa=oa.column,la=pa.toLowerCase());!ma||"date"!==ma.type&&"esriFieldTypeDate"!==ma.type||(this.datefields[ma.name]=1);V.has(la)||(V.add(la),x.push(pa));oa.column=pa;break}case "function":{const {name:ma,args:la}=oa;oa=la.value.length;Z&&(Z=n.isStandardized(ma,oa));ja&&(ja=M.isAggregate(ma,oa))}}});return{referencedFieldNames:Array.from(x),isStandardized:Z,isAggregate:ja}};D._visitAll=function(f,x){if(null!=f)switch(x(f),f.type){case "when_clause":this._visitAll(f.operand,x);this._visitAll(f.value,
x);break;case "case_expression":for(const V of f.clauses)this._visitAll(V,x);"simple"===f.format&&this._visitAll(f.operand,x);null!==f.else&&this._visitAll(f.else,x);break;case "expr_list":for(const V of f.value)this._visitAll(V,x);break;case "unary_expr":this._visitAll(f.expr,x);break;case "binary_expr":this._visitAll(f.left,x);this._visitAll(f.right,x);break;case "function":this._visitAll(f.args,x)}};D.evaluateNodeToJavaScript=function(f){switch(f.type){case "interval":return"this.makeSqlInterval("+
this.evaluateNodeToJavaScript(f.value)+", "+JSON.stringify(f.qualifier)+","+JSON.stringify(f.op)+")";case "case_expression":var x="";if("simple"===f.format){var V="this.makeComparable("+this.evaluateNodeToJavaScript(f.operand)+")";x="( ";for(let Z=0;Z<f.clauses.length;Z++)x+=" ("+V+" \x3d\x3d\x3d this.makeComparable("+this.evaluateNodeToJavaScript(f.clauses[Z].operand)+")) ? ("+this.evaluateNodeToJavaScript(f.clauses[Z].value)+") : "}else for(x="( ",V=0;V<f.clauses.length;V++)x+=" this.makeBool("+
this.evaluateNodeToJavaScript(f.clauses[V].operand)+")\x3d\x3d\x3dtrue ? ("+this.evaluateNodeToJavaScript(f.clauses[V].value)+") : ";x=null!==f.else?x+this.evaluateNodeToJavaScript(f.else):x+"null";return x+=" )";case "param":return"this.lookup("+JSON.stringify(f.value.toLowerCase())+",lookups)";case "expr_list":x="[";for(V of f.value)"["!==x&&(x+=","),x+=this.evaluateNodeToJavaScript(V);return x+="]";case "unary_expr":return"this.ternaryNot("+this.evaluateNodeToJavaScript(f.expr)+")";case "binary_expr":switch(f.operator){case "AND":return"this.ternaryAnd("+
this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+" )";case "OR":return"this.ternaryOr("+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+" )";case "IS":if("null"!==f.right.type)throw Error("Unsupported RHS for IS");return"this.equalsNull("+this.evaluateNodeToJavaScript(f.left)+")";case "ISNOT":if("null"!==f.right.type)throw Error("Unsupported RHS for IS");return"(!(this.equalsNull("+this.evaluateNodeToJavaScript(f.left)+")))";case "IN":return"this.applyIn("+
this.evaluateNodeToJavaScript(f.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(f.right)+"))";case "NOT IN":return"this.ternaryNot(this.applyIn("+this.evaluateNodeToJavaScript(f.left)+",this.ensureArray("+this.evaluateNodeToJavaScript(f.right)+")))";case "BETWEEN":return"this.between("+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+")";case "NOTBETWEEN":return"this.notbetween("+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+
")";case "LIKE":return"this.applyLike("+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+","+JSON.stringify(f.escape)+")";case "NOT LIKE":return"this.ternaryNot(this.applyLike("+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+","+JSON.stringify(f.escape)+"))";case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return"this.compare("+JSON.stringify(f.operator)+","+this.evaluateNodeToJavaScript(f.left)+","+
this.evaluateNodeToJavaScript(f.right)+")";case "*":case "-":case "+":case "/":return"this.calculate("+JSON.stringify(f.operator)+","+this.evaluateNodeToJavaScript(f.left)+","+this.evaluateNodeToJavaScript(f.right)+")"}throw Error("Not Supported Operator "+f.operator);case "null":case "bool":case "string":case "number":return JSON.stringify(f.value);case "date":return"(new Date("+t(f.value).getTime().toString()+"))";case "timestamp":return"(new Date("+q(f.value).getTime().toString()+"))";case "current_time":return"date"===
f.mode?"this.currentDate()":"this.currentTimestamp()";case "column_ref":return"this.featureValue(feature,"+JSON.stringify(f.column)+",datefields,attributeAdapter)";case "function":return"this.evaluateFunction("+JSON.stringify(f.name)+","+this.evaluateNodeToJavaScript(f.args)+")"}throw Error("Unsupported sql syntax "+f.type);};D._evaluateNode=function(f,x,V){switch(f.type){case "interval":return x=this._evaluateNode(f.value,x,V),n.SqlInterval.createFromValueAndQualifer(x,f.qualifier,f.op);case "case_expression":if("simple"===
f.format){var Z=k(this._evaluateNode(f.operand,x,V));for(var ja=0;ja<f.clauses.length;ja++)if(Z===k(this._evaluateNode(f.clauses[ja].operand,x,V)))return this._evaluateNode(f.clauses[ja].value,x,V)}else for(Z=0;Z<f.clauses.length;Z++)if(!0===this._evaluateNode(f.clauses[Z].operand,x,V))return this._evaluateNode(f.clauses[Z].value,x,V);return null!==f.else?this._evaluateNode(f.else,x,V):null;case "param":return this.parameters[f.value.toLowerCase()];case "expr_list":Z=[];for(ja of f.value)Z.push(this._evaluateNode(ja,
x,V));return Z;case "unary_expr":return K(this._evaluateNode(f.expr,x,V));case "binary_expr":switch(f.operator){case "AND":return N(this._evaluateNode(f.left,x,V),this._evaluateNode(f.right,x,V));case "OR":return h(this._evaluateNode(f.left,x,V),this._evaluateNode(f.right,x,V));case "IS":if("null"!==f.right.type)throw Error("Unsupported RHS for IS");return null===this._evaluateNode(f.left,x,V);case "ISNOT":if("null"!==f.right.type)throw Error("Unsupported RHS for IS");return null!==this._evaluateNode(f.left,
x,V);case "IN":return Z=z(this._evaluateNode(f.right,x,V)),F(this._evaluateNode(f.left,x,V),Z);case "NOT IN":return Z=z(this._evaluateNode(f.right,x,V)),K(F(this._evaluateNode(f.left,x,V),Z));case "BETWEEN":return Z=this._evaluateNode(f.left,x,V),f=this._evaluateNode(f.right,x,V),null==Z||null==f[0]||null==f[1]?null:Z>=k(f[0])&&Z<=k(f[1]);case "NOTBETWEEN":return Z=this._evaluateNode(f.left,x,V),f=this._evaluateNode(f.right,x,V),null==Z||null==f[0]||null==f[1]?null:Z<k(f[0])||Z>k(f[1]);case "LIKE":return d(this._evaluateNode(f.left,
x,V),this._evaluateNode(f.right,x,V),f.escape);case "NOT LIKE":return K(d(this._evaluateNode(f.left,x,V),this._evaluateNode(f.right,x,V),f.escape));case "\x3c\x3e":case "\x3c":case "\x3e":case "\x3e\x3d":case "\x3c\x3d":case "\x3d":return G(f.operator,this._evaluateNode(f.left,x,V),this._evaluateNode(f.right,x,V));case "-":case "+":case "*":case "/":return P(f.operator,this._evaluateNode(f.left,x,V),this._evaluateNode(f.right,x,V))}case "null":case "bool":case "string":case "number":return f.value;
case "date":return t(f.value);case "timestamp":return q(f.value);case "current_time":return x=new Date,"date"===f.mode&&x.setHours(0,0,0,0),x;case "column_ref":return u(x,f.column,this.datefields,V);case "function":return x=this._evaluateNode(f.args,x,V),this.isAggregate?M.aggregateFunction(f.name,x):n.evaluateFunction(f.name,x)}throw Error("Unsupported sql syntax "+f.type);};a._createClass(L,[{key:"fieldNames",get:function(){return this.referencedFieldNames}},{key:"hasDateFunctions",get:function(){if(null!=
this._hasDateFunctions)return this._hasDateFunctions;this._hasDateFunctions=!1;this._visitAll(this.parseTree,f=>{"current_time"===f.type?this._hasDateFunctions=!0:"function"===f.type&&(this._hasDateFunctions=this._hasDateFunctions||y.has(f.name.toLowerCase()))});return this._hasDateFunctions}}]);return L}();var H;(function(L){L[L.Normal=0]="Normal";L[L.Escaped=1]="Escaped"})(H||(H={}));const S={getAttribute(L,D){return(L&&"object"===typeof L.attributes?L.attributes:L)[D]}};c.WhereClause=l;c.defaultAttributeAdapter=
S;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/sql/AggregateFunctions":function(){define(["exports"],function(c){function a(n){let p=0;for(let w=0;w<n.length;w++)p+=n[w];return p/n.length}function E(n){const p=a(n),w=n.length;let v=0;for(const q of n)v+=(q-p)**2;return 1<w?v/(w-1):0}const M={min:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.min.apply(Math,n[0])},max:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.max.apply(Math,n[0])},avg:{minParams:1,maxParams:1,
evaluate:n=>null==n[0]?null:a(n[0])},sum:{minParams:1,maxParams:1,evaluate:n=>{if(null==n[0])n=null;else{{n=n[0];let p=0;for(let w=0;w<n.length;w++)p+=n[w];n=p}}return n}},stddev:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.sqrt(E(n[0]))},count:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:n[0].length},var:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:E(n[0])}};c.aggregateFunction=function(n,p){const w=M[n.toLowerCase()];if(null==w)throw Error("Function Not Recognised");
if(p.length<w.minParams||p.length>w.maxParams)throw Error(`Invalid Parameter count for call to ${n.toUpperCase()}`);return w.evaluate(p)};c.isAggregate=function(n,p){n=M[n.toLowerCase()];return null!=n&&p>=n.minParams&&p<=n.maxParams};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/sql/StandardizedFunctions":function(){define(["exports","../string"],function(c,a){let E=function(){function n(){this.op="+";this.minute=this.year=this.month=this.hour=this.second=this.day=0}n._fixDefaults=
function(p){if(null!==p.precision||null!==p.secondary)throw Error("Primary and Secondary SqlInterval qualifiers not supported");};n.createFromMilliseconds=function(p){const w=new n;w.second=p/1E3;return w};n.createFromValueAndQualifer=function(p,w,v){let q=null;const t=new n;t.op="-"===v?"-":"+";if("interval-period"===w.type){n._fixDefaults(w);if("year"===w.period||"month"===w.period)throw Error("Year-Month Intervals not supported");if(/^[0-9]{1,}$/.test(p))t[w.period]=parseFloat(p);else throw Error("Illegal Interval");
}else{n._fixDefaults(w.start);n._fixDefaults(w.end);if("year"===w.start.period||"month"===w.start.period)throw Error("Year-Month Intervals not supported");if("year"===w.end.period||"month"===w.end.period)throw Error("Year-Month Intervals not supported");switch(w.start.period){case "day":switch(w.end.period){case "hour":q=/^[0-9]{1,} [0-9]{1,}$/;if(q.test(p))t[w.start.period]=parseFloat(p.split(" ")[0]),t[w.end.period]=parseFloat(p.split(" ")[1]);else throw Error("Illegal Interval");break;case "minute":q=
/^[0-9]{1,} [0-9]{1,2}:[0-9]{1,}$/;if(q.test(p))t[w.start.period]=parseFloat(p.split(" ")[0]),p=p.split(" ")[1].split(":"),t.hour=parseFloat(p[0]),t.minute=parseFloat(p[1]);else throw Error("Illegal Interval");break;case "second":q=/^[0-9]{1,} [0-9]{1,2}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(q.test(p))t[w.start.period]=parseFloat(p.split(" ")[0]),p=p.split(" ")[1].split(":"),t.hour=parseFloat(p[0]),t.minute=parseFloat(p[1]),t.second=parseFloat(p[2]);else throw Error("Illegal Interval");
break;default:throw"Invalid Interval.";}break;case "hour":switch(w.end.period){case "minute":q=/^[0-9]{1,}:[0-9]{1,}$/;if(q.test(p))t.hour=parseFloat(p.split(":")[0]),t.minute=parseFloat(p.split(":")[1]);else throw Error("Illegal Interval");break;case "second":q=/^[0-9]{1,}:[0-9]{1,2}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(q.test(p))p=p.split(":"),t.hour=parseFloat(p[0]),t.minute=parseFloat(p[1]),t.second=parseFloat(p[2]);else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";}break;
case "minute":switch(w.end.period){case "second":q=/^[0-9]{1,}:[0-9]{1,}([.]{1}[0-9]{1,}){0,1}$/;if(q.test(p))p=p.split(":"),t.minute=parseFloat(p[0]),t.second=parseFloat(p[1]);else throw Error("Illegal Interval");break;default:throw"Invalid Interval.";}break;default:throw"Invalid Interval.";}}return t};n.prototype.valueInMilliseconds=function(){return("-"===this.op?-1:1)*(1E3*this.second+6E4*this.minute+36E5*this.hour+864E5*this.day+365/12*this.month*864E5+31536E6*this.year)};return n}();const M=
{extract:{minParams:2,maxParams:2,evaluate:([n,p])=>{if(null==p)return null;if(p instanceof Date)switch(n.toUpperCase()){case "SECOND":return p.getSeconds();case "MINUTE":return p.getMinutes();case "HOUR":return p.getHours();case "DAY":return p.getDate();case "MONTH":return p.getMonth()+1;case "YEAR":return p.getFullYear()}throw Error("Invalid Parameter for call to EXTRACT");}},substring:{minParams:2,maxParams:3,evaluate:n=>{if(2===n.length){const [p,w]=n;return null==p||null==w?null:p.toString().substring(w-
1)}if(3===n.length){const [p,w,v]=n;return null==p||null==w||null==v?null:0>=v?"":p.toString().substring(w-1,w+v-1)}}},position:{minParams:2,maxParams:2,evaluate:([n,p])=>null==n||null==p?null:p.indexOf(n)+1},trim:{minParams:2,maxParams:3,evaluate:n=>{var p=3===n.length,w=p?n[1]:" ";p=p?n[2]:n[1];if(null==w||null==p)return null;w=`(${a.escapeRegExpString(w)})`;switch(n[0]){case "BOTH":return p.replace(new RegExp(`^${w}*|${w}*$`,"g"),"");case "LEADING":return p.replace(new RegExp(`^${w}*`,"g"),"");
case "TRAILING":return p.replace(new RegExp(`${w}*$`,"g"),"")}throw Error("Invalid Parameter for call to TRIM");}},abs:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.abs(n[0])},ceiling:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.ceil(n[0])},floor:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.floor(n[0])},log:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.log(n[0])},log10:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.log(n[0])*Math.LOG10E},
sin:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.sin(n[0])},cos:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.cos(n[0])},tan:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.tan(n[0])},asin:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.asin(n[0])},acos:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.acos(n[0])},atan:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:Math.atan(n[0])},sign:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:
0<n[0]?1:0>n[1]?-1:0},power:{minParams:2,maxParams:2,evaluate:n=>null==n[0]||null==n[1]?null:n[0]**n[1]},mod:{minParams:2,maxParams:2,evaluate:n=>null==n[0]||null==n[1]?null:n[0]%n[1]},round:{minParams:1,maxParams:2,evaluate:n=>{const p=n[0];n=2===n.length?10**n[1]:1;return null==p?null:Math.round(p*n)/n}},truncate:{minParams:1,maxParams:2,evaluate:n=>null==n[0]?null:1===n.length?parseInt(n[0].toFixed(0),10):parseFloat(n[0].toFixed(n[1]))},char_length:{minParams:1,maxParams:1,evaluate:n=>"string"===
typeof n[0]||n[0]instanceof String?n[0].length:0},concat:{minParams:1,maxParams:Infinity,evaluate:n=>{let p="";for(let w=0;w<n.length;w++){if(null==n[w])return null;p+=n[w].toString()}return p}},lower:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:n[0].toString().toLowerCase()},upper:{minParams:1,maxParams:1,evaluate:n=>null==n[0]?null:n[0].toString().toUpperCase()}};c.SqlInterval=E;c.evaluateFunction=function(n,p){const w=M[n.toLowerCase()];if(null==w)throw Error("Function Not Recognised");
if(p.length<w.minParams||p.length>w.maxParams)throw Error(`Invalid Parameter count for call to ${n.toUpperCase()}`);return w.evaluate(p)};c.isStandardized=function(n,p){n=M[n.toLowerCase()];return null!=n&&p>=n.minParams&&p<=n.maxParams};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/sql/WhereGrammar":function(){define(["exports","../../chunks/_commonjsHelpers"],function(c,a){var E={exports:{}};(function(n){(function(p,w){n.exports&&(n.exports=w())})(a.commonjsGlobal,function(){function p(v,
q,t,z){v=Error.call(this,v);Object.setPrototypeOf&&Object.setPrototypeOf(v,p.prototype);v.expected=q;v.found=t;v.location=z;v.name="SyntaxError";return v}function w(v,q,t){t=t||" ";if(v.length>q)return v;q-=v.length;t+=t.repeat(q);return v+t.slice(0,q)}(function(v,q){function t(){this.constructor=v}t.prototype=q.prototype;v.prototype=new t})(p,Error);p.prototype.format=function(v){var q="Error: "+this.message;if(this.location){var t=null,z;for(z=0;z<v.length;z++)if(v[z].source===this.location.source){t=
v[z].text.split(/\r\n|\n|\r/g);break}v=this.location.start;z=this.location.source+":"+v.line+":"+v.column;if(t){var K=this.location.end,N=w("",v.line.toString().length);t=t[v.line-1];K=v.line===K.line?K.column:t.length+1;q+="\n --\x3e "+z+"\n"+N+" |\n"+v.line+" | "+t+"\n"+N+" | "+w("",v.column-1)+w("",K-v.column,"^")}else q+="\n at "+z}return q};p.buildMessage=function(v,q){function t(F){return F.charCodeAt(0).toString(16).toUpperCase()}function z(F){return F.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,
"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+t(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+t(d)})}function K(F){return F.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+t(d)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(d){return"\\x"+t(d)})}function N(F){return h[F.type](F)}
var h={literal:function(F){return'"'+z(F.text)+'"'},class:function(F){var d=F.parts.map(function(k){return Array.isArray(k)?K(k[0])+"-"+K(k[1]):K(k)});return"["+(F.inverted?"^":"")+d+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(F){return F.description}};return"Expected "+function(F){F=F.map(N);var d,k;F.sort();if(0<F.length){for(k=d=1;d<F.length;d++)F[d-1]!==F[d]&&(F[k]=F[d],k++);F.length=k}switch(F.length){case 1:return F[0];case 2:return F[0]+" or "+
F[1];default:return F.slice(0,-1).join(", ")+", or "+F[F.length-1]}}(v)+" but "+(q?'"'+z(q)+'"':"end of input")+" found."};return{SyntaxError:p,parse:function(v,q){function t(I,R){return{type:"literal",text:I,ignoreCase:R}}function z(I,R,ba){return{type:"class",parts:I,inverted:R,ignoreCase:ba}}function K(I){var R=bc[I],ba;if(!R){for(ba=I-1;!bc[ba];)ba--;R=bc[ba];for(R={line:R.line,column:R.column};ba<I;)10===v.charCodeAt(ba)?(R.line++,R.column=1):R.column++,ba++;bc[I]=R}return R}function N(I,R){var ba=
K(I),sa=K(R);return{source:$a,start:{offset:I,line:ba.line,column:ba.column},end:{offset:R,line:sa.line,column:sa.column}}}function h(I){r<pb||(r>pb&&(pb=r,vc=[]),vc.push(I))}function F(){var I=r;ta();var R=k();R!==e?(ta(),I=R):(r=I,I=e);return I}function d(){var I=r;var R=k();if(R!==e){I=[];var ba=r;var sa=ta();var Ca=Da();if(Ca!==e){var La=ta();var Ma=k();Ma!==e?ba=sa=[sa,Ca,La,Ma]:(r=ba,ba=e)}else r=ba,ba=e;for(;ba!==e;)I.push(ba),ba=r,sa=ta(),Ca=Da(),Ca!==e?(La=ta(),Ma=k(),Ma!==e?ba=sa=[sa,Ca,
La,Ma]:(r=ba,ba=e)):(r=ba,ba=e);ba={type:"expr_list"};R=[R];for(sa=0;sa<I.length;sa++)R.push(I[sa][3]);ba.value=R;I=ba}else r=I,I=e;return I}function k(){var I=r;var R=G();if(R!==e){I=[];var ba=r;var sa=ta();var Ca=X();if(Ca!==e){var La=ta();var Ma=G();Ma!==e?ba=sa=[sa,Ca,La,Ma]:(r=ba,ba=e)}else r=ba,ba=e;for(;ba!==e;)I.push(ba),ba=r,sa=ta(),Ca=X(),Ca!==e?(La=ta(),Ma=G(),Ma!==e?ba=sa=[sa,Ca,La,Ma]:(r=ba,ba=e)):(r=ba,ba=e);I=Qa(R,I)}else r=I,I=e;return I}function G(){var I=r;var R=P();if(R!==e){I=
[];var ba=r;var sa=ta();var Ca=T();if(Ca!==e){var La=ta();var Ma=P();Ma!==e?ba=sa=[sa,Ca,La,Ma]:(r=ba,ba=e)}else r=ba,ba=e;for(;ba!==e;)I.push(ba),ba=r,sa=ta(),Ca=T(),Ca!==e?(La=ta(),Ma=P(),Ma!==e?ba=sa=[sa,Ca,La,Ma]:(r=ba,ba=e)):(r=ba,ba=e);I=Qa(R,I)}else r=I,I=e;return I}function P(){var I=r;var R=A();if(R===e){R=r;if(33===v.charCodeAt(r)){var ba=ka;r++}else ba=e,0===ua&&h(nd);if(ba!==e){var sa=r;ua++;if(61===v.charCodeAt(r)){var Ca=Pb;r++}else Ca=e,0===ua&&h(Lc);ua--;Ca===e?sa=void 0:(r=sa,sa=
e);sa!==e?R=ba=[ba,sa]:(r=R,R=e)}else r=R,R=e}R!==e?(ba=ta(),sa=P(),sa!==e?I={type:"unary_expr",operator:"NOT",expr:sa}:(r=I,I=e)):(r=I,I=e);if(I===e){R=r;I=J();if(I!==e){ta();R=[];ba=r;sa=ta();Ca=u();if(Ca!==e){var La=ta();var Ma=J();Ma!==e?ba=sa=[sa,Ca,La,Ma]:(r=ba,ba=e)}else r=ba,ba=e;if(ba!==e)for(;ba!==e;)R.push(ba),ba=r,sa=ta(),Ca=u(),Ca!==e?(La=ta(),Ma=J(),Ma!==e?ba=sa=[sa,Ca,La,Ma]:(r=ba,ba=e)):(r=ba,ba=e);else R=e;R!==e&&(R={type:"arithmetic",tail:R});R===e&&(R=r,ba=Q(),ba!==e?(ta(),sa=Fa(),
sa!==e?(ta(),sa=d(),sa!==e?(ta(),Ca=Pa(),Ca!==e?R={op:ba,right:sa}:(r=R,R=e)):(r=R,R=e)):(r=R,R=e)):(r=R,R=e),R===e&&(R=r,ba=Q(),ba!==e?(ta(),sa=Fa(),sa!==e?(ta(),sa=Pa(),sa!==e?R={op:ba,right:{type:"expr_list",value:[]}}:(r=R,R=e)):(r=R,R=e)):(r=R,R=e),R===e&&(R=r,ba=Q(),ba!==e?(ta(),sa=D(),sa!==e?R={op:ba,right:sa}:(r=R,R=e)):(r=R,R=e))),R===e&&(R=r,Ca=A(),Ca!==e?(ta(),ba=Y(),ba!==e?(ta(),sa=J(),sa!==e?(ta(),La=T(),La!==e?(ta(),Ca=J(),Ca!==e?R={op:"NOT"+ba,right:{type:"expr_list",value:[sa,Ca]}}:
(r=R,R=e)):(r=R,R=e)):(r=R,R=e)):(r=R,R=e)):(r=R,R=e),R===e&&(R=r,Ca=Y(),Ca!==e?(ta(),ba=J(),ba!==e?(ta(),sa=T(),sa!==e?(ta(),La=J(),La!==e?R={op:Ca,right:{type:"expr_list",value:[ba,La]}}:(r=R,R=e)):(r=R,R=e)):(r=R,R=e)):(r=R,R=e)),R===e&&(R=r,ba=C(),ba!==e?(ta(),sa=A(),sa!==e?(ta(),sa=J(),sa!==e?R={op:ba+"NOT",right:sa}:(r=R,R=e)):(r=R,R=e)):(r=R,R=e),R===e&&(R=r,ba=C(),ba!==e?(ta(),sa=J(),sa!==e?R={op:ba,right:sa}:(r=R,R=e)):(r=R,R=e)),R===e&&(R=r,ba=O(),ba!==e?(ta(),sa=oa(),sa!==e?(ta(),Ca=r,
v.substr(r,6).toLowerCase()===Xa?(La=v.substr(r,6),r+=6):(La=e,0===ua&&h(od)),La!==e?(La=r,ua++,Ma=S(),ua--,Ma===e?La=void 0:(r=La,La=e),La!==e?Ca="ESCAPE":(r=Ca,Ca=e)):(r=Ca,Ca=e),Ca!==e?(ta(),Ca=ma(),Ca!==e?R={op:ba,right:sa,escape:Ca.value}:(r=R,R=e)):(r=R,R=e)):(r=R,R=e)):(r=R,R=e),R===e&&(R=r,ba=O(),ba!==e?(ta(),sa=oa(),sa!==e?R={op:ba,right:sa,escape:""}:(r=R,R=e)):(r=R,R=e))))));R===e&&(R=null);""==R||void 0==R||null==R?R=I:(ba=null,R=ba="arithmetic"==R.type?Qa(I,R.tail):ab(R.op,I,R.right,
R.escape))}else r=R,R=e;I=R}return I}function u(){if(v.substr(r,2)===zb){var I=zb;r+=2}else I=e,0===ua&&h(pd);I===e&&(62===v.charCodeAt(r)?(I=lb,r++):(I=e,0===ua&&h(qd)),I===e&&(v.substr(r,2)===Bb?(I=Bb,r+=2):(I=e,0===ua&&h(rd)),I===e&&(v.substr(r,2)===Qb?(I=Qb,r+=2):(I=e,0===ua&&h(sd)),I===e&&(60===v.charCodeAt(r)?(I=Rb,r++):(I=e,0===ua&&h(td)),I===e&&(61===v.charCodeAt(r)?(I=Pb,r++):(I=e,0===ua&&h(Lc)),I===e&&(v.substr(r,2)===cc?(I=cc,r+=2):(I=e,0===ua&&h(ud))))))));return I}function O(){var I=
I=r;var R=A();if(R!==e){var ba=ta();var sa=fa();sa!==e?I=R=[R,ba,sa]:(r=I,I=e)}else r=I,I=e;I!==e&&(I=I[0]+" "+I[2]);I===e&&(I=fa());return I}function Q(){var I=I=r;var R=A();if(R!==e){var ba=ta();var sa=g();sa!==e?I=R=[R,ba,sa]:(r=I,I=e)}else r=I,I=e;I!==e&&(I=I[0]+" "+I[2]);I===e&&(I=g());return I}function J(){var I=r;var R=m();if(R!==e){I=[];var ba=r;var sa=ta();var Ca=B();if(Ca!==e){var La=ta();var Ma=m();Ma!==e?ba=sa=[sa,Ca,La,Ma]:(r=ba,ba=e)}else r=ba,ba=e;for(;ba!==e;)I.push(ba),ba=r,sa=ta(),
Ca=B(),Ca!==e?(La=ta(),Ma=m(),Ma!==e?ba=sa=[sa,Ca,La,Ma]:(r=ba,ba=e)):(r=ba,ba=e);I=Qa(R,I)}else r=I,I=e;return I}function B(){if(43===v.charCodeAt(r)){var I=fb;r++}else I=e,0===ua&&h(wc);I===e&&(45===v.charCodeAt(r)?(I=qb,r++):(I=e,0===ua&&h(xc)));return I}function m(){var I=r;var R=b();if(R!==e){I=[];var ba=r;var sa=ta();var Ca=y();if(Ca!==e){var La=ta();var Ma=b();Ma!==e?ba=sa=[sa,Ca,La,Ma]:(r=ba,ba=e)}else r=ba,ba=e;for(;ba!==e;)I.push(ba),ba=r,sa=ta(),Ca=y(),Ca!==e?(La=ta(),Ma=b(),Ma!==e?ba=
sa=[sa,Ca,La,Ma]:(r=ba,ba=e)):(r=ba,ba=e);I=Qa(R,I)}else r=I,I=e;return I}function y(){if(42===v.charCodeAt(r)){var I=Ua;r++}else I=e,0===ua&&h(vd);I===e&&(47===v.charCodeAt(r)?(I=kb,r++):(I=e,0===ua&&h(wd)));return I}function b(){var I=ma();if(I===e){var R=r;var ba=r;var sa=Ba();if(sa!==e){var Ca=Ka();if(Ca!==e){var La=Ta();La!==e?ba=parseFloat(sa+Ca+La):(r=ba,ba=e)}else r=ba,ba=e}else r=ba,ba=e;ba===e&&(ba=r,sa=Ba(),sa!==e?(Ca=Ka(),Ca!==e?ba=parseFloat(sa+Ca):(r=ba,ba=e)):(r=ba,ba=e),ba===e&&(ba=
r,sa=Ba(),sa!==e?(Ca=Ta(),Ca!==e?ba=parseFloat(sa+Ca):(r=ba,ba=e)):(r=ba,ba=e),ba===e&&(ba=r,sa=Ba(),sa!==e&&(sa=parseFloat(sa)),ba=sa)));var Ma=ba;if(Ma!==e){var dc=r;ua++;var xd=H();ua--;xd===e?dc=void 0:(r=dc,dc=e);dc!==e?R={type:"number",value:Ma}:(r=R,R=e)}else r=R,R=e;I=R;if(I===e){var Sb=r;var Eb=r;if(v.substr(r,4).toLowerCase()===na){var ec=v.substr(r,4);r+=4}else ec=e,0===ua&&h(yd);if(ec!==e){var Tb=r;ua++;var zd=S();ua--;zd===e?Tb=void 0:(r=Tb,Tb=e);Tb!==e?Eb=ec=[ec,Tb]:(r=Eb,Eb=e)}else r=
Eb,Eb=e;var Cb=Eb;Cb!==e&&(Cb={type:"bool",value:!0});Sb=Cb;if(Sb===e){Sb=r;var Fb=r;if(v.substr(r,5).toLowerCase()===xa){var fc=v.substr(r,5);r+=5}else fc=e,0===ua&&h(Ad);if(fc!==e){var Ub=r;ua++;var Bd=S();ua--;Bd===e?Ub=void 0:(r=Ub,Ub=e);Ub!==e?Fb=fc=[fc,Ub]:(r=Fb,Fb=e)}else r=Fb,Fb=e;Cb=Fb;Cb!==e&&(Cb={type:"bool",value:!1});Sb=Cb}I=Sb;if(I===e){var Gb=r;if(v.substr(r,4).toLowerCase()===ca){var gc=v.substr(r,4);r+=4}else gc=e,0===ua&&h(Cd);if(gc!==e){var Vb=r;ua++;var Dd=S();ua--;Dd===e?Vb=void 0:
(r=Vb,Vb=e);Vb!==e?Gb=gc=[gc,Vb]:(r=Gb,Gb=e)}else r=Gb,Gb=e;var yc=Gb;yc!==e&&(yc={type:"null",value:null});I=yc;if(I===e){var Hb=r;var Ib=r;if(v.substr(r,4).toLowerCase()===Ed){var Mc=v.substr(r,4);r+=4}else Mc=e,0===ua&&h(Fd);if(Mc!==e){var hc=r;ua++;var Gd=S();ua--;Gd===e?hc=void 0:(r=hc,hc=e);hc!==e?Ib="DATE":(r=Ib,Ib=e)}else r=Ib,Ib=e;if(Ib!==e){ta();var Nc=oa();Nc!==e?Hb={type:"date",value:Nc.value}:(r=Hb,Hb=e)}else r=Hb,Hb=e;I=Hb;if(I===e){var Jb=r;var Kb=r;if(v.substr(r,9).toLowerCase()===
Hd){var Oc=v.substr(r,9);r+=9}else Oc=e,0===ua&&h(Id);if(Oc!==e){var ic=r;ua++;var Jd=S();ua--;Jd===e?ic=void 0:(r=ic,ic=e);ic!==e?Kb="TIMESTAMP":(r=Kb,Kb=e)}else r=Kb,Kb=e;if(Kb!==e){ta();var Pc=oa();Pc!==e?Jb={type:"timestamp",value:Pc.value}:(r=Jb,Jb=e)}else r=Jb,Jb=e;I=Jb;if(I===e){var cb=r;var zc=U();if(zc!==e){ta();if(45===v.charCodeAt(r)){var vb=qb;r++}else vb=e,0===ua&&h(xc);vb===e&&(43===v.charCodeAt(r)?(vb=fb,r++):(vb=e,0===ua&&h(wc)));if(vb!==e){ta();var Wb=oa();if(Wb!==e){ta();var Qc=
x();Qc!==e?cb={type:"interval",value:Wb,qualifier:Qc,op:vb}:(r=cb,cb=e)}else r=cb,cb=e}else r=cb,cb=e}else r=cb,cb=e;cb===e&&(cb=r,zc=U(),zc!==e?(ta(),vb=oa(),vb!==e?(ta(),Wb=x(),Wb!==e?cb={type:"interval",value:vb,qualifier:Wb,op:""}:(r=cb,cb=e)):(r=cb,cb=e)):(r=cb,cb=e));I=cb}}}}}}var Ya=I;if(Ya===e){var hb=r;var Lb=r;if(v.substr(r,7).toLowerCase()===Kd){var Rc=v.substr(r,7);r+=7}else Rc=e,0===ua&&h(Ld);if(Rc!==e){var jc=r;ua++;var Md=S();ua--;Md===e?jc=void 0:(r=jc,jc=e);jc!==e?Lb="EXTRACT":(r=
Lb,Lb=e)}else r=Lb,Lb=e;if(Lb!==e){ta();var Nd=Fa();if(Nd!==e){ta();var nb=W();nb===e&&(nb=da(),nb===e&&(nb=qa(),nb===e&&(nb=ra(),nb===e&&(nb=wa(),nb===e&&(nb=ya())))));var Sc=nb;if(Sc!==e){ta();var Od=ha();if(Od!==e){ta();var Tc=k();if(Tc!==e){ta();var Pd=Pa();Pd!==e?hb={type:"function",name:"extract",args:{type:"expr_list",value:[{type:"string",value:Sc},Tc]}}:(r=hb,hb=e)}else r=hb,hb=e}else r=hb,hb=e}else r=hb,hb=e}else r=hb,hb=e}else r=hb,hb=e;Ya=hb;if(Ya===e){var ib=r;var Mb=r;if(v.substr(r,
9).toLowerCase()===Qd){var Uc=v.substr(r,9);r+=9}else Uc=e,0===ua&&h(Rd);if(Uc!==e){var kc=r;ua++;var Sd=S();ua--;Sd===e?kc=void 0:(r=kc,kc=e);kc!==e?Mb="SUBSTRING":(r=Mb,Mb=e)}else r=Mb,Mb=e;if(Mb!==e){ta();var Td=Fa();if(Td!==e){ta();var Ac=k();if(Ac!==e){ta();var Ud=ha();if(Ud!==e){ta();var Bc=k();if(Bc!==e){ta();var wb=r;var Nb=r;if(v.substr(r,3).toLowerCase()===Vd){var Vc=v.substr(r,3);r+=3}else Vc=e,0===ua&&h(Wd);if(Vc!==e){var lc=r;ua++;var Xd=S();ua--;Xd===e?lc=void 0:(r=lc,lc=e);lc!==e?Nb=
"FOR":(r=Nb,Nb=e)}else r=Nb,Nb=e;var Xb=Nb;if(Xb!==e){var Yd=ta();var Wc=k();if(Wc!==e){var Zd=ta();wb=Xb=[Xb,Yd,Wc,Zd]}else r=wb,wb=e}else r=wb,wb=e;wb===e&&(wb=null);Xb=Pa();Xb!==e?ib={type:"function",name:"substring",args:{type:"expr_list",value:wb?[Ac,Bc,wb[2]]:[Ac,Bc]}}:(r=ib,ib=e)}else r=ib,ib=e}else r=ib,ib=e}else r=ib,ib=e}else r=ib,ib=e}else r=ib,ib=e;Ya=ib;if(Ya===e){var Za=r;var Cc=ea();if(Cc!==e){ta();var Dc=Fa();if(Dc!==e){ta();var xb=f();xb===e&&(xb=null);ta();var Yb=k();if(Yb!==e){ta();
var Ec=ha();if(Ec!==e){ta();var Xc=k();if(Xc!==e){ta();var $d=Pa();$d!==e?Za={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==xb?"BOTH":xb},Yb,Xc]}}:(r=Za,Za=e)}else r=Za,Za=e}else r=Za,Za=e}else r=Za,Za=e}else r=Za,Za=e}else r=Za,Za=e;Za===e&&(Za=r,Cc=ea(),Cc!==e?(ta(),Dc=Fa(),Dc!==e?(ta(),xb=f(),xb===e&&(xb=null),ta(),Yb=k(),Yb!==e?(ta(),Ec=Pa(),Ec!==e?Za={type:"function",name:"trim",args:{type:"expr_list",value:[{type:"string",value:null==xb?"BOTH":xb},Yb]}}:
(r=Za,Za=e)):(r=Za,Za=e)):(r=Za,Za=e)):(r=Za,Za=e));Ya=Za;if(Ya===e){var jb=r;var Ob=r;if(v.substr(r,8).toLowerCase()===ae){var Yc=v.substr(r,8);r+=8}else Yc=e,0===ua&&h(be);if(Yc!==e){var mc=r;ua++;var ce=S();ua--;ce===e?mc=void 0:(r=mc,mc=e);mc!==e?Ob="POSITION":(r=Ob,Ob=e)}else r=Ob,Ob=e;if(Ob!==e){ta();var de=Fa();if(de!==e){ta();var Zc=k();if(Zc!==e){ta();var ee=g();if(ee!==e){ta();var $c=k();if($c!==e){ta();var fe=Pa();fe!==e?jb={type:"function",name:"position",args:{type:"expr_list",value:[Zc,
$c]}}:(r=jb,jb=e)}else r=jb,jb=e}else r=jb,jb=e}else r=jb,jb=e}else r=jb,jb=e}else r=jb,jb=e;Ya=jb;if(Ya===e){var Ab=r;var nc;var ob=r;ob=nc=l();if(ob===e)if(ob=r,96===v.charCodeAt(r)?(nc=ad,r++):(nc=e,0===ua&&h(bd)),nc!==e){var oc=[];if(cd.test(v.charAt(r))){var yb=v.charAt(r);r++}else yb=e,0===ua&&h(dd);if(yb!==e)for(;yb!==e;)oc.push(yb),cd.test(v.charAt(r))?(yb=v.charAt(r),r++):(yb=e,0===ua&&h(dd));else oc=e;oc!==e?(96===v.charCodeAt(r)?(yb=ad,r++):(yb=e,0===ua&&h(bd)),yb!==e?ob=oc.join(""):(r=
ob,ob=e)):(r=ob,ob=e)}else r=ob,ob=e;var ed=ob;if(ed!==e){ta();var ge=Fa();if(ge!==e){ta();var pc=d();pc===e&&(pc=null);ta();var he=Pa();he!==e?Ab={type:"function",name:ed,args:pc?pc:{type:"expr_list",value:[]}}:(r=Ab,Ab=e)}else r=Ab,Ab=e}else r=Ab,Ab=e;Ya=Ab;if(Ya===e){var rb;var db=r;var Fc=Aa();if(Fc!==e){ta();var Zb=k();if(Zb!==e){ta();var $b=[];for(rb=pa();rb!==e;)$b.push(rb),rb=pa();rb=ta();var qc=Ha();qc!==e?db={type:"case_expression",format:"simple",operand:Zb,clauses:$b,else:null}:(r=db,
db=e)}else r=db,db=e}else r=db,db=e;if(db===e)if(db=r,Fc=Aa(),Fc!==e)if(ta(),Zb=k(),Zb!==e){ta();$b=[];for(rb=pa();rb!==e;)$b.push(rb),rb=pa();rb=ta();qc=va();if(qc!==e){ta();var ie=Ha();ie!==e?db={type:"case_expression",format:"simple",operand:Zb,clauses:$b,else:qc.value}:(r=db,db=e)}else r=db,db=e}else r=db,db=e;else r=db,db=e;var Gc=db;if(Gc===e){var sb;var gb=r;var Hc=Aa();if(Hc!==e){ta();var ac=[];for(sb=la();sb!==e;)ac.push(sb),sb=la();sb=ta();var rc=Ha();rc!==e?gb={type:"case_expression",format:"searched",
clauses:ac,else:null}:(r=gb,gb=e)}else r=gb,gb=e;if(gb===e)if(gb=r,Hc=Aa(),Hc!==e){ta();ac=[];for(sb=la();sb!==e;)ac.push(sb),sb=la();sb=ta();rc=va();if(rc!==e){ta();var je=Ha();je!==e?gb={type:"case_expression",format:"searched",clauses:ac,else:rc.value}:(r=gb,gb=e)}else r=gb,gb=e}else r=gb,gb=e;Gc=gb}Ya=Gc;if(Ya===e){var sc;var tc=r;var fd=H();if(fd!==e){var gd=[];for(sc=L();sc!==e;)gd.push(sc),sc=L();tc=fd+gd.join("")}else r=tc,tc=e;var uc=tc;if(uc!==e){var Ic=uc;uc=/^CURRENT_DATE$/i.test(Ic)?
{type:"current_time",mode:"date"}:/^CURRENT_TIMESTAMP$/i.test(Ic)?{type:"current_time",mode:"timestamp"}:{type:"column_ref",table:"",column:Ic}}Ya=uc;if(Ya===e&&(Ya=D(),Ya===e)){Ya=r;var ke=Fa();if(ke!==e){ta();var Jc=k();if(Jc!==e){ta();var le=Pa();le!==e?(Jc.paren=!0,Ya=Jc):(r=Ya,Ya=e)}else r=Ya,Ya=e}else r=Ya,Ya=e}}}}}}}}return Ya}function l(){var I;var R=r;var ba=H();if(ba!==e){R=[];for(I=S();I!==e;)R.push(I),I=S();R=ba+R.join("")}else r=R,R=e;return R}function H(){if(me.test(v.charAt(r))){var I=
v.charAt(r);r++}else I=e,0===ua&&h(ne);return I}function S(){if(oe.test(v.charAt(r))){var I=v.charAt(r);r++}else I=e,0===ua&&h(pe);return I}function L(){if(qe.test(v.charAt(r))){var I=v.charAt(r);r++}else I=e,0===ua&&h(re);return I}function D(){var I=r;if(64===v.charCodeAt(r)){var R=tb;r++}else R=e,0===ua&&h(se);if(R!==e){var ba=l();ba!==e?I=R=[R,ba]:(r=I,I=e)}else r=I,I=e;I!==e&&(I={type:"param",value:I[1]});return I}function f(){var I=r;if(v.substr(r,7).toLowerCase()===te){var R=v.substr(r,7);r+=
7}else R=e,0===ua&&h(ue);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="LEADING":(r=I,I=e)}else r=I,I=e;I===e&&(I=r,v.substr(r,8).toLowerCase()===ve?(R=v.substr(r,8),r+=8):(R=e,0===ua&&h(we)),R!==e?(R=r,ua++,ba=S(),ua--,ba===e?R=void 0:(r=R,R=e),R!==e?I="TRAILING":(r=I,I=e)):(r=I,I=e),I===e&&(I=r,v.substr(r,4).toLowerCase()===xe?(R=v.substr(r,4),r+=4):(R=e,0===ua&&h(ye)),R!==e?(R=r,ua++,ba=S(),ua--,ba===e?R=void 0:(r=R,R=e),R!==e?I="BOTH":(r=I,I=e)):(r=I,I=e)));return I}function x(){var I=
r;var R=r;var ba=V();if(ba!==e){ta();var sa=Fa();if(sa!==e)if(ta(),sa=ja(),sa!==e){ta();var Ca=Pa();Ca!==e?R={type:"interval-period",period:ba.value,precision:sa,secondary:null}:(r=R,R=e)}else r=R,R=e;else r=R,R=e}else r=R,R=e;R===e&&(R=r,ba=V(),ba!==e&&(ba=hd(ba)),R=ba);if(R!==e)if(ta(),ba=r,v.substr(r,2).toLowerCase()===ze?(sa=v.substr(r,2),r+=2):(sa=e,0===ua&&h(Ae)),sa!==e?(sa=r,ua++,Ca=S(),ua--,Ca===e?sa=void 0:(r=sa,sa=e),sa!==e?ba="TO":(r=ba,ba=e)):(r=ba,ba=e),ba!==e){ta();ba=r;sa=V();sa!==
e&&(sa={type:"interval-period",period:sa.value,precision:null,secondary:null});ba=sa;if(ba===e){ba=r;sa=ya();if(sa!==e)if(ta(),sa=Fa(),sa!==e)if(ta(),sa=ja(),sa!==e)if(ta(),Ca=Da(),Ca!==e)if(ta(),Ca=Z(),Ca!==e){ta();var La=Pa();La!==e?ba=id(sa,Ca):(r=ba,ba=e)}else r=ba,ba=e;else r=ba,ba=e;else r=ba,ba=e;else r=ba,ba=e;else r=ba,ba=e;ba===e&&(ba=r,sa=ya(),sa!==e?(ta(),sa=Fa(),sa!==e?(ta(),sa=ja(),sa!==e?(ta(),Ca=Pa(),Ca!==e?ba={type:"interval-period",period:"second",precision:sa,secondary:null}:(r=
ba,ba=e)):(r=ba,ba=e)):(r=ba,ba=e)):(r=ba,ba=e),ba===e&&(ba=r,sa=ya(),sa!==e&&(sa={type:"interval-period",period:"second",precision:null,secondary:null}),ba=sa))}ba!==e?I={type:"interval-qualifier",start:R,end:ba}:(r=I,I=e)}else r=I,I=e;else r=I,I=e;I===e&&(I=r,ba=V(),ba!==e?(ta(),R=Fa(),R!==e?(ta(),R=Z(),R!==e?(ta(),sa=Pa(),sa!==e?I={type:"interval-period",period:ba.value,precision:R,secondary:null}:(r=I,I=e)):(r=I,I=e)):(r=I,I=e)):(r=I,I=e),I===e&&(I=r,ba=V(),ba!==e&&(ba=hd(ba)),I=ba,I===e&&(I=
r,ba=ya(),ba!==e?(ta(),R=Fa(),R!==e?(ta(),R=ja(),R!==e?(ta(),sa=Da(),sa!==e?(ta(),ba=Z(),ba!==e?(ta(),sa=Pa(),sa!==e?I=id(R,ba):(r=I,I=e)):(r=I,I=e)):(r=I,I=e)):(r=I,I=e)):(r=I,I=e)):(r=I,I=e),I===e&&(I=r,ba=ya(),ba!==e?(ta(),R=Fa(),R!==e?(ta(),R=Z(),R!==e?(ta(),sa=Pa(),sa!==e?I={type:"interval-period",period:"second",precision:R,secondary:null}:(r=I,I=e)):(r=I,I=e)):(r=I,I=e)):(r=I,I=e),I===e&&(I=r,ba=ya(),ba!==e&&(ba={type:"interval-period",period:"second",precision:null,secondary:null}),I=ba)))));
return I}function V(){var I=r;I=qa();I!==e&&(I={type:"string",value:"day"});I===e&&(I=r,I=ra(),I!==e&&(I={type:"string",value:"hour"}),I===e&&(I=r,I=wa(),I!==e&&(I={type:"string",value:"minute"}),I===e&&(I=r,I=da(),I!==e&&(I={type:"string",value:"month"}),I===e&&(I=r,I=W(),I!==e&&(I={type:"string",value:"year"})))));return I}function Z(){var I=Oa();I!==e&&(I=parseFloat(I));return I}function ja(){var I=Oa();I!==e&&(I=parseFloat(I));return I}function oa(){var I=ma();I===e&&(I=D());return I}function ma(){var I=
r;if(39===v.charCodeAt(r)){var R=Na;r++}else R=e,0===ua&&h(jd);R===e&&(v.substr(r,2)===Db?(R=Db,r+=2):(R=e,0===ua&&h(Be)));if(R!==e){R=[];var ba=r;v.substr(r,2)===aa?(ba=aa,r+=2):(ba=e,0===ua&&h(kd));ba!==e&&(ba="'");ba===e&&(ld.test(v.charAt(r))?(ba=v.charAt(r),r++):(ba=e,0===ua&&h(md)));for(;ba!==e;)R.push(ba),ba=r,v.substr(r,2)===aa?(ba=aa,r+=2):(ba=e,0===ua&&h(kd)),ba!==e&&(ba="'"),ba===e&&(ld.test(v.charAt(r))?(ba=v.charAt(r),r++):(ba=e,0===ua&&h(md)));39===v.charCodeAt(r)?(ba=Na,r++):(ba=e,
0===ua&&h(jd));ba!==e?I={type:"string",value:R.join("")}:(r=I,I=e)}else r=I,I=e;return I}function la(){var I=r;if(Ga()!==e){ta();var R=k();if(R!==e){ta();var ba=Ea();ba!==e?(ta(),ba=k(),ba!==e?I={type:"when_clause",operand:R,value:ba}:(r=I,I=e)):(r=I,I=e)}else r=I,I=e}else r=I,I=e;return I}function pa(){var I=r;if(Ga()!==e){ta();var R=k();if(R!==e){ta();var ba=Ea();ba!==e?(ta(),ba=k(),ba!==e?I={type:"when_clause",operand:R,value:ba}:(r=I,I=e)):(r=I,I=e)}else r=I,I=e}else r=I,I=e;return I}function va(){var I=
r;var R=r;if(v.substr(r,4).toLowerCase()===Ce){var ba=v.substr(r,4);r+=4}else ba=e,0===ua&&h(De);if(ba!==e){ba=r;ua++;var sa=S();ua--;sa===e?ba=void 0:(r=ba,ba=e);ba!==e?R="ELSE":(r=R,R=e)}else r=R,R=e;R!==e?(ta(),R=k(),R!==e?I={type:"else_clause",value:R}:(r=I,I=e)):(r=I,I=e);return I}function Ba(){var I=Oa();if(I===e){I=r;if(45===v.charCodeAt(r)){var R=qb;r++}else R=e,0===ua&&h(xc);R===e&&(43===v.charCodeAt(r)?(R=fb,r++):(R=e,0===ua&&h(wc)));if(R!==e){var ba=Oa();ba!==e?I=R[0]+ba:(r=I,I=e)}else r=
I,I=e}return I}function Ka(){var I=r;if(46===v.charCodeAt(r)){var R=ia;r++}else R=e,0===ua&&h(Ee);R!==e?(I=Oa(),I===e&&(I=null),I="."+(null!=I?I:"")):(r=I,I=e);return I}function Ta(){var I;var R=I=r;if(Fe.test(v.charAt(r))){var ba=v.charAt(r);r++}else ba=e,0===ua&&h(Ge);ba!==e?(He.test(v.charAt(r))?(R=v.charAt(r),r++):(R=e,0===ua&&h(Ie)),R===e&&(R=null),R="e"+(null===R?"":R)):(r=R,R=e);R!==e?(ba=Oa(),ba!==e?I=R+ba:(r=I,I=e)):(r=I,I=e);return I}function Oa(){var I=[];var R=Sa();if(R!==e)for(;R!==e;)I.push(R),
R=Sa();else I=e;I!==e&&(I=I.join(""));return I}function Sa(){if(Je.test(v.charAt(r))){var I=v.charAt(r);r++}else I=e,0===ua&&h(Ke);return I}function g(){var I=r;if(v.substr(r,2).toLowerCase()===za){var R=v.substr(r,2);r+=2}else R=e,0===ua&&h(Le);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="IN":(r=I,I=e)}else r=I,I=e;return I}function C(){var I=r;if(v.substr(r,2).toLowerCase()===Ia){var R=v.substr(r,2);r+=2}else R=e,0===ua&&h(Me);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=
void 0:(r=R,R=e);R!==e?I="IS":(r=I,I=e)}else r=I,I=e;return I}function fa(){var I=r;if(v.substr(r,4).toLowerCase()===Ja){var R=v.substr(r,4);r+=4}else R=e,0===ua&&h(Ne);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="LIKE":(r=I,I=e)}else r=I,I=e;return I}function A(){var I=r;if(v.substr(r,3).toLowerCase()===Wa){var R=v.substr(r,3);r+=3}else R=e,0===ua&&h(Oe);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="NOT":(r=I,I=e)}else r=I,I=e;return I}function T(){var I=
r;if(v.substr(r,3).toLowerCase()===Va){var R=v.substr(r,3);r+=3}else R=e,0===ua&&h(Pe);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="AND":(r=I,I=e)}else r=I,I=e;return I}function X(){var I=r;if(v.substr(r,2).toLowerCase()===eb){var R=v.substr(r,2);r+=2}else R=e,0===ua&&h(Qe);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="OR":(r=I,I=e)}else r=I,I=e;return I}function Y(){var I=r;if(v.substr(r,7).toLowerCase()===mb){var R=v.substr(r,7);r+=7}else R=e,0===
ua&&h(Re);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="BETWEEN":(r=I,I=e)}else r=I,I=e;return I}function ha(){var I=r;if(v.substr(r,4).toLowerCase()===Se){var R=v.substr(r,4);r+=4}else R=e,0===ua&&h(Te);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="FROM":(r=I,I=e)}else r=I,I=e;return I}function ea(){var I=r;if(v.substr(r,4).toLowerCase()===Ue){var R=v.substr(r,4);r+=4}else R=e,0===ua&&h(Ve);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=
e);R!==e?I="TRIM":(r=I,I=e)}else r=I,I=e;return I}function U(){var I=r;if(v.substr(r,8).toLowerCase()===We){var R=v.substr(r,8);r+=8}else R=e,0===ua&&h(Xe);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="INTERVAL":(r=I,I=e)}else r=I,I=e;return I}function W(){var I=r;if(v.substr(r,4).toLowerCase()===Ye){var R=v.substr(r,4);r+=4}else R=e,0===ua&&h(Ze);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="YEAR":(r=I,I=e)}else r=I,I=e;return I}function da(){var I=
r;if(v.substr(r,5).toLowerCase()===$e){var R=v.substr(r,5);r+=5}else R=e,0===ua&&h(af);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="MONTH":(r=I,I=e)}else r=I,I=e;return I}function qa(){var I=r;if(v.substr(r,3).toLowerCase()===bf){var R=v.substr(r,3);r+=3}else R=e,0===ua&&h(cf);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="DAY":(r=I,I=e)}else r=I,I=e;return I}function ra(){var I=r;if(v.substr(r,4).toLowerCase()===df){var R=v.substr(r,4);r+=4}else R=
e,0===ua&&h(ef);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="HOUR":(r=I,I=e)}else r=I,I=e;return I}function wa(){var I=r;if(v.substr(r,6).toLowerCase()===ff){var R=v.substr(r,6);r+=6}else R=e,0===ua&&h(gf);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="MINUTE":(r=I,I=e)}else r=I,I=e;return I}function ya(){var I=r;if(v.substr(r,6).toLowerCase()===hf){var R=v.substr(r,6);r+=6}else R=e,0===ua&&h(jf);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=
R,R=e);R!==e?I="SECOND":(r=I,I=e)}else r=I,I=e;return I}function Aa(){var I=r;if(v.substr(r,4).toLowerCase()===kf){var R=v.substr(r,4);r+=4}else R=e,0===ua&&h(lf);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="CASE":(r=I,I=e)}else r=I,I=e;return I}function Ha(){var I=r;if(v.substr(r,3).toLowerCase()===mf){var R=v.substr(r,3);r+=3}else R=e,0===ua&&h(nf);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="END":(r=I,I=e)}else r=I,I=e;return I}function Ga(){var I=
r;if(v.substr(r,4).toLowerCase()===of){var R=v.substr(r,4);r+=4}else R=e,0===ua&&h(pf);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="WHEN":(r=I,I=e)}else r=I,I=e;return I}function Ea(){var I=r;if(v.substr(r,4).toLowerCase()===qf){var R=v.substr(r,4);r+=4}else R=e,0===ua&&h(rf);if(R!==e){R=r;ua++;var ba=S();ua--;ba===e?R=void 0:(r=R,R=e);R!==e?I="THEN":(r=I,I=e)}else r=I,I=e;return I}function Da(){if(44===v.charCodeAt(r)){var I=sf;r++}else I=e,0===ua&&h(tf);return I}function Fa(){if(40===
v.charCodeAt(r)){var I=uf;r++}else I=e,0===ua&&h(vf);return I}function Pa(){if(41===v.charCodeAt(r)){var I=wf;r++}else I=e,0===ua&&h(xf);return I}function ta(){var I;var R=[];for(I=bb();I!==e;)R.push(I),I=bb();return R}function bb(){if(yf.test(v.charAt(r))){var I=v.charAt(r);r++}else I=e,0===ua&&h(zf);return I}function ab(I,R,ba,sa){I={type:"binary_expr",operator:I,left:R,right:ba};void 0!==sa&&(I.escape=sa);return I}function Qa(I,R){for(var ba=0;ba<R.length;ba++)I=ab(R[ba][1],I,R[ba][3]);return I}
q=void 0!==q?q:{};var e={},$a=q.grammarSource,Ra={start:F},ub=F,ka="!",Pb="\x3d",zb="\x3e\x3d",lb="\x3e",Bb="\x3c\x3d",Qb="\x3c\x3e",Rb="\x3c",cc="!\x3d",fb="+",qb="-",Ua="*",kb="/",tb="@",Na="'",Db="N'",aa="''",ia=".",ca="null",na="true",xa="false",za="in",Ia="is",Ja="like",Xa="escape",Wa="not",Va="and",eb="or",mb="between",Se="from",Vd="for",Qd="substring",Kd="extract",Ue="trim",ae="position",Hd="timestamp",Ed="date",te="leading",ve="trailing",xe="both",ze="to",We="interval",Ye="year",$e="month",
bf="day",df="hour",ff="minute",hf="second",kf="case",mf="end",of="when",qf="then",Ce="else",sf=",",uf="(",wf=")",ad="`",me=/^[A-Za-z_\x80-\uFFFF]/,oe=/^[A-Za-z0-9_]/,qe=/^[A-Za-z0-9_.\x80-\uFFFF]/,ld=/^[^']/,Je=/^[0-9]/,Fe=/^[eE]/,He=/^[+\-]/,yf=/^[ \t\n\r]/,cd=/^[^`]/,nd=t("!",!1),Lc=t("\x3d",!1),pd=t("\x3e\x3d",!1),qd=t("\x3e",!1),rd=t("\x3c\x3d",!1),sd=t("\x3c\x3e",!1),td=t("\x3c",!1),ud=t("!\x3d",!1),wc=t("+",!1),xc=t("-",!1),vd=t("*",!1),wd=t("/",!1),ne=z([["A","Z"],["a","z"],"_",["\u0080","\uffff"]],
!1,!1),pe=z([["A","Z"],["a","z"],["0","9"],"_"],!1,!1),re=z([["A","Z"],["a","z"],["0","9"],"_",".",["\u0080","\uffff"]],!1,!1),se=t("@",!1),jd=t("'",!1),Be=t("N'",!1),kd=t("''",!1),md=z(["'"],!0,!1),Ee=t(".",!1),Ke=z([["0","9"]],!1,!1),Ge=z(["e","E"],!1,!1),Ie=z(["+","-"],!1,!1),Cd=t("NULL",!0),yd=t("TRUE",!0),Ad=t("FALSE",!0),Le=t("IN",!0),Me=t("IS",!0),Ne=t("LIKE",!0),od=t("ESCAPE",!0),Oe=t("NOT",!0),Pe=t("AND",!0),Qe=t("OR",!0),Re=t("BETWEEN",!0),Te=t("FROM",!0),Wd=t("FOR",!0),Rd=t("SUBSTRING",
!0),Ld=t("EXTRACT",!0),Ve=t("TRIM",!0),be=t("POSITION",!0),Id=t("TIMESTAMP",!0),Fd=t("DATE",!0),ue=t("LEADING",!0),we=t("TRAILING",!0),ye=t("BOTH",!0),Ae=t("TO",!0),Xe=t("INTERVAL",!0),Ze=t("YEAR",!0),af=t("MONTH",!0),cf=t("DAY",!0),ef=t("HOUR",!0),gf=t("MINUTE",!0),jf=t("SECOND",!0),lf=t("CASE",!0),nf=t("END",!0),pf=t("WHEN",!0),rf=t("THEN",!0),De=t("ELSE",!0),tf=t(",",!1),vf=t("(",!1),xf=t(")",!1),zf=z([" ","\t","\n","\r"],!1,!1),bd=t("`",!1),dd=z(["`"],!0,!1),hd=function(I){return{type:"interval-period",
period:I.value,precision:null,secondary:null}},id=function(I,R){return{type:"interval-period",period:"second",precision:I,secondary:R}},r=0,bc=[{line:1,column:1}],pb=0,vc=[],ua=0;if("startRule"in q){if(!(q.startRule in Ra))throw Error("Can't start parsing from rule \""+q.startRule+'".');ub=Ra[q.startRule]}var Kc=ub();if(Kc!==e&&r===v.length)return Kc;Kc!==e&&r<v.length&&h({type:"end"});throw function(I,R,ba){return new p(p.buildMessage(I,R),I,R,ba)}(vc,pb<v.length?v.charAt(pb):null,pb<v.length?N(pb,
pb+1):N(pb,pb));}}})})(E);let M=function(){function n(){}n.parse=function(p){return E.exports.parse(p)};return n}();c.WhereGrammar=M;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/chunks/_commonjsHelpers":function(){define(["exports"],function(c){c.commonjsGlobal="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};c.commonjsRequire=function(a){throw Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');
};c.getDefaultExportFromCjs=function(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a["default"]:a}})},"esri/layers/graphics/data/projectionSupport":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../geometry/projection ../../../geometry/geometryAdapters/json ../../../geometry/support/spatialReferenceUtils ../../../geometry/support/webMercatorUtils".split(" "),function(c,a,E,M,n,p,w){function v(d,k){if(!k)return null;if("x"in
k){var G={x:0,y:0};[G.x,G.y]=d(k.x,k.y,K);null!=k.z&&(G.z=k.z);null!=k.m&&(G.m=k.m);return G}if("xmin"in k)return G={xmin:0,ymin:0,xmax:0,ymax:0},[G.xmin,G.ymin]=d(k.xmin,k.ymin,K),[G.xmax,G.ymax]=d(k.xmax,k.ymax,K),k.hasZ&&(G.zmin=k.zmin,G.zmax=k.zmax,G.hasZ=!0),k.hasM&&(G.mmin=k.mmin,G.mmax=k.mmax,G.hasM=!0),G;if("rings"in k)return{rings:q(k.rings,d),hasM:k.hasM,hasZ:k.hasZ};if("paths"in k)return{paths:q(k.paths,d),hasM:k.hasM,hasZ:k.hasZ};if("points"in k)return{points:t(k.points,d),hasM:k.hasM,
hasZ:k.hasZ}}function q(d,k){const G=[];for(const P of d)G.push(t(P,k));return G}function t(d,k){const G=[];for(const P of d)d=k(P[0],P[1],[0,0]),G.push(d),2<P.length&&d.push(P[2]),3<P.length&&d.push(P[3]);return G}function z(){z=a._asyncToGenerator(function*(d,k){k&&(d=Array.isArray(d)?d.map(G=>E.isSome(G.geometry)&&G.geometry.spatialReference):[d],yield M.initializeProjection(d.map(G=>({source:G,dest:k}))))});return z.apply(this,arguments)}const K=[0,0],N=v.bind(null,w.lngLatToXY),h=v.bind(null,
w.xyToLngLat),F=new (function(){function d(){this._jobs=[];this._timer=null;this._process=this._process.bind(this)}var k=d.prototype;k.push=function(){var G=a._asyncToGenerator(function*(P,u,O){if(!(P&&P.length&&u&&O)||p.equals(u,O))return P;const Q={geometries:P,inSpatialReference:u,outSpatialReference:O,resolve:null};this._jobs.push(Q);return new Promise(J=>{Q.resolve=J;null===this._timer&&(this._timer=setTimeout(this._process,10))})});return function(P,u,O){return G.apply(this,arguments)}}();k._process=
function(){this._timer=null;const G=this._jobs.shift();if(G){var {geometries:P,inSpatialReference:u,outSpatialReference:O,resolve:Q}=G;w.canProject(u,O)?p.isWebMercator(O)?Q(P.map(N)):Q(P.map(h)):Q(M.projectMany(n.jsonAdapter,P,u,O,null));0<this._jobs.length&&(this._timer=setTimeout(this._process,10))}};return d}());c.checkProjectionSupport=function(d,k){return z.apply(this,arguments)};c.project=function(d,k,G){if(!d)return d;G||(G=k,k=d.spatialReference);return p.isValid(k)&&p.isValid(G)&&!p.equals(k,
G)?w.canProject(k,G)?(d=p.isWebMercator(G)?N(d):h(d),d.spatialReference=G,d):M.projectMany(n.jsonAdapter,[d],k,G,null)[0]:d};c.projectMany=function(d,k,G){return F.push(d,k,G)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/projection":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../core/Error ../core/mathUtils ../core/maybe ../core/promiseUtils ../core/unitUtils ../chunks/mat4 ../chunks/vec3 ../chunks/vec3f64 ./Extent ./Multipoint ../chunks/pe ./Point ./Polygon ./Polyline ./projectionEllipsoid ./support/aaBoundingRect ./support/Ellipsoid ./support/geodesicConstants ./support/GeographicTransformation ./support/spatialReferenceUtils ./support/SupportedGCSWkids ./support/zscale".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h,F,d,k,G,P,u,O,Q,J,B,m){function y(){return!!Qa&&h.isLoaded()}function b(aa){p.isNone($a)&&($a=Promise.all([h.load(),(new Promise((ia,ca)=>c(["../chunks/geometryEngineBase"],ia,ca))).then(ia=>ia.geometryEngineBase),new Promise((ia,ca)=>c(["./geometryAdapters/hydrated"],ia,ca))]));return $a.then(([,ia,{hydratedAdapter:ca}])=>{w.throwIfAborted(aa);e=ca;Qa=ia.default;Qa._enableProjection(h.pe)})}function l(aa,ia,ca=null){return Array.isArray(aa)?0===aa.length?[]:H(e,
aa,aa[0].spatialReference,ia,ca):H(e,[aa],aa.spatialReference,ia,ca)[0]}function H(aa,ia,ca,na,xa=null){if(p.isNone(ca)||p.isNone(na))return ia;if(L(ca,na,xa))return ia.map(za=>p.unwrap(f(za,ca,na)));if(p.isNone(xa)){const za=Q.cacheKey(ca,na);void 0!==Ra[za]?xa=Ra[za]:(xa=S(ca,na,null),p.isNone(xa)&&(xa=new Q),Ra[za]=xa)}if(p.isNone(Qa))throw new ub;return Qa._project(aa,ia,ca,na,xa)}function S(aa,ia,ca=null){if(p.isNone(Qa))throw new ub;if(p.isNone(aa)||p.isNone(ia))return null;aa=Qa._getTransformation(e,
aa,ia,ca,null==ca?void 0:ca.spatialReference);return null!==aa?Q.fromGE(aa):null}function L(aa,ia,ca){return ca?!1:J.equals(aa,ia)?!0:J.isValid(aa)&&J.isValid(ia)&&!!ta(aa,ia,Rb)}function D(){D=E._asyncToGenerator(function*(aa,ia,ca,na){if(!y())if(Array.isArray(aa))for(const {source:xa,dest:za,geographicTransformation:Ia}of aa){if(!L(xa,za,Ia))return b(na)}else if(!L(aa,ia,ca))return b(na)});return D.apply(this,arguments)}function f(aa,ia,ca){return aa?"x"in aa?x(aa,ia,new F,ca,0):"xmin"in aa?oa(aa,
ia,new K,ca,0):"rings"in aa?ja(aa,ia,new d,ca,0):"paths"in aa?Z(aa,ia,new k,ca,0):"points"in aa?V(aa,ia,new N,ca,0):null:null}function x(aa,ia,ca,na,xa){Na[0]=aa.x;Na[1]=aa.y;const za=aa.z;Na[2]=void 0!==za?za:xa;if(!va(Na,ia,0,Na,na,0,1))return null;ca.x=Na[0];ca.y=Na[1];ca.spatialReference=na;void 0===za?(ca.z=void 0,ca.hasZ=!1):(ca.z=Na[2],ca.hasZ=!0);void 0===aa.m?(ca.m=void 0,ca.hasM=!1):(ca.m=aa.m,ca.hasM=!0);return ca}function V(aa,ia,ca,na,xa){const {points:za,hasZ:Ia,hasM:Ja}=aa;aa=[];const Xa=
za.length,Wa=[];for(var Va of za)Wa.push(Va[0],Va[1],Ia?Va[2]:xa);if(!va(Wa,ia,0,Wa,na,0,Xa))return null;for(ia=0;ia<Xa;++ia){xa=3*ia;Va=Wa[xa];const eb=Wa[xa+1];Ia&&Ja?aa.push([Va,eb,Wa[xa+2],za[ia][3]]):Ia?aa.push([Va,eb,Wa[xa+2]]):Ja?aa.push([Va,eb,za[ia][2]]):aa.push([Va,eb])}ca.points=aa;ca.spatialReference=na;ca.hasZ=Ia;ca.hasM=Ja;return ca}function Z(aa,ia,ca,na,xa){const {paths:za,hasZ:Ia,hasM:Ja}=aa;aa=[];if(!Ba(za,Ia,Ja,ia,aa,na,xa))return null;ca.paths=aa;ca.spatialReference=na;ca.hasZ=
Ia;ca.hasM=Ja;return ca}function ja(aa,ia,ca,na,xa){const {rings:za,hasZ:Ia,hasM:Ja}=aa;aa=[];if(!Ba(za,Ia,Ja,ia,aa,na,xa))return null;ca.rings=aa;ca.spatialReference=na;ca.hasZ=Ia;ca.hasM=Ja;return ca}function oa(aa,ia,ca,na,xa){const {xmin:za,ymin:Ia,xmax:Ja,ymax:Xa,hasZ:Wa,hasM:Va}=aa;if(!ma(za,Ia,Wa?aa.zmin:xa,ia,Na,na))return null;ca.xmin=Na[0];ca.ymin=Na[1];Wa&&(ca.zmin=Na[2]);if(!ma(Ja,Xa,Wa?aa.zmax:xa,ia,Na,na))return null;ca.xmax=Na[0];ca.ymax=Na[1];Wa&&(ca.zmax=Na[2]);Va&&(ca.mmin=aa.mmin,
ca.mmax=aa.mmax);ca.spatialReference=na;return ca}function ma(aa,ia,ca,na,xa,za){Ua[0]=aa;Ua[1]=ia;Ua[2]=ca;return va(Ua,na,0,xa,za,0,1)}function la(aa,ia,ca,na){if(p.isNone(ia)||p.isNone(na)||2>aa.length)return!1;2===aa.length&&(Ua[0]=aa[0],Ua[1]=aa[1],Ua[2]=0,aa=Ua);return va(aa,ia,0,ca,na,0,1)}function pa(aa,ia,ca){if(p.isNone(ia))return!1;ia=Sa(ia,Bb);ia=lb[ia][ka.WGS84_COMPARABLE_LON_LAT];if(p.isNone(ia))return!1;ia(aa,0,Ua,0);ca!==Ua&&(ca[0]=Ua[0],ca[1]=Ua[1],2<ca.length&&(ca[2]=Ua[2]));return!0}
function va(aa,ia,ca,na,xa,za,Ia=1){ia=ta(ia,xa,Rb);if(p.isNone(ia))return!1;if(ia===g){if(aa===na&&ca===za)return!0;Ia=ca+3*Ia;for(let Ja=ca,Xa=za;Ja<Ia;Ja++,Xa++)na[Xa]=aa[Ja];return!0}Ia=ca+3*Ia;for(let Ja=ca,Xa=za;Ja<Ia;Ja+=3,Xa+=3)ia(aa,Ja,na,Xa);return!0}function Ba(aa,ia,ca,na,xa,za,Ia=0){const Ja=[];for(const Xa of aa)for(const Wa of Xa)Ja.push(Wa[0],Wa[1],ia?Wa[2]:Ia);if(!va(Ja,na,0,Ja,za,0,Ja.length/3))return!1;na=0;xa.length=0;for(const Xa of aa){aa=[];for(const Wa of Xa)ia&&ca?aa.push([Ja[na++],
Ja[na++],Ja[na++],Wa[3]]):ia?aa.push([Ja[na++],Ja[na++],Ja[na++]]):(ca?aa.push([Ja[na++],Ja[na++],Wa[2]]):aa.push([Ja[na++],Ja[na++]]),na++);xa.push(aa)}return!0}function Ka(aa,ia,ca,na){ia=na+ia;if(ia<na/2||ca>ia)return Number.MAX_VALUE;aa=Math.abs(fb*aa)+Math.asin(ca/ia);return aa>=Math.PI/2?Number.MAX_VALUE:ca/Math.cos(aa)}function Ta(aa,ia,ca){const na=Math.sin(aa);aa=Math.cos(aa);const xa=Math.sin(ia);ia=Math.cos(ia);ca[0]=-na;ca[4]=-xa*aa;ca[8]=ia*aa;ca[12]=0;ca[1]=aa;ca[5]=-xa*na;ca[9]=ia*
na;ca[13]=0;ca[2]=0;ca[6]=ia;ca[10]=xa;ca[14]=0;ca[3]=0;ca[7]=0;ca[11]=0;ca[15]=1;return ca}function Oa(aa,ia,ca){Ta(aa,ia,ca);q.transpose(ca,ca);return ca}function Sa(aa,ia){if(ia.spatialReference===aa)return ia.spatialReferenceId;ia.spatialReference=aa;"metersPerUnit"in ia&&(ia.metersPerUnit=v.getMetersPerUnitForSR(aa,1));return aa.wkt===G.SphericalECEFSpatialReference.wkt?ia.spatialReferenceId=ka.SPHERICAL_ECEF:J.isWGS84(aa)?ia.spatialReferenceId=ka.WGS84:J.isWebMercator(aa)?ia.spatialReferenceId=
ka.WEB_MERCATOR:J.isPlateCarree(aa)?ia.spatialReferenceId=ka.PLATE_CARREE:aa.wkt===G.WGS84ECEFSpatialReference.wkt?ia.spatialReferenceId=ka.WGS84_ECEF:aa.wkid===B.SupportedGCSWkids.CGCS2000?ia.spatialReferenceId=ka.CGCS2000:aa.wkt===G.SphericalPCPFMars.wkt?ia.spatialReferenceId=ka.SPHERICAL_MARS_PCPF:aa.wkt===G.SphericalPCPFMoon.wkt?ia.spatialReferenceId=ka.SPHERICAL_MOON_PCPF:J.isMars(aa)?ia.spatialReferenceId=ka.GCSMARS2000:J.isMoon(aa)?ia.spatialReferenceId=ka.GCSMOON2000:ia.spatialReferenceId=
ka.UNKNOWN}function g(aa,ia,ca,na){aa!==ca&&(ca[na++]=aa[ia++],ca[na++]=aa[ia++],ca[na]=aa[ia])}function C(aa,ia,ca,na){ca[na++]=qb*(aa[ia++]/u.earth.radius);ca[na++]=qb*(Math.PI/2-2*Math.atan(Math.exp(-aa[ia++]/u.earth.radius)));ca[na]=aa[ia]}function fa(aa,ia,ca,na){C(aa,ia,ca,na);qa(ca,na,ca,na)}function A(aa,ia,ca,na){C(aa,ia,ca,na);Ea(ca,na,ca,na)}function T(aa,ia,ca,na,xa){var za=.4999999*Math.PI;za=n.clamp(fb*aa[ia+1],-za,za);za=Math.sin(za);ca[na++]=fb*aa[ia]*xa.radius;ca[na++]=xa.halfSemiMajorAxis*
Math.log((1+za)/(1-za));ca[na]=aa[ia+2]}function X(aa,ia,ca,na){T(aa,ia,ca,na,u.earth)}function Y(aa,ia,ca,na){ca[na]=aa[ia]*Pb;ca[na+1]=aa[ia+1]*Pb;ca[na+2]=aa[ia+2]}function ha(aa,ia,ca,na){ca[na]=aa[ia]*zb;ca[na+1]=aa[ia+1]*zb;ca[na+2]=aa[ia+2]}function ea(aa,ia,ca,na){C(aa,ia,ca,na);Y(ca,na,ca,na)}function U(aa,ia,ca,na,xa){xa+=aa[ia+2];const za=fb*aa[ia+1];aa=fb*aa[ia];ia=Math.cos(za);ca[na++]=Math.cos(aa)*ia*xa;ca[na++]=Math.sin(aa)*ia*xa;ca[na]=Math.sin(za)*xa}function W(aa,ia,ca,na){U(aa,
ia,ca,na,u.moon.radius)}function da(aa,ia,ca,na){U(aa,ia,ca,na,u.mars.radius)}function qa(aa,ia,ca,na){U(aa,ia,ca,na,u.earth.radius)}function ra(aa,ia,ca,na,xa){var za=aa[ia];const Ia=aa[ia+1];ia=aa[ia+2];aa=Math.sqrt(za*za+Ia*Ia+ia*ia);ia=n.asinClamped(ia/(0===aa?1:aa));za=Math.atan2(Ia,za);ca[na++]=qb*za;ca[na++]=qb*ia;ca[na]=aa-xa}function wa(aa,ia,ca,na){ra(aa,ia,ca,na,u.moon.radius)}function ya(aa,ia,ca,na){ra(aa,ia,ca,na,u.mars.radius)}function Aa(aa,ia,ca,na){ra(aa,ia,ca,na,u.earth.radius)}
function Ha(aa,ia,ca,na){Aa(aa,ia,ca,na);X(ca,na,ca,na)}function Ga(aa,ia,ca,na){Aa(aa,ia,ca,na);Ea(ca,na,ca,na)}function Ea(aa,ia,ca,na){{var xa=u.earth;const Ia=fb*aa[ia];var za=fb*aa[ia+1];aa=aa[ia+2];ia=Math.sin(za);za=Math.cos(za);const Ja=xa.radius/Math.sqrt(1-xa.eccentricitySquared*ia*ia);ca[na++]=(Ja+aa)*za*Math.cos(Ia);ca[na++]=(Ja+aa)*za*Math.sin(Ia);ca[na++]=(Ja*(1-xa.eccentricitySquared)+aa)*ia}}function Da(aa,ia,ca,na){var xa=O.earthEllipsoidConstants,za=aa[ia],Ia=aa[ia+1];aa=aa[ia+2];
let Ja;ia=Math.abs(aa);var Xa=za*za+Ia*Ia;var Wa=Math.sqrt(Xa);var Va=Xa+aa*aa;var eb=Math.sqrt(Va);za=Math.atan2(Ia,za);var mb=aa*aa/Va;Va=Xa/Va;Ia=xa.a2/eb;Xa=xa.a3-xa.a4/eb;.3<Va?(mb=ia/eb*(1+Va*(xa.a1+Ia+mb*Xa)/eb),eb=Math.asin(mb),Ia=mb*mb,Va=Math.sqrt(1-Ia)):(Va=Wa/eb*(1-mb*(xa.a5-Ia-Va*Xa)/eb),eb=Math.acos(Va),Ia=1-Va*Va,mb=Math.sqrt(Ia));Ja=1-u.earth.eccentricitySquared*Ia;Ia=u.earth.radius/Math.sqrt(Ja);xa=xa.a6*Ia;Ia=Wa-Ia*Va;Xa=ia-xa*mb;ia=Va*Ia+mb*Xa;Wa=Va*Xa-mb*Ia;xa=Wa/(xa/Ja+ia);eb+=
xa;0>aa&&(eb=-eb);ca[na++]=qb*za;ca[na++]=qb*eb;ca[na]=ia+Wa*xa/2}function Fa(aa,ia,ca,na){Da(aa,ia,ca,na);qa(ca,na,ca,na)}function Pa(aa,ia,ca,na){Da(aa,ia,ca,na);X(ca,na,ca,na)}function ta(aa,ia,ca=ab()){return p.isNone(aa)||p.isNone(ia)?null:bb(aa,ia,ca).projector}function bb(aa,ia,ca){if(p.isNone(aa)||p.isNone(ia)||ca.source.spatialReference===aa&&ca.dest.spatialReference===ia)return ca;const na=Sa(aa,ca.source),xa=Sa(ia,ca.dest);na===ka.UNKNOWN&&xa===ka.UNKNOWN?J.equals(aa,ia)?ca.projector=g:
ca.projector=null:ca.projector=lb[na][xa];return ca}function ab(){return{source:{spatialReference:null,spatialReferenceId:ka.UNKNOWN,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:ka.UNKNOWN,metersPerUnit:1},projector:g}}let Qa=null,e=null,$a=null,Ra={},ub=function(aa){function ia(){return aa.call(this,"projection:not-loaded","projection engine not fully loaded yet, please call load()")||this}E._inheritsLoose(ia,aa);return ia}(M);var ka;(function(aa){aa[aa.UNKNOWN=0]="UNKNOWN";aa[aa.SPHERICAL_ECEF=
1]="SPHERICAL_ECEF";aa[aa.WGS84=2]="WGS84";aa[aa.WEB_MERCATOR=3]="WEB_MERCATOR";aa[aa.WGS84_ECEF=4]="WGS84_ECEF";aa[aa.CGCS2000=5]="CGCS2000";aa[aa.WGS84_COMPARABLE_LON_LAT=6]="WGS84_COMPARABLE_LON_LAT";aa[aa.SPHERICAL_MARS_PCPF=7]="SPHERICAL_MARS_PCPF";aa[aa.GCSMARS2000=8]="GCSMARS2000";aa[aa.SPHERICAL_MOON_PCPF=9]="SPHERICAL_MOON_PCPF";aa[aa.GCSMOON2000=10]="GCSMOON2000";aa[aa.LON_LAT=11]="LON_LAT";aa[aa.PLATE_CARREE=12]="PLATE_CARREE"})(ka||(ka={}));const Pb=u.earth.radius*Math.PI/180,zb=180/(u.earth.radius*
Math.PI),lb={[ka.WGS84]:{[ka.CGCS2000]:null,[ka.GCSMARS2000]:null,[ka.GCSMOON2000]:null,[ka.LON_LAT]:g,[ka.WGS84_COMPARABLE_LON_LAT]:g,[ka.SPHERICAL_ECEF]:qa,[ka.SPHERICAL_MARS_PCPF]:null,[ka.SPHERICAL_MOON_PCPF]:null,[ka.UNKNOWN]:null,[ka.WEB_MERCATOR]:X,[ka.PLATE_CARREE]:Y,[ka.WGS84]:g,[ka.WGS84_ECEF]:Ea},[ka.CGCS2000]:{[ka.CGCS2000]:g,[ka.GCSMARS2000]:null,[ka.GCSMOON2000]:null,[ka.LON_LAT]:g,[ka.WGS84_COMPARABLE_LON_LAT]:g,[ka.SPHERICAL_ECEF]:qa,[ka.SPHERICAL_MARS_PCPF]:null,[ka.SPHERICAL_MOON_PCPF]:null,
[ka.UNKNOWN]:null,[ka.WEB_MERCATOR]:null,[ka.PLATE_CARREE]:Y,[ka.WGS84]:null,[ka.WGS84_ECEF]:Ea},[ka.GCSMARS2000]:{[ka.CGCS2000]:null,[ka.GCSMARS2000]:g,[ka.GCSMOON2000]:null,[ka.LON_LAT]:g,[ka.WGS84_COMPARABLE_LON_LAT]:null,[ka.SPHERICAL_ECEF]:null,[ka.SPHERICAL_MARS_PCPF]:da,[ka.SPHERICAL_MOON_PCPF]:null,[ka.UNKNOWN]:null,[ka.WEB_MERCATOR]:null,[ka.PLATE_CARREE]:null,[ka.WGS84]:null,[ka.WGS84_ECEF]:null},[ka.GCSMOON2000]:{[ka.CGCS2000]:null,[ka.GCSMARS2000]:null,[ka.GCSMOON2000]:g,[ka.LON_LAT]:g,
[ka.WGS84_COMPARABLE_LON_LAT]:null,[ka.SPHERICAL_ECEF]:null,[ka.SPHERICAL_MARS_PCPF]:null,[ka.SPHERICAL_MOON_PCPF]:W,[ka.UNKNOWN]:null,[ka.WEB_MERCATOR]:null,[ka.PLATE_CARREE]:null,[ka.WGS84]:null,[ka.WGS84_ECEF]:null},[ka.WEB_MERCATOR]:{[ka.CGCS2000]:null,[ka.GCSMARS2000]:null,[ka.GCSMOON2000]:null,[ka.LON_LAT]:C,[ka.WGS84_COMPARABLE_LON_LAT]:C,[ka.SPHERICAL_ECEF]:fa,[ka.SPHERICAL_MARS_PCPF]:null,[ka.SPHERICAL_MOON_PCPF]:null,[ka.UNKNOWN]:null,[ka.WEB_MERCATOR]:g,[ka.PLATE_CARREE]:ea,[ka.WGS84]:C,
[ka.WGS84_ECEF]:A},[ka.WGS84_ECEF]:{[ka.CGCS2000]:Da,[ka.GCSMARS2000]:null,[ka.GCSMOON2000]:null,[ka.LON_LAT]:Da,[ka.WGS84_COMPARABLE_LON_LAT]:Da,[ka.SPHERICAL_ECEF]:Fa,[ka.SPHERICAL_MARS_PCPF]:null,[ka.SPHERICAL_MOON_PCPF]:null,[ka.UNKNOWN]:null,[ka.WEB_MERCATOR]:Pa,[ka.PLATE_CARREE]:function(aa,ia,ca,na){Da(aa,ia,ca,na);Y(ca,na,ca,na)},[ka.WGS84]:Da,[ka.WGS84_ECEF]:g},[ka.SPHERICAL_ECEF]:{[ka.CGCS2000]:Aa,[ka.GCSMARS2000]:null,[ka.GCSMOON2000]:null,[ka.LON_LAT]:Aa,[ka.WGS84_COMPARABLE_LON_LAT]:Aa,
[ka.SPHERICAL_ECEF]:g,[ka.SPHERICAL_MARS_PCPF]:null,[ka.SPHERICAL_MOON_PCPF]:null,[ka.UNKNOWN]:null,[ka.WEB_MERCATOR]:Ha,[ka.PLATE_CARREE]:function(aa,ia,ca,na){Aa(aa,ia,ca,na);Y(ca,na,ca,na)},[ka.WGS84]:Aa,[ka.WGS84_ECEF]:Ga},[ka.SPHERICAL_MARS_PCPF]:{[ka.CGCS2000]:null,[ka.GCSMARS2000]:ya,[ka.GCSMOON2000]:null,[ka.LON_LAT]:ya,[ka.WGS84_COMPARABLE_LON_LAT]:null,[ka.SPHERICAL_ECEF]:null,[ka.SPHERICAL_MARS_PCPF]:g,[ka.SPHERICAL_MOON_PCPF]:null,[ka.UNKNOWN]:null,[ka.WEB_MERCATOR]:null,[ka.PLATE_CARREE]:null,
[ka.WGS84]:null,[ka.WGS84_ECEF]:null},[ka.SPHERICAL_MOON_PCPF]:{[ka.CGCS2000]:null,[ka.GCSMARS2000]:null,[ka.GCSMOON2000]:wa,[ka.LON_LAT]:wa,[ka.WGS84_COMPARABLE_LON_LAT]:null,[ka.SPHERICAL_ECEF]:null,[ka.SPHERICAL_MARS_PCPF]:null,[ka.SPHERICAL_MOON_PCPF]:g,[ka.UNKNOWN]:null,[ka.WEB_MERCATOR]:null,[ka.PLATE_CARREE]:null,[ka.WGS84]:null,[ka.WGS84_ECEF]:null},[ka.UNKNOWN]:{[ka.CGCS2000]:null,[ka.GCSMARS2000]:null,[ka.GCSMOON2000]:null,[ka.LON_LAT]:null,[ka.WGS84_COMPARABLE_LON_LAT]:null,[ka.SPHERICAL_ECEF]:null,
[ka.SPHERICAL_MARS_PCPF]:null,[ka.SPHERICAL_MOON_PCPF]:null,[ka.UNKNOWN]:g,[ka.WEB_MERCATOR]:null,[ka.PLATE_CARREE]:null,[ka.WGS84]:null,[ka.WGS84_ECEF]:null},[ka.LON_LAT]:{[ka.CGCS2000]:g,[ka.GCSMARS2000]:g,[ka.GCSMOON2000]:g,[ka.LON_LAT]:g,[ka.WGS84_COMPARABLE_LON_LAT]:g,[ka.SPHERICAL_ECEF]:qa,[ka.SPHERICAL_MARS_PCPF]:da,[ka.SPHERICAL_MOON_PCPF]:W,[ka.UNKNOWN]:null,[ka.WEB_MERCATOR]:X,[ka.PLATE_CARREE]:Y,[ka.WGS84]:g,[ka.WGS84_ECEF]:Ea},[ka.WGS84_COMPARABLE_LON_LAT]:{[ka.CGCS2000]:null,[ka.GCSMARS2000]:null,
[ka.GCSMOON2000]:null,[ka.LON_LAT]:g,[ka.WGS84_COMPARABLE_LON_LAT]:g,[ka.SPHERICAL_ECEF]:qa,[ka.SPHERICAL_MARS_PCPF]:null,[ka.SPHERICAL_MOON_PCPF]:null,[ka.UNKNOWN]:null,[ka.WEB_MERCATOR]:null,[ka.PLATE_CARREE]:Y,[ka.WGS84]:g,[ka.WGS84_ECEF]:Ea},[ka.PLATE_CARREE]:{[ka.CGCS2000]:ha,[ka.GCSMARS2000]:null,[ka.GCSMOON2000]:null,[ka.LON_LAT]:ha,[ka.WGS84_COMPARABLE_LON_LAT]:ha,[ka.SPHERICAL_ECEF]:function(aa,ia,ca,na){ha(aa,ia,ca,na);qa(ca,na,ca,na)},[ka.SPHERICAL_MARS_PCPF]:null,[ka.SPHERICAL_MOON_PCPF]:null,
[ka.UNKNOWN]:null,[ka.WEB_MERCATOR]:function(aa,ia,ca,na){ha(aa,ia,ca,na);X(ca,na,ca,na)},[ka.PLATE_CARREE]:g,[ka.WGS84]:ha,[ka.WGS84_ECEF]:function(aa,ia,ca,na){ha(aa,ia,ca,na);Ea(ca,na,ca,na)}}},Bb={spatialReference:null,spatialReferenceId:ka.UNKNOWN},Qb={spatialReference:null,spatialReferenceId:ka.UNKNOWN},Rb=ab(),cc=ab(),fb=n.deg2rad(1),qb=n.rad2deg(1),Ua=z.create(),kb=z.create(),tb=z.create(),Na=z.create(),Db=z.create();a.canProjectToWGS84ComparableLonLat=function(aa){if(p.isNone(aa))return!1;
aa=Sa(aa,Bb);return!!lb[aa][ka.WGS84_COMPARABLE_LON_LAT]};a.canProjectWithoutEngine=L;a.computeENUToSphericalPCPFLocalRotation=Ta;a.computeSphericalPCPFToENULocalRotation=Oa;a.computeTranslationToOriginAndRotation=function(aa,ia,ca,na){if(p.isNone(aa)||p.isNone(na))return!1;var xa=Sa(aa,Bb),za=Sa(na,Qb);if(xa===za&&za!==ka.SPHERICAL_ECEF&&za!==ka.SPHERICAL_MARS_PCPF&&za!==ka.SPHERICAL_MOON_PCPF&&(xa!==ka.UNKNOWN||J.equals(aa,na)))return q.fromTranslation(ca,ia),!0;if(za===ka.SPHERICAL_ECEF||za===
ka.SPHERICAL_MARS_PCPF||za===ka.SPHERICAL_MOON_PCPF){xa=lb[xa][ka.LON_LAT];za=lb[ka.LON_LAT][za];if(p.isNone(xa)||p.isNone(za))return!1;xa(ia,0,kb,0);za(kb,0,tb,0);Ta(fb*kb[0],fb*kb[1],ca);ca[12]=tb[0];ca[13]=tb[1];ca[14]=tb[2];return!0}if((za===ka.WEB_MERCATOR||za===ka.PLATE_CARREE)&&(xa===ka.WGS84||xa===ka.CGCS2000&&za===ka.PLATE_CARREE||xa===ka.SPHERICAL_ECEF||xa===ka.WEB_MERCATOR)){aa=lb[xa][ka.LON_LAT];za=lb[ka.LON_LAT][za];if(p.isNone(aa)||p.isNone(za))return!1;aa(ia,0,kb,0);za(kb,0,tb,0);xa===
ka.SPHERICAL_ECEF?Oa(fb*kb[0],fb*kb[1],ca):q.identity(ca);ca[12]=tb[0];ca[13]=tb[1];ca[14]=tb[2];return!0}return!1};a.getProjectorName=function(aa,ia){switch(ta(aa,ia,Rb)){case g:return"copy3";case qa:return"wgs84ToSphericalECEF";case X:return"wgs84ToWebMercator";case Y:return"wgs84ToPlateCarree";case Ea:return"wgs84ToWGS84ECEF";case C:return"webMercatorToWGS84";case fa:return"webMercatorToSphericalECEF";case A:return"webMercatorToWGS84ECEF";case ea:return"webMercatorToPlateCarree";case Da:return"wgs84ECEFToWGS84";
case Fa:return"wgs84ECEFToSphericalECEF";case Pa:return"wgs84ECEFToWebMercator";case Aa:return"sphericalECEFToWGS84";case Ha:return"sphericalECEFToWebMercator";case ya:return"sphericalMarsPCPFToMars2000";case wa:return"sphericalMoonPCPFToMoon2000";case Ga:return"sphericalECEFToWGS84ECEF";case da:return"mars2000ToSphericalPCPF";case W:return"moon2000ToSphericalPCPF";default:return null}};a.getTransformation=S;a.getTransformations=function(aa,ia,ca=null){if(p.isNone(Qa))throw new ub;aa=Qa._getTransformationBySuitability(e,
aa,ia,ca,null==ca?void 0:ca.spatialReference);if(null!==aa){ia=[];for(const na of aa)ia.push(Q.fromGE(na));return ia}return[]};a.initializeProjection=function(aa,ia,ca,na){return D.apply(this,arguments)};a.isLoaded=y;a.load=b;a.localLinearScaleFactors=function(aa,ia,ca,na){if(p.isNone(ia)||p.isNone(na))return!1;const xa=Sa(ia,Bb);var za=Sa(na,Qb);if(xa===za&&xa!==ka.UNKNOWN||J.equals(ia,na))return ca[0]=1,ca[1]=1,ca[2]=1,!0;if(xa===ka.SPHERICAL_ECEF){ia=t.length(aa);aa=ia/Math.sqrt(aa[0]*aa[0]+aa[1]*
aa[1]);ia/=u.earth.radius;if(za===ka.WEB_MERCATOR)return ca[0]=aa*ia,ca[1]=aa*ia,ca[2]=1,!0;if(za===ka.WGS84||za===ka.CGCS2000)return za=zb,ca[0]=za*aa*ia,ca[1]=za*ia,ca[2]=1,!0}else if(xa===ka.PLATE_CARREE){if(za===ka.WGS84||za===ka.CGCS2000)return ca[0]=zb,ca[1]=zb,ca[2]=1,!0;if(za===ka.WEB_MERCATOR)return za=aa[1]/u.earth.radius,ca[0]=1,ca[1]=1/Math.cos(za),ca[2]=1,!0}return!1};a.lonLatToSphericalPCPF=function(aa,ia,ca,na,xa=0){na+=xa;xa=Math.cos(ca);aa[0]=Math.cos(ia)*xa*na;aa[1]=Math.sin(ia)*
xa*na;aa[2]=Math.sin(ca)*na};a.lonLatToWebMercatorComparable=T;a.project=l;a.projectBoundingRect=function(aa,ia,ca,na){if(null==aa)return!1;if(J.equals(ia,na))return P.copy(ca,aa),!0;Ua[0]=aa[0];Ua[1]=aa[1];Ua[2]=0;if(!va(Ua,ia,0,Ua,na,0,1))return!1;ca[0]=Ua[0];ca[1]=Ua[1];Ua[0]=aa[2];Ua[1]=aa[3];Ua[2]=0;if(!va(Ua,ia,0,Ua,na,0,1))return!1;ca[2]=Ua[0];ca[3]=Ua[1];return!0};a.projectBoundingSphere=function(aa,ia,ca,na){if(p.isNone(ia)||p.isNone(na))return!1;ia=bb(ia,na,cc);if(ia.projector===g)return ca[0]=
aa[0],ca[1]=aa[1],ca[2]=aa[2],ca[3]=aa[3],!0;if(p.isNone(ia.projector))return!1;const {source:xa,dest:za}=ia;if(za.spatialReferenceId===ka.WEB_MERCATOR){ia=lb[xa.spatialReferenceId][ka.WGS84];if(p.isNone(ia))return!1;ia(aa,0,kb,0);X(kb,0,ca,0);ca[3]=Ka(kb[1],aa[2],aa[3],u.earth.radius);return!0}if(xa.spatialReferenceId!==ka.WGS84&&xa.spatialReferenceId!==ka.CGCS2000||za.spatialReferenceId!==ka.PLATE_CARREE)ia.projector(aa,0,ca,0),ca[3]=aa[3]*xa.metersPerUnit/za.metersPerUnit;else{na=lb[ka.SPHERICAL_ECEF][ka.PLATE_CARREE];
let Ia=aa[3];p.isSome(lb[xa.spatialReferenceId][ka.SPHERICAL_ECEF])&&p.isSome(na)&&(Ia=Ka(aa[1],aa[2],aa[3],u.earth.radius));ia.projector(aa,0,ca,0);ca[3]=Ia}return!0};a.projectBuffer=va;a.projectDirection=function(aa,ia,ca,na,xa){t.copy(Na,aa);t.add(Db,aa,ia);la(Na,ca,Na,xa);la(Db,ca,Db,xa);t.subtract(na,Db,Na);t.normalize(na,na)};a.projectExtent=function(aa,ia,ca=ia.spatialReference,na=0){return p.isSome(ca)&&p.isSome(oa(aa,aa.spatialReference,ia,ca,na))};a.projectMany=H;a.projectMultipoint=function(aa,
ia,ca=ia.spatialReference,na=0){return p.isNone(ca)?!1:p.isSome(V(aa,aa.spatialReference,ia,ca,na))};a.projectPoint=function(aa,ia,ca=ia.spatialReference,na=0){return p.isNone(ca)?!1:p.isSome(x(aa,aa.spatialReference,ia,ca,na))};a.projectPointToVector=function(aa,ia,ca,na=0){Na[0]=aa.x;Na[1]=aa.y;const xa=aa.z;Na[2]=void 0!==xa?xa:na;return va(Na,aa.spatialReference,0,ia,ca,0,1)};a.projectPointToWGS84ComparableLonLat=function(aa,ia){Na[0]=aa.x;Na[1]=aa.y;const ca=aa.z;Na[2]=void 0!==ca?ca:0;return pa(Na,
aa.spatialReference,ia)};a.projectPolygon=function(aa,ia,ca=ia.spatialReference,na=0){return p.isSome(ca)&&p.isSome(ja(aa,aa.spatialReference,ia,ca,na))};a.projectPolyline=function(aa,ia,ca=ia.spatialReference,na=0){return p.isSome(ca)&&p.isSome(Z(aa,aa.spatialReference,ia,ca,na))};a.projectVectorToDehydratedPoint=function(aa,ia,ca){return va(aa,ia,0,Na,ca.spatialReference,0,1)?(ca.x=Na[0],ca.y=Na[1],ca.z=Na[2],ca):null};a.projectVectorToPoint=function(aa,ia,ca){if(p.isNone(ia)||p.isNone(ca))return null;
const na=new F({spatialReference:ca});return va(aa,ia,0,Na,ca,0,1)?(na.x=Na[0],na.y=Na[1],na.z=Na[2],na):null};a.projectVectorToVector=la;a.projectVectorToWGS84ComparableLonLat=function(aa,ia,ca){return pa(aa,ia,ca)};a.projectWithoutEngine=f;a.projectXYZToVector=ma;a.sphericalPCPFtoLonLatElevation=ra;a.tryProjectWithZConversion=function(aa,ia){try{const ca=l(aa,ia);if(null==ca)return null;"xmin"in aa&&"xmin"in ca&&(ca.zmin=aa.zmin,ca.zmax=aa.zmax);const na=m.getGeometryZScaler(ca.type,aa.spatialReference,
ia);p.isSome(na)&&na(ca);return ca}catch(ca){if(!(ca instanceof ub))throw ca;return null}};a.unload=function(){$a=e=Qa=null;Ra={}};Object.defineProperty(a,"__esModule",{value:!0})})},"esri/chunks/mat4":function(){define(["exports","./vec3f64","./common"],function(c,a,E){function M(g,C){g[0]=C[0];g[1]=C[1];g[2]=C[2];g[3]=C[3];g[4]=C[4];g[5]=C[5];g[6]=C[6];g[7]=C[7];g[8]=C[8];g[9]=C[9];g[10]=C[10];g[11]=C[11];g[12]=C[12];g[13]=C[13];g[14]=C[14];g[15]=C[15];return g}function n(g,C,fa,A,T,X,Y,ha,ea,U,
W,da,qa,ra,wa,ya,Aa){g[0]=C;g[1]=fa;g[2]=A;g[3]=T;g[4]=X;g[5]=Y;g[6]=ha;g[7]=ea;g[8]=U;g[9]=W;g[10]=da;g[11]=qa;g[12]=ra;g[13]=wa;g[14]=ya;g[15]=Aa;return g}function p(g){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g}function w(g,C){if(g===C){const fa=C[1],A=C[2],T=C[3],X=C[6],Y=C[7],ha=C[11];g[1]=C[4];g[2]=C[8];g[3]=C[12];g[4]=fa;g[6]=C[9];g[7]=C[13];g[8]=A;g[9]=X;g[11]=C[14];g[12]=T;g[13]=Y;g[14]=ha}else g[0]=C[0],
g[1]=C[4],g[2]=C[8],g[3]=C[12],g[4]=C[1],g[5]=C[5],g[6]=C[9],g[7]=C[13],g[8]=C[2],g[9]=C[6],g[10]=C[10],g[11]=C[14],g[12]=C[3],g[13]=C[7],g[14]=C[11],g[15]=C[15];return g}function v(g,C){const fa=C[0],A=C[1],T=C[2],X=C[3],Y=C[4],ha=C[5],ea=C[6],U=C[7],W=C[8],da=C[9],qa=C[10],ra=C[11],wa=C[12],ya=C[13],Aa=C[14];C=C[15];const Ha=fa*ha-A*Y,Ga=fa*ea-T*Y,Ea=fa*U-X*Y,Da=A*ea-T*ha,Fa=A*U-X*ha,Pa=T*U-X*ea,ta=W*ya-da*wa,bb=W*Aa-qa*wa,ab=W*C-ra*wa,Qa=da*Aa-qa*ya,e=da*C-ra*ya,$a=qa*C-ra*Aa;let Ra=Ha*$a-Ga*e+
Ea*Qa+Da*ab-Fa*bb+Pa*ta;if(!Ra)return null;Ra=1/Ra;g[0]=(ha*$a-ea*e+U*Qa)*Ra;g[1]=(T*e-A*$a-X*Qa)*Ra;g[2]=(ya*Pa-Aa*Fa+C*Da)*Ra;g[3]=(qa*Fa-da*Pa-ra*Da)*Ra;g[4]=(ea*ab-Y*$a-U*bb)*Ra;g[5]=(fa*$a-T*ab+X*bb)*Ra;g[6]=(Aa*Ea-wa*Pa-C*Ga)*Ra;g[7]=(W*Pa-qa*Ea+ra*Ga)*Ra;g[8]=(Y*e-ha*ab+U*ta)*Ra;g[9]=(A*ab-fa*e-X*ta)*Ra;g[10]=(wa*Fa-ya*Ea+C*Ha)*Ra;g[11]=(da*Ea-W*Fa-ra*Ha)*Ra;g[12]=(ha*bb-Y*Qa-ea*ta)*Ra;g[13]=(fa*Qa-A*bb+T*ta)*Ra;g[14]=(ya*Ga-wa*Da-Aa*Ha)*Ra;g[15]=(W*Da-da*Ga+qa*Ha)*Ra;return g}function q(g,
C){const fa=C[0],A=C[1],T=C[2],X=C[3],Y=C[4],ha=C[5],ea=C[6],U=C[7],W=C[8],da=C[9],qa=C[10],ra=C[11],wa=C[12],ya=C[13],Aa=C[14];C=C[15];g[0]=ha*(qa*C-ra*Aa)-da*(ea*C-U*Aa)+ya*(ea*ra-U*qa);g[1]=-(A*(qa*C-ra*Aa)-da*(T*C-X*Aa)+ya*(T*ra-X*qa));g[2]=A*(ea*C-U*Aa)-ha*(T*C-X*Aa)+ya*(T*U-X*ea);g[3]=-(A*(ea*ra-U*qa)-ha*(T*ra-X*qa)+da*(T*U-X*ea));g[4]=-(Y*(qa*C-ra*Aa)-W*(ea*C-U*Aa)+wa*(ea*ra-U*qa));g[5]=fa*(qa*C-ra*Aa)-W*(T*C-X*Aa)+wa*(T*ra-X*qa);g[6]=-(fa*(ea*C-U*Aa)-Y*(T*C-X*Aa)+wa*(T*U-X*ea));g[7]=fa*(ea*
ra-U*qa)-Y*(T*ra-X*qa)+W*(T*U-X*ea);g[8]=Y*(da*C-ra*ya)-W*(ha*C-U*ya)+wa*(ha*ra-U*da);g[9]=-(fa*(da*C-ra*ya)-W*(A*C-X*ya)+wa*(A*ra-X*da));g[10]=fa*(ha*C-U*ya)-Y*(A*C-X*ya)+wa*(A*U-X*ha);g[11]=-(fa*(ha*ra-U*da)-Y*(A*ra-X*da)+W*(A*U-X*ha));g[12]=-(Y*(da*Aa-qa*ya)-W*(ha*Aa-ea*ya)+wa*(ha*qa-ea*da));g[13]=fa*(da*Aa-qa*ya)-W*(A*Aa-T*ya)+wa*(A*qa-T*da);g[14]=-(fa*(ha*Aa-ea*ya)-Y*(A*Aa-T*ya)+wa*(A*ea-T*ha));g[15]=fa*(ha*qa-ea*da)-Y*(A*qa-T*da)+W*(A*ea-T*ha);return g}function t(g){const C=g[0],fa=g[1],A=g[2],
T=g[3],X=g[4],Y=g[5],ha=g[6],ea=g[7],U=g[8],W=g[9],da=g[10],qa=g[11],ra=g[12],wa=g[13],ya=g[14];g=g[15];return(C*Y-fa*X)*(da*g-qa*ya)-(C*ha-A*X)*(W*g-qa*wa)+(C*ea-T*X)*(W*ya-da*wa)+(fa*ha-A*Y)*(U*g-qa*ra)-(fa*ea-T*Y)*(U*ya-da*ra)+(A*ea-T*ha)*(U*wa-W*ra)}function z(g,C,fa){const A=C[0],T=C[1],X=C[2],Y=C[3],ha=C[4],ea=C[5],U=C[6],W=C[7],da=C[8],qa=C[9],ra=C[10],wa=C[11],ya=C[12],Aa=C[13],Ha=C[14];C=C[15];let Ga=fa[0],Ea=fa[1],Da=fa[2],Fa=fa[3];g[0]=Ga*A+Ea*ha+Da*da+Fa*ya;g[1]=Ga*T+Ea*ea+Da*qa+Fa*Aa;
g[2]=Ga*X+Ea*U+Da*ra+Fa*Ha;g[3]=Ga*Y+Ea*W+Da*wa+Fa*C;Ga=fa[4];Ea=fa[5];Da=fa[6];Fa=fa[7];g[4]=Ga*A+Ea*ha+Da*da+Fa*ya;g[5]=Ga*T+Ea*ea+Da*qa+Fa*Aa;g[6]=Ga*X+Ea*U+Da*ra+Fa*Ha;g[7]=Ga*Y+Ea*W+Da*wa+Fa*C;Ga=fa[8];Ea=fa[9];Da=fa[10];Fa=fa[11];g[8]=Ga*A+Ea*ha+Da*da+Fa*ya;g[9]=Ga*T+Ea*ea+Da*qa+Fa*Aa;g[10]=Ga*X+Ea*U+Da*ra+Fa*Ha;g[11]=Ga*Y+Ea*W+Da*wa+Fa*C;Ga=fa[12];Ea=fa[13];Da=fa[14];Fa=fa[15];g[12]=Ga*A+Ea*ha+Da*da+Fa*ya;g[13]=Ga*T+Ea*ea+Da*qa+Fa*Aa;g[14]=Ga*X+Ea*U+Da*ra+Fa*Ha;g[15]=Ga*Y+Ea*W+Da*wa+Fa*C;return g}
function K(g,C,fa){const A=fa[0],T=fa[1];fa=fa[2];let X=void 0,Y=void 0,ha=void 0,ea=void 0,U=void 0,W=void 0,da=void 0,qa=void 0,ra=void 0,wa=void 0,ya=void 0,Aa=void 0;C===g?(g[12]=C[0]*A+C[4]*T+C[8]*fa+C[12],g[13]=C[1]*A+C[5]*T+C[9]*fa+C[13],g[14]=C[2]*A+C[6]*T+C[10]*fa+C[14],g[15]=C[3]*A+C[7]*T+C[11]*fa+C[15]):(X=C[0],Y=C[1],ha=C[2],ea=C[3],U=C[4],W=C[5],da=C[6],qa=C[7],ra=C[8],wa=C[9],ya=C[10],Aa=C[11],g[0]=X,g[1]=Y,g[2]=ha,g[3]=ea,g[4]=U,g[5]=W,g[6]=da,g[7]=qa,g[8]=ra,g[9]=wa,g[10]=ya,g[11]=
Aa,g[12]=X*A+U*T+ra*fa+C[12],g[13]=Y*A+W*T+wa*fa+C[13],g[14]=ha*A+da*T+ya*fa+C[14],g[15]=ea*A+qa*T+Aa*fa+C[15]);return g}function N(g,C,fa){const A=fa[0],T=fa[1];fa=fa[2];g[0]=C[0]*A;g[1]=C[1]*A;g[2]=C[2]*A;g[3]=C[3]*A;g[4]=C[4]*T;g[5]=C[5]*T;g[6]=C[6]*T;g[7]=C[7]*T;g[8]=C[8]*fa;g[9]=C[9]*fa;g[10]=C[10]*fa;g[11]=C[11]*fa;g[12]=C[12];g[13]=C[13];g[14]=C[14];g[15]=C[15];return g}function h(g,C,fa,A){let T=A[0],X=A[1];A=A[2];let Y=Math.sqrt(T*T+X*X+A*A);var ha=void 0,ea=void 0;let U=void 0,W=void 0,
da=void 0,qa=void 0,ra=void 0,wa=void 0,ya=void 0,Aa=void 0,Ha=void 0,Ga=void 0,Ea=void 0,Da=void 0,Fa=void 0,Pa=void 0,ta=void 0,bb=void 0,ab=void 0,Qa=void 0,e=void 0,$a=void 0;ea=ha=void 0;if(Y<E.EPSILON)return null;Y=1/Y;T*=Y;X*=Y;A*=Y;ha=Math.sin(fa);ea=Math.cos(fa);U=1-ea;W=C[0];da=C[1];qa=C[2];ra=C[3];wa=C[4];ya=C[5];Aa=C[6];Ha=C[7];Ga=C[8];Ea=C[9];Da=C[10];Fa=C[11];Pa=T*T*U+ea;ta=X*T*U+A*ha;bb=A*T*U-X*ha;ab=T*X*U-A*ha;Qa=X*X*U+ea;e=A*X*U+T*ha;$a=T*A*U+X*ha;ha=X*A*U-T*ha;ea=A*A*U+ea;g[0]=W*
Pa+wa*ta+Ga*bb;g[1]=da*Pa+ya*ta+Ea*bb;g[2]=qa*Pa+Aa*ta+Da*bb;g[3]=ra*Pa+Ha*ta+Fa*bb;g[4]=W*ab+wa*Qa+Ga*e;g[5]=da*ab+ya*Qa+Ea*e;g[6]=qa*ab+Aa*Qa+Da*e;g[7]=ra*ab+Ha*Qa+Fa*e;g[8]=W*$a+wa*ha+Ga*ea;g[9]=da*$a+ya*ha+Ea*ea;g[10]=qa*$a+Aa*ha+Da*ea;g[11]=ra*$a+Ha*ha+Fa*ea;C!==g&&(g[12]=C[12],g[13]=C[13],g[14]=C[14],g[15]=C[15]);return g}function F(g,C,fa){const A=Math.sin(fa);fa=Math.cos(fa);const T=C[4],X=C[5],Y=C[6],ha=C[7],ea=C[8],U=C[9],W=C[10],da=C[11];C!==g&&(g[0]=C[0],g[1]=C[1],g[2]=C[2],g[3]=C[3],
g[12]=C[12],g[13]=C[13],g[14]=C[14],g[15]=C[15]);g[4]=T*fa+ea*A;g[5]=X*fa+U*A;g[6]=Y*fa+W*A;g[7]=ha*fa+da*A;g[8]=ea*fa-T*A;g[9]=U*fa-X*A;g[10]=W*fa-Y*A;g[11]=da*fa-ha*A;return g}function d(g,C,fa){const A=Math.sin(fa);fa=Math.cos(fa);const T=C[0],X=C[1],Y=C[2],ha=C[3],ea=C[8],U=C[9],W=C[10],da=C[11];C!==g&&(g[4]=C[4],g[5]=C[5],g[6]=C[6],g[7]=C[7],g[12]=C[12],g[13]=C[13],g[14]=C[14],g[15]=C[15]);g[0]=T*fa-ea*A;g[1]=X*fa-U*A;g[2]=Y*fa-W*A;g[3]=ha*fa-da*A;g[8]=T*A+ea*fa;g[9]=X*A+U*fa;g[10]=Y*A+W*fa;
g[11]=ha*A+da*fa;return g}function k(g,C,fa){const A=Math.sin(fa);fa=Math.cos(fa);const T=C[0],X=C[1],Y=C[2],ha=C[3],ea=C[4],U=C[5],W=C[6],da=C[7];C!==g&&(g[8]=C[8],g[9]=C[9],g[10]=C[10],g[11]=C[11],g[12]=C[12],g[13]=C[13],g[14]=C[14],g[15]=C[15]);g[0]=T*fa+ea*A;g[1]=X*fa+U*A;g[2]=Y*fa+W*A;g[3]=ha*fa+da*A;g[4]=ea*fa-T*A;g[5]=U*fa-X*A;g[6]=W*fa-Y*A;g[7]=da*fa-ha*A;return g}function G(g,C){g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=C[0];g[13]=C[1];g[14]=
C[2];g[15]=1;return g}function P(g,C){g[0]=C[0];g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=C[1];g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=C[2];g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g}function u(g,C,fa){let A=fa[0],T=fa[1];fa=fa[2];let X=Math.sqrt(A*A+T*T+fa*fa),Y=void 0,ha=void 0,ea=void 0;if(X<E.EPSILON)return null;X=1/X;A*=X;T*=X;fa*=X;Y=Math.sin(C);ha=Math.cos(C);ea=1-ha;g[0]=A*A*ea+ha;g[1]=T*A*ea+fa*Y;g[2]=fa*A*ea-T*Y;g[3]=0;g[4]=A*T*ea-fa*Y;g[5]=T*T*ea+ha;g[6]=fa*T*ea+A*Y;g[7]=0;g[8]=A*fa*ea+T*Y;g[9]=
T*fa*ea-A*Y;g[10]=fa*fa*ea+ha;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g}function O(g,C){const fa=Math.sin(C);C=Math.cos(C);g[0]=1;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=C;g[6]=fa;g[7]=0;g[8]=0;g[9]=-fa;g[10]=C;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g}function Q(g,C){const fa=Math.sin(C);C=Math.cos(C);g[0]=C;g[1]=0;g[2]=-fa;g[3]=0;g[4]=0;g[5]=1;g[6]=0;g[7]=0;g[8]=fa;g[9]=0;g[10]=C;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g}function J(g,C){const fa=Math.sin(C);C=Math.cos(C);g[0]=C;g[1]=
fa;g[2]=0;g[3]=0;g[4]=-fa;g[5]=C;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=1;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g}function B(g,C,fa){var A=C[0],T=C[1],X=C[2],Y=C[3],ha=A+A,ea=T+T;const U=X+X;C=A*ha;const W=A*ea;A*=U;const da=T*ea;T*=U;X*=U;ha*=Y;ea*=Y;Y*=U;g[0]=1-(da+X);g[1]=W+Y;g[2]=A-ea;g[3]=0;g[4]=W-Y;g[5]=1-(C+X);g[6]=T+ha;g[7]=0;g[8]=A+ea;g[9]=T-ha;g[10]=1-(C+da);g[11]=0;g[12]=fa[0];g[13]=fa[1];g[14]=fa[2];g[15]=1;return g}function m(g,C){const fa=Sa,A=-C[0],T=-C[1],X=-C[2],Y=C[3],ha=C[4],
ea=C[5],U=C[6],W=C[7],da=A*A+T*T+X*X+Y*Y;0<da?(fa[0]=2*(ha*Y+W*A+ea*X-U*T)/da,fa[1]=2*(ea*Y+W*T+U*A-ha*X)/da,fa[2]=2*(U*Y+W*X+ha*T-ea*A)/da):(fa[0]=2*(ha*Y+W*A+ea*X-U*T),fa[1]=2*(ea*Y+W*T+U*A-ha*X),fa[2]=2*(U*Y+W*X+ha*T-ea*A));B(g,C,fa);return g}function y(g,C){g[0]=C[12];g[1]=C[13];g[2]=C[14];return g}function b(g,C){const fa=C[0],A=C[1],T=C[2],X=C[4],Y=C[5],ha=C[6],ea=C[8],U=C[9];C=C[10];g[0]=Math.sqrt(fa*fa+A*A+T*T);g[1]=Math.sqrt(X*X+Y*Y+ha*ha);g[2]=Math.sqrt(ea*ea+U*U+C*C);return g}function l(g,
C){const fa=C[0]+C[5]+C[10];let A=0;0<fa?(A=2*Math.sqrt(fa+1),g[3]=.25*A,g[0]=(C[6]-C[9])/A,g[1]=(C[8]-C[2])/A,g[2]=(C[1]-C[4])/A):C[0]>C[5]&&C[0]>C[10]?(A=2*Math.sqrt(1+C[0]-C[5]-C[10]),g[3]=(C[6]-C[9])/A,g[0]=.25*A,g[1]=(C[1]+C[4])/A,g[2]=(C[8]+C[2])/A):C[5]>C[10]?(A=2*Math.sqrt(1+C[5]-C[0]-C[10]),g[3]=(C[8]-C[2])/A,g[0]=(C[1]+C[4])/A,g[1]=.25*A,g[2]=(C[6]+C[9])/A):(A=2*Math.sqrt(1+C[10]-C[0]-C[5]),g[3]=(C[1]-C[4])/A,g[0]=(C[8]+C[2])/A,g[1]=(C[6]+C[9])/A,g[2]=.25*A);return g}function H(g,C,fa,A){var T=
C[0],X=C[1],Y=C[2],ha=C[3],ea=T+T,U=X+X,W=Y+Y;C=T*ea;const da=T*U;T*=W;const qa=X*U;X*=W;Y*=W;ea*=ha;U*=ha;ha*=W;W=A[0];const ra=A[1];A=A[2];g[0]=(1-(qa+Y))*W;g[1]=(da+ha)*W;g[2]=(T-U)*W;g[3]=0;g[4]=(da-ha)*ra;g[5]=(1-(C+Y))*ra;g[6]=(X+ea)*ra;g[7]=0;g[8]=(T+U)*A;g[9]=(X-ea)*A;g[10]=(1-(C+qa))*A;g[11]=0;g[12]=fa[0];g[13]=fa[1];g[14]=fa[2];g[15]=1;return g}function S(g,C,fa,A,T){var X=C[0],Y=C[1],ha=C[2],ea=C[3],U=X+X,W=Y+Y,da=ha+ha;C=X*U;var qa=X*W,ra=X*da;X=Y*W;Y*=da;var wa=ha*da;ha=ea*U;W*=ea;const ya=
ea*da;var Aa=A[0],Ha=A[1];da=A[2];A=T[0];ea=T[1];T=T[2];U=(1-(X+wa))*Aa;const Ga=(qa+ya)*Aa;Aa*=ra-W;qa=(qa-ya)*Ha;wa=(1-(C+wa))*Ha;Ha*=Y+ha;ra=(ra+W)*da;Y=(Y-ha)*da;C=(1-(C+X))*da;g[0]=U;g[1]=Ga;g[2]=Aa;g[3]=0;g[4]=qa;g[5]=wa;g[6]=Ha;g[7]=0;g[8]=ra;g[9]=Y;g[10]=C;g[11]=0;g[12]=fa[0]+A-(U*A+qa*ea+ra*T);g[13]=fa[1]+ea-(Ga*A+wa*ea+Y*T);g[14]=fa[2]+T-(Aa*A+Ha*ea+C*T);g[15]=1;return g}function L(g,C){var fa=C[0],A=C[1],T=C[2];C=C[3];var X=fa+fa,Y=A+A;const ha=T+T;fa*=X;const ea=A*X;A*=Y;const U=T*X,W=
T*Y;T*=ha;X*=C;Y*=C;C*=ha;g[0]=1-A-T;g[1]=ea+C;g[2]=U-Y;g[3]=0;g[4]=ea-C;g[5]=1-fa-T;g[6]=W+X;g[7]=0;g[8]=U+Y;g[9]=W-X;g[10]=1-fa-A;g[11]=0;g[12]=0;g[13]=0;g[14]=0;g[15]=1;return g}function D(g,C,fa,A,T,X,Y){const ha=1/(fa-C),ea=1/(T-A),U=1/(X-Y);g[0]=2*X*ha;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=2*X*ea;g[6]=0;g[7]=0;g[8]=(fa+C)*ha;g[9]=(T+A)*ea;g[10]=(Y+X)*U;g[11]=-1;g[12]=0;g[13]=0;g[14]=Y*X*2*U;g[15]=0;return g}function f(g,C,fa,A,T){C=1/Math.tan(C/2);let X=void 0;g[0]=C/fa;g[1]=0;g[2]=0;g[3]=0;g[4]=
0;g[5]=C;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[11]=-1;g[12]=0;g[13]=0;g[15]=0;null!=T&&Infinity!==T?(X=1/(A-T),g[10]=(T+A)*X,g[14]=2*T*A*X):(g[10]=-1,g[14]=-2*A);return g}function x(g,C,fa,A){const T=Math.tan(C.upDegrees*Math.PI/180),X=Math.tan(C.downDegrees*Math.PI/180),Y=Math.tan(C.leftDegrees*Math.PI/180);C=Math.tan(C.rightDegrees*Math.PI/180);const ha=2/(Y+C),ea=2/(T+X);g[0]=ha;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=ea;g[6]=0;g[7]=0;g[8]=-((Y-C)*ha*.5);g[9]=(T-X)*ea*.5;g[10]=A/(fa-A);g[11]=-1;g[12]=0;g[13]=
0;g[14]=A*fa/(fa-A);g[15]=0;return g}function V(g,C,fa,A,T,X,Y){const ha=1/(C-fa),ea=1/(A-T),U=1/(X-Y);g[0]=-2*ha;g[1]=0;g[2]=0;g[3]=0;g[4]=0;g[5]=-2*ea;g[6]=0;g[7]=0;g[8]=0;g[9]=0;g[10]=2*U;g[11]=0;g[12]=(C+fa)*ha;g[13]=(T+A)*ea;g[14]=(Y+X)*U;g[15]=1;return g}function Z(g,C,fa,A){let T=void 0,X=void 0;var Y=void 0,ha=void 0;let ea=void 0,U=void 0;var W=void 0,da=void 0;let qa=void 0,ra=void 0;const wa=C[0],ya=C[1];C=C[2];Y=A[0];ha=A[1];A=A[2];W=fa[0];da=fa[1];fa=fa[2];if(Math.abs(wa-W)<E.EPSILON&&
Math.abs(ya-da)<E.EPSILON&&Math.abs(C-fa)<E.EPSILON)return p(g);W=wa-W;da=ya-da;qa=C-fa;ra=1/Math.sqrt(W*W+da*da+qa*qa);W*=ra;da*=ra;qa*=ra;T=ha*qa-A*da;X=A*W-Y*qa;Y=Y*da-ha*W;(ra=Math.sqrt(T*T+X*X+Y*Y))?(ra=1/ra,T*=ra,X*=ra,Y*=ra):Y=X=T=0;ha=da*Y-qa*X;ea=qa*T-W*Y;U=W*X-da*T;(ra=Math.sqrt(ha*ha+ea*ea+U*U))?(ra=1/ra,ha*=ra,ea*=ra,U*=ra):U=ea=ha=0;g[0]=T;g[1]=ha;g[2]=W;g[3]=0;g[4]=X;g[5]=ea;g[6]=da;g[7]=0;g[8]=Y;g[9]=U;g[10]=qa;g[11]=0;g[12]=-(T*wa+X*ya+Y*C);g[13]=-(ha*wa+ea*ya+U*C);g[14]=-(W*wa+da*
ya+qa*C);g[15]=1;return g}function ja(g,C,fa,A){const T=C[0],X=C[1];C=C[2];var Y=A[0];const ha=A[1];var ea=A[2];A=T-fa[0];let U=X-fa[1];fa=C-fa[2];let W=A*A+U*U+fa*fa;0<W&&(W=1/Math.sqrt(W),A*=W,U*=W,fa*=W);let da=ha*fa-ea*U;ea=ea*A-Y*fa;Y=Y*U-ha*A;W=da*da+ea*ea+Y*Y;0<W&&(W=1/Math.sqrt(W),da*=W,ea*=W,Y*=W);g[0]=da;g[1]=ea;g[2]=Y;g[3]=0;g[4]=U*Y-fa*ea;g[5]=fa*da-A*Y;g[6]=A*ea-U*da;g[7]=0;g[8]=A;g[9]=U;g[10]=fa;g[11]=0;g[12]=T;g[13]=X;g[14]=C;g[15]=1;return g}function oa(g){return"mat4("+g[0]+", "+
g[1]+", "+g[2]+", "+g[3]+", "+g[4]+", "+g[5]+", "+g[6]+", "+g[7]+", "+g[8]+", "+g[9]+", "+g[10]+", "+g[11]+", "+g[12]+", "+g[13]+", "+g[14]+", "+g[15]+")"}function ma(g){return Math.sqrt(g[0]**2+g[1]**2+g[2]**2+g[3]**2+g[4]**2+g[5]**2+g[6]**2+g[7]**2+g[8]**2+g[9]**2+g[10]**2+g[11]**2+g[12]**2+g[13]**2+g[14]**2+g[15]**2)}function la(g,C,fa){g[0]=C[0]+fa[0];g[1]=C[1]+fa[1];g[2]=C[2]+fa[2];g[3]=C[3]+fa[3];g[4]=C[4]+fa[4];g[5]=C[5]+fa[5];g[6]=C[6]+fa[6];g[7]=C[7]+fa[7];g[8]=C[8]+fa[8];g[9]=C[9]+fa[9];
g[10]=C[10]+fa[10];g[11]=C[11]+fa[11];g[12]=C[12]+fa[12];g[13]=C[13]+fa[13];g[14]=C[14]+fa[14];g[15]=C[15]+fa[15];return g}function pa(g,C,fa){g[0]=C[0]-fa[0];g[1]=C[1]-fa[1];g[2]=C[2]-fa[2];g[3]=C[3]-fa[3];g[4]=C[4]-fa[4];g[5]=C[5]-fa[5];g[6]=C[6]-fa[6];g[7]=C[7]-fa[7];g[8]=C[8]-fa[8];g[9]=C[9]-fa[9];g[10]=C[10]-fa[10];g[11]=C[11]-fa[11];g[12]=C[12]-fa[12];g[13]=C[13]-fa[13];g[14]=C[14]-fa[14];g[15]=C[15]-fa[15];return g}function va(g,C,fa){g[0]=C[0]*fa;g[1]=C[1]*fa;g[2]=C[2]*fa;g[3]=C[3]*fa;g[4]=
C[4]*fa;g[5]=C[5]*fa;g[6]=C[6]*fa;g[7]=C[7]*fa;g[8]=C[8]*fa;g[9]=C[9]*fa;g[10]=C[10]*fa;g[11]=C[11]*fa;g[12]=C[12]*fa;g[13]=C[13]*fa;g[14]=C[14]*fa;g[15]=C[15]*fa;return g}function Ba(g,C,fa,A){g[0]=C[0]+fa[0]*A;g[1]=C[1]+fa[1]*A;g[2]=C[2]+fa[2]*A;g[3]=C[3]+fa[3]*A;g[4]=C[4]+fa[4]*A;g[5]=C[5]+fa[5]*A;g[6]=C[6]+fa[6]*A;g[7]=C[7]+fa[7]*A;g[8]=C[8]+fa[8]*A;g[9]=C[9]+fa[9]*A;g[10]=C[10]+fa[10]*A;g[11]=C[11]+fa[11]*A;g[12]=C[12]+fa[12]*A;g[13]=C[13]+fa[13]*A;g[14]=C[14]+fa[14]*A;g[15]=C[15]+fa[15]*A;return g}
function Ka(g,C){return g[0]===C[0]&&g[1]===C[1]&&g[2]===C[2]&&g[3]===C[3]&&g[4]===C[4]&&g[5]===C[5]&&g[6]===C[6]&&g[7]===C[7]&&g[8]===C[8]&&g[9]===C[9]&&g[10]===C[10]&&g[11]===C[11]&&g[12]===C[12]&&g[13]===C[13]&&g[14]===C[14]&&g[15]===C[15]}function Ta(g,C){if(g===C)return!0;const fa=g[0],A=g[1],T=g[2],X=g[3],Y=g[4],ha=g[5],ea=g[6],U=g[7],W=g[8],da=g[9],qa=g[10],ra=g[11],wa=g[12],ya=g[13],Aa=g[14];g=g[15];const Ha=C[0],Ga=C[1],Ea=C[2],Da=C[3],Fa=C[4],Pa=C[5],ta=C[6],bb=C[7],ab=C[8],Qa=C[9],e=C[10],
$a=C[11],Ra=C[12],ub=C[13],ka=C[14];C=C[15];return Math.abs(fa-Ha)<=E.EPSILON*Math.max(1,Math.abs(fa),Math.abs(Ha))&&Math.abs(A-Ga)<=E.EPSILON*Math.max(1,Math.abs(A),Math.abs(Ga))&&Math.abs(T-Ea)<=E.EPSILON*Math.max(1,Math.abs(T),Math.abs(Ea))&&Math.abs(X-Da)<=E.EPSILON*Math.max(1,Math.abs(X),Math.abs(Da))&&Math.abs(Y-Fa)<=E.EPSILON*Math.max(1,Math.abs(Y),Math.abs(Fa))&&Math.abs(ha-Pa)<=E.EPSILON*Math.max(1,Math.abs(ha),Math.abs(Pa))&&Math.abs(ea-ta)<=E.EPSILON*Math.max(1,Math.abs(ea),Math.abs(ta))&&
Math.abs(U-bb)<=E.EPSILON*Math.max(1,Math.abs(U),Math.abs(bb))&&Math.abs(W-ab)<=E.EPSILON*Math.max(1,Math.abs(W),Math.abs(ab))&&Math.abs(da-Qa)<=E.EPSILON*Math.max(1,Math.abs(da),Math.abs(Qa))&&Math.abs(qa-e)<=E.EPSILON*Math.max(1,Math.abs(qa),Math.abs(e))&&Math.abs(ra-$a)<=E.EPSILON*Math.max(1,Math.abs(ra),Math.abs($a))&&Math.abs(wa-Ra)<=E.EPSILON*Math.max(1,Math.abs(wa),Math.abs(Ra))&&Math.abs(ya-ub)<=E.EPSILON*Math.max(1,Math.abs(ya),Math.abs(ub))&&Math.abs(Aa-ka)<=E.EPSILON*Math.max(1,Math.abs(Aa),
Math.abs(ka))&&Math.abs(g-C)<=E.EPSILON*Math.max(1,Math.abs(g),Math.abs(C))}function Oa(g){const C=E.EPSILON,fa=g[0],A=g[1],T=g[2],X=g[4],Y=g[5],ha=g[6],ea=g[8],U=g[9];g=g[10];return Math.abs(1-(fa*fa+X*X+ea*ea))<=C&&Math.abs(1-(A*A+Y*Y+U*U))<=C&&Math.abs(1-(T*T+ha*ha+g*g))<=C}const Sa=a.create();a=Object.freeze({__proto__:null,copy:M,set:n,identity:p,transpose:w,invert:v,adjoint:q,determinant:t,multiply:z,translate:K,scale:N,rotate:h,rotateX:F,rotateY:d,rotateZ:k,fromTranslation:G,fromScaling:P,
fromRotation:u,fromXRotation:O,fromYRotation:Q,fromZRotation:J,fromRotationTranslation:B,fromQuat2:m,getTranslation:y,getScaling:b,getRotation:l,fromRotationTranslationScale:H,fromRotationTranslationScaleOrigin:S,fromQuat:L,frustum:D,perspective:f,perspectiveFromFieldOfView:x,ortho:V,lookAt:Z,targetTo:ja,str:oa,frob:ma,add:la,subtract:pa,multiplyScalar:va,multiplyScalarAndAdd:Ba,exactEquals:Ka,equals:Ta,isOrthoNormal:Oa,mul:z,sub:pa});c.add=la;c.adjoint=q;c.copy=M;c.determinant=t;c.equals=Ta;c.exactEquals=
Ka;c.frob=ma;c.fromQuat=L;c.fromQuat2=m;c.fromRotation=u;c.fromRotationTranslation=B;c.fromRotationTranslationScale=H;c.fromRotationTranslationScaleOrigin=S;c.fromScaling=P;c.fromTranslation=G;c.fromXRotation=O;c.fromYRotation=Q;c.fromZRotation=J;c.frustum=D;c.getRotation=l;c.getScaling=b;c.getTranslation=y;c.identity=p;c.invert=v;c.isOrthoNormal=Oa;c.lookAt=Z;c.mat4=a;c.mul=z;c.multiply=z;c.multiplyScalar=va;c.multiplyScalarAndAdd=Ba;c.ortho=V;c.perspective=f;c.perspectiveFromFieldOfView=x;c.rotate=
h;c.rotateX=F;c.rotateY=d;c.rotateZ=k;c.scale=N;c.set=n;c.str=oa;c.sub=pa;c.subtract=pa;c.targetTo=ja;c.translate=K;c.transpose=w})},"esri/chunks/pe":function(){define(["require","exports","./_rollupPluginBabelHelpers","../assets","../core/has"],function(c,a,E,M,n){function p(){return!!a._pe}function w(){return!!n("esri-wasm")}function v(){return h?h:h=(new Promise((d,k)=>c(["./pe-wasm"],d,k))).then(d=>d.peWasm).then(({default:d})=>d({locateFile:k=>M.getAssetUrl(`esri/geometry/support/${k}`)})).then(d=>
{q(d)})}function q(d){function k(u,O,Q){u[O]=Q(u[O])}a._pe=d;a.PeDefs.init();a.PeGTlistExtended.init();a.PeNotationMgrs.init();a.PeNotationUtm.init();a.PePCSInfo.init();a.PeGCSExtent=function(u){function O(){return u.apply(this,arguments)||this}E._inheritsLoose(O,u);O.prototype.destroy=function(){a._pe.destroy(this)};return O}(a._pe.PeGCSExtent);d=[a._pe.PeDatum,a._pe.PeGeogcs,a._pe.PeGeogtran,a._pe.PeObject,a._pe.PeParameter,a._pe.PePrimem,a._pe.PeProjcs,a._pe.PeSpheroid,a._pe.PeUnit];for(var G of d)k(G.prototype,
"getName",u=>function(){return u.call(this,Array(a.PeDefs.PE_NAME_MAX))});for(const u of[a._pe.PeGeogtran,a._pe.PeProjcs])k(u.prototype,"getParameters",O=>function(){const Q=Array(a.PeDefs.PE_PARM_MAX);let J=O.call(this);for(let B=0;B<Q.length;B++){const m=a._pe.getValue(J,"*");Q[B]=m?a._pe.wrapPointer(m,a._pe.PeParameter):null;J+=Int32Array.BYTES_PER_ELEMENT}return Q});k(a._pe.PeHorizon.prototype,"getCoord",u=>function(){const O=this.getSize();if(!O)return null;const Q=[],J=u.call(this);N(Q,O,J);
return Q});k(a._pe.PeGTlistExtendedEntry.prototype,"getEntries",u=>{const O=a._pe._pe_getPeGTlistExtendedGTsSize();return function(){let Q=null;var J=u.call(this);if(!a._pe.compare(J,a._pe.NULL)){Q=[J];const B=this.getSteps();if(1<B){J=a._pe.getPointer(J);for(let m=1;m<B;m++)Q.push(a._pe.wrapPointer(J+O*m,a._pe.PeGTlistExtendedGTs))}}return Q}});const P=a._pe._pe_getPeHorizonSize();G=u=>function(){let O=this._cache;O||(this._cache=O=new Map);if(O.has(u))return O.get(u);let Q=null;var J=u.call(this);
if(!a._pe.compare(J,a._pe.NULL)){Q=[J];const B=J.getNump();if(1<B){J=a._pe.getPointer(J);for(let m=1;m<B;m++)Q.push(a._pe.wrapPointer(J+P*m,a._pe.PeHorizon))}}O.set(u,Q);return Q};k(a._pe.PeProjcs.prototype,"horizonGcsGenerate",G);k(a._pe.PeProjcs.prototype,"horizonPcsGenerate",G);a._pe.PeObject.prototype.toString=function(u=a.PeDefs.PE_STR_OPTS_NONE){a._pe.ensureCache.prepare();const O=a._pe.getPointer(this),Q=a._pe.ensureInt8(Array(a.PeDefs.PE_BUFFER_MAX));return a._pe.UTF8ToString(a._pe._pe_object_to_string_ext(O,
u,Q))}}function t(d){if(d){var k=a._pe.getClass(d);k&&(k=a._pe.getCache(k))&&(d=a._pe.getPointer(d))&&delete k[d]}}function z(d,k){const G=[];k=Array(k);for(let P=0;P<d;P++)G.push(a._pe.ensureInt8(k));return G}function K(d){let k;Array.isArray(d[0])?(k=[],d.forEach(G=>{k.push(G[0],G[1])})):k=d;return k}function N(d,k,G,P=!1){if(P)for(P=0;P<2*k;P++)d[P]=a._pe.getValue(G+P*Float64Array.BYTES_PER_ELEMENT,"double");else{P=0===d.length;for(let u=0;u<k;u++)P&&(d[u]=Array(2)),d[u][0]=a._pe.getValue(G,"double"),
d[u][1]=a._pe.getValue(G+Float64Array.BYTES_PER_ELEMENT,"double"),G+=2*Float64Array.BYTES_PER_ELEMENT}}let h;a._pe=null;a.PeCSTransformations=void 0;(function(d){function k(u,O,Q){a._pe.ensureCache.prepare();var J=K(Q);const B=Q===J;J=a._pe.ensureFloat64(J);(u=a._pe._pe_geog_to_proj(a._pe.getPointer(u),O,J))&&N(Q,O,J,B);return u}function G(u,O,Q){return P(u,O,Q,0)}function P(u,O,Q,J){a._pe.ensureCache.prepare();var B=K(Q);const m=Q===B;B=a._pe.ensureFloat64(B);(u=a._pe._pe_proj_to_geog_center(a._pe.getPointer(u),
O,B,J))&&N(Q,O,B,m);return u}d.geogToProj=k;d.projGeog=function(u,O,Q,J){switch(J){case a.PeDefs.PE_TRANSFORM_P_TO_G:return G(u,O,Q);case a.PeDefs.PE_TRANSFORM_G_TO_P:return k(u,O,Q)}return 0};d.projToGeog=G;d.projToGeogCenter=P})(a.PeCSTransformations||(a.PeCSTransformations={}));a.PeDefs=void 0;(function(d){d.init=function(){d.PE_BUFFER_MAX=a._pe.PeDefs.prototype.PE_BUFFER_MAX;d.PE_NAME_MAX=a._pe.PeDefs.prototype.PE_NAME_MAX;d.PE_MGRS_MAX=a._pe.PeDefs.prototype.PE_MGRS_MAX;d.PE_USNG_MAX=a._pe.PeDefs.prototype.PE_USNG_MAX;
d.PE_DD_MAX=a._pe.PeDefs.prototype.PE_DD_MAX;d.PE_DDM_MAX=a._pe.PeDefs.prototype.PE_DDM_MAX;d.PE_DMS_MAX=a._pe.PeDefs.prototype.PE_DMS_MAX;d.PE_UTM_MAX=a._pe.PeDefs.prototype.PE_UTM_MAX;d.PE_PARM_MAX=a._pe.PeDefs.prototype.PE_PARM_MAX;d.PE_TYPE_NONE=a._pe.PeDefs.prototype.PE_TYPE_NONE;d.PE_TYPE_GEOGCS=a._pe.PeDefs.prototype.PE_TYPE_GEOGCS;d.PE_TYPE_PROJCS=a._pe.PeDefs.prototype.PE_TYPE_PROJCS;d.PE_TYPE_GEOGTRAN=a._pe.PeDefs.prototype.PE_TYPE_GEOGTRAN;d.PE_TYPE_COORDSYS=a._pe.PeDefs.prototype.PE_TYPE_COORDSYS;
d.PE_TYPE_UNIT=a._pe.PeDefs.prototype.PE_TYPE_UNIT;d.PE_TYPE_LINUNIT=a._pe.PeDefs.prototype.PE_TYPE_LINUNIT;d.PE_STR_OPTS_NONE=a._pe.PeDefs.prototype.PE_STR_OPTS_NONE;d.PE_STR_AUTH_NONE=a._pe.PeDefs.prototype.PE_STR_AUTH_NONE;d.PE_STR_AUTH_TOP=a._pe.PeDefs.prototype.PE_STR_AUTH_TOP;d.PE_STR_NAME_CANON=a._pe.PeDefs.prototype.PE_STR_NAME_CANON;d.PE_PARM_X0=a._pe.PeDefs.prototype.PE_PARM_X0;d.PE_PARM_ND=a._pe.PeDefs.prototype.PE_PARM_ND;d.PE_TRANSFORM_1_TO_2=a._pe.PeDefs.prototype.PE_TRANSFORM_1_TO_2;
d.PE_TRANSFORM_2_TO_1=a._pe.PeDefs.prototype.PE_TRANSFORM_2_TO_1;d.PE_TRANSFORM_P_TO_G=a._pe.PeDefs.prototype.PE_TRANSFORM_P_TO_G;d.PE_TRANSFORM_G_TO_P=a._pe.PeDefs.prototype.PE_TRANSFORM_G_TO_P;d.PE_HORIZON_RECT=a._pe.PeDefs.prototype.PE_HORIZON_RECT;d.PE_HORIZON_POLY=a._pe.PeDefs.prototype.PE_HORIZON_POLY;d.PE_HORIZON_LINE=a._pe.PeDefs.prototype.PE_HORIZON_LINE;d.PE_HORIZON_DELTA=a._pe.PeDefs.prototype.PE_HORIZON_DELTA}})(a.PeDefs||(a.PeDefs={}));a.PeFactory=void 0;(function(d){function k(O,Q){let J=
null,B=G[O];B||(B={},G[O]=B);B.hasOwnProperty(String(Q))?J=B[Q]:(O=a._pe.PeFactory.prototype.factoryByType(O,Q),a._pe.compare(O,a._pe.NULL)||(J=O,B[Q]=J));return J=u(J)}const G={},P={},u=O=>{if(O){const Q=O.getType();switch(Q){case a.PeDefs.PE_TYPE_GEOGCS:O=a._pe.castObject(O,a._pe.PeGeogcs);break;case a.PeDefs.PE_TYPE_PROJCS:O=a._pe.castObject(O,a._pe.PeProjcs);break;case a.PeDefs.PE_TYPE_GEOGTRAN:O=a._pe.castObject(O,a._pe.PeGeogtran);break;default:Q&a.PeDefs.PE_TYPE_UNIT&&(O=a._pe.castObject(O,
a._pe.PeUnit))}}return O};d.initialize=function(){a._pe.PeFactory.prototype.initialize(null)};d.coordsys=function(O){return k(a.PeDefs.PE_TYPE_COORDSYS,O)};d.factoryByType=k;d.fromString=function(O,Q){let J=null,B=P[O];B||(B={},P[O]=B);B.hasOwnProperty(Q)?J=B[Q]:(O=a._pe.PeFactory.prototype.fromString(O,Q),a._pe.compare(O,a._pe.NULL)||(J=O,B[Q]=J));return J=u(J)};d.geogcs=function(O){return k(a.PeDefs.PE_TYPE_GEOGCS,O)};d.geogtran=function(O){return k(a.PeDefs.PE_TYPE_GEOGTRAN,O)};d.getCode=function(O){return a._pe.PeFactory.prototype.getCode(O)};
d.projcs=function(O){return k(a.PeDefs.PE_TYPE_PROJCS,O)};d.unit=function(O){return k(a.PeDefs.PE_TYPE_UNIT,O)}})(a.PeFactory||(a.PeFactory={}));a.PeGCSExtent=null;a.PeGTlistExtended=void 0;(function(d){let k;d.init=function(){d.PE_GTLIST_OPTS_COMMON=a._pe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON;k=a._pe._pe_getPeGTlistExtendedEntrySize()};d.getGTlist=function(G,P,u,O,Q,J){let B=null;const m=new a._pe.PeInteger(J);try{const y=a._pe.PeGTlistExtended.prototype.getGTlist(G,P,u,O,Q,m);if(J=m.val)if(B=
[y],1<J){const b=a._pe.getPointer(y);for(G=1;G<J;G++)B.push(a._pe.wrapPointer(b+k*G,a._pe.PeGTlistExtendedEntry))}}finally{a._pe.destroy(m)}return B}})(a.PeGTlistExtended||(a.PeGTlistExtended={}));a.PeGTlistExtendedEntry=void 0;(function(d){d.destroy=function(k){if(k&&k.length){for(const G of k)t(G),G.getEntries().forEach(P=>{t(P);P=P.getGeogtran();t(P);P.getParameters().forEach(t);[P.getGeogcs1(),P.getGeogcs2()].forEach(u=>{t(u);const O=u.getDatum();t(O);t(O.getSpheroid());t(u.getPrimem());t(u.getUnit())})});
a._pe.PeGTlistExtendedEntry.prototype.Delete(k[0])}}})(a.PeGTlistExtendedEntry||(a.PeGTlistExtendedEntry={}));a.PeGTTransformations=void 0;(function(d){d.geogToGeog=function(k,G,P,u,O){a._pe.ensureCache.prepare();var Q=K(P);const J=P===Q;Q=a._pe.ensureFloat64(Q);let B=0;u&&(B=a._pe.ensureFloat64(u));(k=a._pe._pe_geog_to_geog(a._pe.getPointer(k),G,Q,B,O))&&N(P,G,Q,J);return k}})(a.PeGTTransformations||(a.PeGTTransformations={}));a.PeNotationDms=void 0;(function(d){const k=(P,u,O,Q,J,B)=>{a._pe.ensureCache.prepare();
switch(P){case "dd":var m=a._pe._pe_geog_to_dd;var y=a.PeDefs.PE_DD_MAX;break;case "ddm":m=a._pe._pe_geog_to_ddm;y=a.PeDefs.PE_DDM_MAX;break;case "dms":m=a._pe._pe_geog_to_dms,y=a.PeDefs.PE_DMS_MAX}P=0;u&&(P=a._pe.getPointer(u));u=K(Q);u=a._pe.ensureFloat64(u);y=z(O,y);Q=a._pe.ensureInt32(y);if(J=m(P,O,u,J,Q))for(m=0;m<O;m++)B[m]=a._pe.UTF8ToString(y[m]);return J},G=(P,u,O,Q,J)=>{a._pe.ensureCache.prepare();switch(P){case "dd":var B=a._pe._pe_dd_to_geog;break;case "ddm":B=a._pe._pe_ddm_to_geog;break;
case "dms":B=a._pe._pe_dms_to_geog}P=0;u&&(P=a._pe.getPointer(u));u=Q.map(m=>a._pe.ensureString(m));Q=a._pe.ensureInt32(u);u=a._pe.ensureFloat64(Array(2*O));(B=B(P,O,Q,u))&&N(J,O,u);return B};d.geogToDms=function(P,u,O,Q,J){return k("dms",P,u,O,Q,J)};d.dmsToGeog=function(P,u,O,Q){return G("dms",P,u,O,Q)};d.geogToDdm=function(P,u,O,Q,J){return k("ddm",P,u,O,Q,J)};d.ddmToGeog=function(P,u,O,Q){return G("ddm",P,u,O,Q)};d.geogToDd=function(P,u,O,Q,J){return k("dd",P,u,O,Q,J)};d.ddToGeog=function(P,u,
O,Q){return G("dd",P,u,O,Q)}})(a.PeNotationDms||(a.PeNotationDms={}));a.PeNotationMgrs=void 0;(function(d){d.init=function(){d.PE_MGRS_STYLE_NEW=a._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW;d.PE_MGRS_STYLE_OLD=a._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD;d.PE_MGRS_STYLE_AUTO=a._pe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO;d.PE_MGRS_180_ZONE_1_PLUS=a._pe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS;d.PE_MGRS_ADD_SPACES=a._pe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES};d.geogToMgrsExtended=
function(k,G,P,u,O,Q,J){a._pe.ensureCache.prepare();let B=0;k&&(B=a._pe.getPointer(k));k=K(P);P=a._pe.ensureFloat64(k);k=z(G,a.PeDefs.PE_MGRS_MAX);const m=a._pe.ensureInt32(k);if(u=a._pe._pe_geog_to_mgrs_extended(B,G,P,u,O,Q,m))for(O=0;O<G;O++)J[O]=a._pe.UTF8ToString(k[O]);return u};d.mgrsToGeogExtended=function(k,G,P,u,O){a._pe.ensureCache.prepare();let Q=0;k&&(Q=a._pe.getPointer(k));k=P.map(J=>a._pe.ensureString(J));P=a._pe.ensureInt32(k);k=a._pe.ensureFloat64(Array(2*G));(u=a._pe._pe_mgrs_to_geog_extended(Q,
G,P,u,k))&&N(O,G,k);return u}})(a.PeNotationMgrs||(a.PeNotationMgrs={}));a.PeNotationUsng=void 0;(function(d){d.geogToUsng=function(k,G,P,u,O,Q,J){a._pe.ensureCache.prepare();let B=0;k&&(B=a._pe.getPointer(k));k=K(P);P=a._pe.ensureFloat64(k);k=z(G,a.PeDefs.PE_MGRS_MAX);const m=a._pe.ensureInt32(k);if(u=a._pe._pe_geog_to_usng(B,G,P,u,O,Q,m))for(O=0;O<G;O++)J[O]=a._pe.UTF8ToString(k[O]);return u};d.usngToGeog=function(k,G,P,u){a._pe.ensureCache.prepare();var O=0;k&&(O=a._pe.getPointer(k));k=P.map(Q=>
a._pe.ensureString(Q));P=a._pe.ensureInt32(k);k=a._pe.ensureFloat64(Array(2*G));(O=a._pe._pe_usng_to_geog(O,G,P,k))&&N(u,G,k);return O}})(a.PeNotationUsng||(a.PeNotationUsng={}));a.PeNotationUtm=void 0;(function(d){d.init=function(){d.PE_UTM_OPTS_NONE=a._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE;d.PE_UTM_OPTS_ADD_SPACES=a._pe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES;d.PE_UTM_OPTS_NS=a._pe.PeNotationUtm.prototype.PE_UTM_OPTS_NS};d.geogToUtm=function(k,G,P,u,O){a._pe.ensureCache.prepare();var Q=
0;k&&(Q=a._pe.getPointer(k));k=K(P);P=a._pe.ensureFloat64(k);k=z(G,a.PeDefs.PE_UTM_MAX);const J=a._pe.ensureInt32(k);if(u=a._pe._pe_geog_to_utm(Q,G,P,u,J))for(Q=0;Q<G;Q++)O[Q]=a._pe.UTF8ToString(k[Q]);return u};d.utmToGeog=function(k,G,P,u,O){a._pe.ensureCache.prepare();let Q=0;k&&(Q=a._pe.getPointer(k));k=P.map(J=>a._pe.ensureString(J));P=a._pe.ensureInt32(k);k=a._pe.ensureFloat64(Array(2*G));(u=a._pe._pe_utm_to_geog(Q,G,P,u,k))&&N(O,G,k);return u}})(a.PeNotationUtm||(a.PeNotationUtm={}));a.PePCSInfo=
void 0;(function(d){const k=new Map;d.init=function(){d.PE_PCSINFO_OPTION_NONE=a._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE;d.PE_PCSINFO_OPTION_DOMAIN=a._pe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN;d.PE_POLE_OUTSIDE_BOUNDARY=a._pe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY;d.PE_POLE_POINT=a._pe.PePCSInfo.prototype.PE_POLE_POINT};d.generate=function(G,P=d.PE_PCSINFO_OPTION_DOMAIN){let u,O;k.has(G)&&(O=k.get(G),O[P]&&(u=O[P]));u||(u=a._pe.PePCSInfo.prototype.generate(G,P),O||(O=[],k.set(G,
O)),O[P]=u);return u}})(a.PePCSInfo||(a.PePCSInfo={}));a.PeVersion=void 0;(function(d){d.versionString=function(){return a._pe.PeVersion.prototype.version_string()}})(a.PeVersion||(a.PeVersion={}));const F=Object.freeze({__proto__:null,get _pe(){return a._pe},isLoaded:p,isSupported:w,load:v,get PeCSTransformations(){return a.PeCSTransformations},get PeDefs(){return a.PeDefs},get PeFactory(){return a.PeFactory},get PeGCSExtent(){return a.PeGCSExtent},get PeGTlistExtended(){return a.PeGTlistExtended},
get PeGTlistExtendedEntry(){return a.PeGTlistExtendedEntry},get PeGTTransformations(){return a.PeGTTransformations},get PeNotationDms(){return a.PeNotationDms},get PeNotationMgrs(){return a.PeNotationMgrs},get PeNotationUsng(){return a.PeNotationUsng},get PeNotationUtm(){return a.PeNotationUtm},get PePCSInfo(){return a.PePCSInfo},get PeVersion(){return a.PeVersion},_init:q});a._init=q;a.isLoaded=p;a.isSupported=w;a.load=v;a.pe=F})},"esri/geometry/support/geodesicConstants":function(){define(["exports",
"./Ellipsoid"],function(c,a){const E=Math.PI/180;var M=a.earth.radius;const n=a.earth.eccentricitySquared;M={a1:M*n,a2:M*n*M*n,a3:M*n*n/2,a4:M*n*M*n*2.5,a5:M*n+M*n*n/2,a6:1-n};a={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:a.earth.radius,f:a.earth.flattening},104900:{a:2439700,f:0},104901:{a:6051E3,f:0},104902:{a:6051800,f:0},104903:{a:a.moon.radius,f:a.moon.flattening},104904:{a:3393400,f:.005207166853303471},104905:{a:a.mars.radius,f:a.mars.flattening},104906:{a:6200,
f:0},104907:{a:11100,f:0},104908:{a:71492E3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1E4,f:0},104912:{a:2409300,f:0},104913:{a:15E3,f:0},104914:{a:4E4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85E3,f:0},104918:{a:1821460,f:0},104919:{a:5E3,f:0},104920:{a:12E3,f:0},104921:{a:3E4,f:3},104922:{a:18E3,f:0},104923:{a:14E3,f:0},104924:{a:49300,f:0},104925:{a:60268E3,f:.09796243445941462},104926:{a:16E3,f:0},104927:{a:9500,f:0},104928:{a:56E4,f:0},104929:{a:249400,
f:0},104930:{a:59500,f:0},104931:{a:16E3,f:0},104932:{a:133E3,f:0},104933:{a:718E3,f:0},104934:{a:888E3,f:0},104935:{a:1986300,f:0},104936:{a:1E4,f:0},104937:{a:41900,f:0},104938:{a:11E4,f:0},104939:{a:50100,f:0},104940:{a:764E3,f:0},104941:{a:11E3,f:0},104942:{a:529800,f:0},104943:{a:2575E3,f:0},104944:{a:25559E3,f:.022927344575296365},104945:{a:578900,f:0},104946:{a:33E3,f:0},104947:{a:21E3,f:0},104948:{a:13E3,f:0},104949:{a:31E3,f:0},104950:{a:27E3,f:0},104951:{a:42E3,f:0},104952:{a:235800,f:0},
104953:{a:761400,f:0},104954:{a:15E3,f:0},104955:{a:54E3,f:0},104956:{a:77E3,f:0},104957:{a:27E3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764E3,f:.01708124697141011},104961:{a:74E3,f:0},104962:{a:79E3,f:0},104963:{a:104E3,f:.14423076923076922},104964:{a:29E3,f:0},104965:{a:17E4,f:0},104966:{a:208E3,f:0},104967:{a:4E4,f:0},104968:{a:1352600,f:0},104969:{a:1195E3,f:0},104970:{a:593E3,f:0},104971:{a:a.mars.radius,f:0},104972:{a:47E4,f:0},104973:{a:255E3,f:0},104974:{a:2439400,f:0}};
c.WKT_SPHEROID_REGEX=/SPHEROID\[([^\]]+)]/i;c.earthEllipsoidConstants=M;c.spheroids=a;c.toRadians=E;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/support/GeographicTransformation":function(){define(["./GeographicTransformationStep"],function(c){return function(){function a(M){this.steps=[];this._cached_projection={};this._chain="";this._gtlistentry=null;if(M&&M.steps)for(const n of M.steps)n instanceof c?this.steps.push(n):this.steps.push(new c({wkid:n.wkid,wkt:n.wkt,isInverse:n.isInverse}))}
a.cacheKey=function(M,n){return[void 0!==M.wkid&&null!==M.wkid?M.wkid.toString():"-1",void 0!==M.wkt&&null!==M.wkt?M.wkt.toString():"",void 0!==n.wkid&&null!==n.wkid?n.wkid.toString():"-1",void 0!==n.wkt&&null!==n.wkt?n.wkt.toString():""].join()};a.fromGE=function(M){const n=new a;let p="";for(const w of M.steps)M=c.fromGE(w),n.steps.push(M),p+=M.uid.toString()+",";n._cached_projection={};n._gtlistentry=null;n._chain=p;return n};var E=a.prototype;E.getInverse=function(){const M=new a;M.steps=[];for(let n=
this.steps.length-1;0<=n;n--)M.steps.push(this.steps[n].getInverse());return M};E.getGTListEntry=function(){let M="";for(const n of this.steps)M+=n.uid.toString()+",";M!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=M);return this._gtlistentry};E.assignCachedGe=function(M,n,p){this._cached_projection[a.cacheKey(M,n)]=p};E.getCachedGeTransformation=function(M,n){let p="";for(const w of this.steps)p+=w.uid.toString()+",";p!==this._chain&&(this._gtlistentry=null,this._cached_projection=
{},this._chain=p);M=this._cached_projection[a.cacheKey(M,n)];return void 0===M?null:M};return a}()})},"esri/geometry/support/GeographicTransformationStep":function(){define(["../../chunks/_rollupPluginBabelHelpers"],function(c){let a=0;return function(){function E(M=null){this.uid=a++;M?(this._wkt=void 0!==M.wkt?M.wkt:null,this._wkid=void 0!==M.wkid?M.wkid:-1,this._isInverse=void 0!==M.isInverse?!0===M.isInverse:!1):(this._wkt=null,this._wkid=-1,this._isInverse=!1)}E.fromGE=function(M){const n=new E;
n._wkt=M.wkt;n._wkid=M.wkid;n._isInverse=M.isInverse;return n};E.prototype.getInverse=function(){const M=new E;M._wkt=this.wkt;M._wkid=this._wkid;M._isInverse=!this.isInverse;return M};c._createClass(E,[{key:"wkt",get:function(){return this._wkt},set:function(M){this._wkt=M;this.uid=a++}},{key:"wkid",get:function(){return this._wkid},set:function(M){this._wkid=M;this.uid=a++}},{key:"isInverse",get:function(){return this._isInverse},set:function(M){this._isInverse=M;this.uid=a++}}]);return E}()})},
"esri/geometry/support/zscale":function(){define(["exports","../../core/maybe","../../core/unitUtils","./spatialReferenceUtils"],function(c,a,E,M){c.getGeometryZScaler=function(n,p,w){if(a.isNone(p)||a.isNone(w)||w.vcsWkid||M.equals(p,w))return null;p=E.getMetersPerVerticalUnitForSR(p);w=E.getMetersPerVerticalUnitForSR(w);const v=p/w;if(1===v)return null;switch(n){case "point":case "esriGeometryPoint":return q=>{q&&null!=q.z&&(q.z*=v)};case "polyline":case "esriGeometryPolyline":return q=>{if(q)for(const t of q.paths)for(const z of t)2<
z.length&&(z[2]*=v)};case "polygon":case "esriGeometryPolygon":return q=>{if(q)for(const t of q.rings)for(const z of t)2<z.length&&(z[2]*=v)};case "multipoint":case "esriGeometryMultipoint":return q=>{if(q)for(const t of q.points)2<t.length&&(t[2]*=v)};case "extent":case "esriGeometryExtent":return q=>{q&&null!=q.zmin&&null!=q.zmax&&(q.zmin*=v,q.zmax*=v)};default:return null}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/geometry/geometryAdapters/json":function(){define(["exports"],function(c){let a=
function(w,v,q){this.x=w;this.y=v;this.spatialReference=q;this.m=this.z=void 0},E=function(w,v,q,t){this.rings=w;this.spatialReference=v;this.hasM=this.hasZ=void 0;q&&(this.hasZ=q);t&&(this.hasM=t)},M=function(w,v,q,t){this.paths=w;this.spatialReference=v;this.hasM=this.hasZ=void 0;q&&(this.hasZ=q);t&&(this.hasM=t)},n=function(w,v,q,t){this.points=w;this.spatialReference=v;this.hasM=this.hasZ=void 0;q&&(this.hasZ=q);t&&(this.hasM=t)},p=function(w,v,q,t,z){this.xmin=w;this.ymin=v;this.xmax=q;this.ymax=
t;this.spatialReference=z;this.mmax=this.mmin=this.zmax=this.zmin=void 0};c.jsonAdapter={convertToGEGeometry:function(w,v){return null==v?null:w.convertJSONToGeometry(v)},exportPoint:function(w,v,q){q=new a(w.getPointX(v),w.getPointY(v),q);const t=w.hasZ(v),z=w.hasM(v);t&&(q.z=w.getPointZ(v));z&&(q.m=w.getPointM(v));return q},exportPolygon:function(w,v,q){return new E(w.exportPaths(v),q,w.hasZ(v),w.hasM(v))},exportPolyline:function(w,v,q){return new M(w.exportPaths(v),q,w.hasZ(v),w.hasM(v))},exportMultipoint:function(w,
v,q){return new n(w.exportPoints(v),q,w.hasZ(v),w.hasM(v))},exportExtent:function(w,v,q){var t=w.hasZ(v);const z=w.hasM(v);q=new p(w.getXMin(v),w.getYMin(v),w.getXMax(v),w.getYMax(v),q);t&&(t=w.getZExtent(v),q.zmin=t.vmin,q.zmax=t.vmax);z&&(w=w.getMExtent(v),q.mmin=w.vmin,q.mmax=w.vmax);return q}};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/data/QueryEngineCapabilities":function(){define(["exports"],function(c){c.queryCapabilities={supportsStatistics:!0,supportsPercentileStatistics:!0,
supportsSpatialAggregationStatistics:!1,supportedSpatialAggregationStatistics:{envelope:!1,centroid:!1,convexHull:!1},supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,
supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,supportsDefaultSpatialReference:!1,supportsCompactGeometry:!1,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/data/QueryEngineResult":function(){define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/maybe ../../../geometry/support/centroid ../../../geometry/support/extentUtils ../../../geometry/support/quantizationUtils ../../../geometry/support/spatialReferenceUtils ../featureConversionUtils ./AttributesBuilder ./attributeSupport ./projectionSupport ./timeSupport ./utils ../../support/fieldUtils ../../../statistics/utils ../../../support/arcadeOnDemand".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h,F,d,k){function G(O,Q,J,B,m,y){m-=J;y-=B;O=Math.min(1,Math.max(0,((O-J)*m+(Q-B)*y)/(m*m+y*y)));return{x:J+m*O,y:B+y*O}}function P(O,Q){return O?Q?4:3:Q?3:2}let u=function(){function O(J,B,m){this.items=J;this.queryGeometry=B;this.definitionExpression=m.definitionExpression;this.geometryType=m.geometryType;this.hasM=m.hasM;this.hasZ=m.hasZ;this.objectIdField=m.objectIdField;this.spatialReference=m.spatialReference;this.fieldsIndex=m.fieldsIndex;this.timeInfo=m.timeInfo;
this.featureAdapter=m.featureAdapter;this.aggregateAdapter=m.aggregateAdapter}var Q=O.prototype;Q.createQueryResponseForCount=function(J){const B=new t(J,this.featureAdapter,this.fieldsIndex);if(!J.outStatistics)return B.countDistinctValues(this.items);const {groupByFieldsForStatistics:m,having:y}=J;if(null==m||!m.length)return 1;const b=new Map,l=new Map,H=new Set;J=J.outStatistics;for(const L of J){({statisticType:J}=L);J="exceedslimit"!==J?L.onStatisticField:void 0;if(!l.has(J)){var S=[];for(const D of m){const f=
this._getAttributeValues(B,D,b);S.push(f)}l.set(J,this._calculateUniqueValues(S,B.returnDistinctValues))}J=l.get(J);for(const D in J){const {data:f,items:x}=J[D];S=f.join(",");y&&!B.validateItems(x,y)||H.add(S)}}return H.size};Q.createQueryResponse=function(){var J=E._asyncToGenerator(function*(B){let m;m=B.outStatistics?B.outStatistics.some(y=>"exceedslimit"===y.statisticType)?this._createExceedsLimitQueryResponse(B):yield this._createStatisticsQueryResponse(B):this._createFeatureQueryResponse(B);
B.returnQueryGeometry&&(v.isValid(B.outSR)&&!v.equals(this.queryGeometry.spatialReference,B.outSR)?m.queryGeometry=h.cleanFromGeometryEngine({spatialReference:B.outSR,...K.project(this.queryGeometry,this.queryGeometry.spatialReference,B.outSR)}):m.queryGeometry=h.cleanFromGeometryEngine({spatialReference:B.outSR,...this.queryGeometry}));return m});return function(B){return J.apply(this,arguments)}}();Q.createSnappingResponse=function(J,B){const m=this.featureAdapter,y=P(this.hasZ,this.hasM),{x:b,
y:l}=J.point,H="number"===typeof J.distance?J.distance:J.distance.x,S="number"===typeof J.distance?J.distance:J.distance.y,L={candidates:[]},D="esriGeometryPolygon"===this.geometryType;B=this._getPointCreator(J.point,this.spatialReference,B);for(const la of this.items){var f=m.getGeometry(la);if(M.isNone(f))continue;const {coords:pa,lengths:va}=f;if(J.types&a.SnappingTypes.EDGE){f=0;for(var x=0;x<va.length;x++){var V=va[x];for(var Z=0;Z<V;Z++,f+=y){var ja=pa[f],oa=pa[f+1];if(Z!==V-1){const Ba=pa[f+
y],Ka=pa[f+y+1],{x:Ta,y:Oa}=G(b,l,ja,oa,Ba,Ka);var ma=(b-Ta)/H;const Sa=(l-Oa)/S;ma=ma*ma+Sa*Sa;1>=ma&&L.candidates.push({type:"edge",objectId:m.getObjectId(la),distance:Math.sqrt(ma),target:B(Ta,Oa),start:B(ja,oa),end:B(Ba,Ka)})}}}}if(J.types&a.SnappingTypes.VERTEX)for(f=D?pa.length-y:pa.length,x=0;x<f;x+=y)V=pa[x],Z=pa[x+1],ja=(b-V)/H,oa=(l-Z)/S,ja=ja*ja+oa*oa,1>=ja&&L.candidates.push({type:"vertex",objectId:m.getObjectId(la),distance:Math.sqrt(ja),target:B(V,Z)})}L.candidates.sort((la,pa)=>la.distance-
pa.distance);return L};Q._getPointCreator=function(J,B,m){const y=M.isSome(m)&&!v.equals(B,m)?b=>K.project(b,B,m):b=>b;return null!=J.z&&null!=J.m?(b,l)=>y({x:b,y:l,z:J.z,m:J.m}):null!=J.z?(b,l)=>y({x:b,y:l,z:J.z}):null!=J.m?(b,l)=>y({x:b,y:l,m:J.m}):(b,l)=>y({x:b,y:l})};Q.executeAttributesQuery=function(J){var B=z.getWhereClause(J.where,this.fieldsIndex);if(!B)return Promise.resolve(this);if(B.isStandardized){let m=0;const y=[];for(const b of this.items)B.testFeature(b,this.featureAdapter)&&(y[m++]=
b);B=new O(y,this.queryGeometry,this);B.definitionExpression=J.where;return Promise.resolve(B)}return Promise.reject(new TypeError("Where clause is not standardized"))};Q.executeAggregateIdsQuery=function(J){if(!J.aggregateIds||!J.aggregateIds.length||M.isNone(this.aggregateAdapter))return Promise.resolve(this);const B=new Set;for(const y of J.aggregateIds)this.aggregateAdapter.getFeatureObjectIds(y).forEach(b=>B.add(b));const m=this.featureAdapter.getObjectId;return Promise.resolve(new O(this.items.filter(y=>
B.has(m(y))),this.queryGeometry,this))};Q.executeObjectIdsQuery=function(J){if(!J.objectIds||!J.objectIds.length)return Promise.resolve(this);const B=new Set(J.objectIds),m=this.featureAdapter.getObjectId;return Promise.resolve(new O(this.items.filter(y=>B.has(m(y))),this.queryGeometry,this))};Q.executeTimeQuery=function(J){J=N.getTimeOperator(this.timeInfo,J.timeExtent,this.featureAdapter);if(!M.isSome(J))return Promise.resolve(this);J=this.items.filter(J);return Promise.resolve(new O(J,this.queryGeometry,
this))};Q.filterLatest=function(){const {trackIdField:J,startTimeField:B,endTimeField:m}=this.timeInfo;var y=m||B;const b=new Map,l=this.featureAdapter.getAttribute;for(const H of this.items){const S=l(H,J),L=l(H,y),D=b.get(S);(!D||L>l(D,y))&&b.set(S,H)}y=Array.from(b.values());return Promise.resolve(new O(y,this.queryGeometry,this))};Q.project=function(){var J=E._asyncToGenerator(function*(B){if(!B||v.equals(this.spatialReference,B))return this;const m=this.featureAdapter,y=(yield K.projectMany(this.items.map(b=>
h.getGeometry(this.geometryType,this.hasZ,this.hasM,m.getGeometry(b))),this.spatialReference,B)).map((b,l)=>m.cloneWithGeometry(this.items[l],q.convertFromGeometry(b,this.hasZ,this.hasM)));return new O(y,this.queryGeometry,{definitionExpression:this.definitionExpression,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,objectIdField:this.objectIdField,spatialReference:B,fieldsIndex:this.fieldsIndex,timeInfo:this.timeInfo,featureAdapter:this.featureAdapter})});return function(B){return J.apply(this,
arguments)}}();Q.createSummaryStatisticsResponse=function(){var J=E._asyncToGenerator(function*(B,m){const {field:y,valueExpression:b,normalizationField:l,normalizationType:H,normalizationTotal:S,minValue:L,maxValue:D,scale:f}=m;m=this.fieldsIndex.isDateField(y);B=yield this._getDataValues(B,{field:y,valueExpression:b,normalizationField:l,normalizationType:H,normalizationTotal:S,scale:f});const x=d.isNullCountSupported({normalizationType:H,normalizationField:l,minValue:L,maxValue:D}),V=this.fieldsIndex.get(y),
Z={value:.5,fieldType:null==V?void 0:V.type};B=F.isStringField(V)?d.calculateStringStatistics({values:B,supportsNullCount:x,percentileParams:Z}):d.calculateStatistics({values:B,minValue:L,maxValue:D,useSampleStdDev:!H,supportsNullCount:x,percentileParams:Z});return d.processSummaryStatisticsResult(B,m)});return function(B,m){return J.apply(this,arguments)}}();Q.createUniqueValuesResponse=function(){var J=E._asyncToGenerator(function*(B,m){const {field:y,valueExpression:b,domain:l,returnAllCodedValues:H,
scale:S}=m;B=yield this._getDataValues(B,{field:y,valueExpression:b,scale:S});B=d.calculateUniqueValuesCount(B);return d.createUVResult(B,l,H)});return function(B,m){return J.apply(this,arguments)}}();Q.createClassBreaksResponse=function(){var J=E._asyncToGenerator(function*(B,m){const {field:y,valueExpression:b,normalizationField:l,normalizationType:H,normalizationTotal:S,classificationMethod:L,standardDeviationInterval:D,minValue:f,maxValue:x,numClasses:V,scale:Z}=m;B=yield this._getDataValues(B,
{field:y,valueExpression:b,normalizationField:l,normalizationType:H,normalizationTotal:S,scale:Z});B=d.calculateClassBreaks(B,{field:y,normalizationField:l,normalizationType:H,normalizationTotal:S,classificationMethod:L,standardDeviationInterval:D,minValue:f,maxValue:x,numClasses:V});return d.resolveCBResult(B,L)});return function(B,m){return J.apply(this,arguments)}}();Q.createHistogramResponse=function(){var J=E._asyncToGenerator(function*(B,m){const {field:y,valueExpression:b,normalizationField:l,
normalizationType:H,normalizationTotal:S,classificationMethod:L,standardDeviationInterval:D,minValue:f,maxValue:x,numBins:V,scale:Z}=m;B=yield this._getDataValues(B,{field:y,valueExpression:b,normalizationField:l,normalizationType:H,normalizationTotal:S,scale:Z});return d.calculateHistogram(B,{field:y,normalizationField:l,normalizationType:H,normalizationTotal:S,classificationMethod:L,standardDeviationInterval:D,minValue:f,maxValue:x,numBins:V})});return function(B,m){return J.apply(this,arguments)}}();
Q._sortFeatures=function(J,B,m){if(1<J.length&&B&&B.length)for(const y of B.reverse()){B=y.split(" ");const b=B[0],l=this.fieldsIndex.get(b);B=B[1]&&"desc"===B[1].toLowerCase();const H=d.getAttributeComparator(null==l?void 0:l.type,B);J.sort((S,L)=>{S=m(S,b,l);L=m(L,b,l);return H(S,L)})}};Q._createFeatureQueryResponse=function(J){const B=this.items,{geometryType:m,hasM:y,hasZ:b,objectIdField:l,spatialReference:H}=this,{outFields:S,outSR:L,quantizationParameters:D,resultRecordCount:f,resultOffset:x,
returnZ:V,returnM:Z}=J,ja=null!=f?B.length>(x||0)+f:!1,oa=S&&(S.includes("*")?[...this.fieldsIndex.fields]:S.map(ma=>this.fieldsIndex.get(ma)));return{exceededTransferLimit:ja,features:this._createFeatures(J,B),fields:oa,geometryType:m,hasM:y&&Z,hasZ:b&&V,objectIdFieldName:l,spatialReference:h.cleanFromGeometryEngine(L?L:H),transform:D&&w.toQuantizationTransform(D)||null}};Q._createFeatures=function(J,B){const m=new t(J,this.featureAdapter,this.fieldsIndex),{hasM:y,hasZ:b}=this,{orderByFields:l,quantizationParameters:H,
returnGeometry:S,returnCentroid:L,maxAllowableOffset:D,resultOffset:f,resultRecordCount:x,returnZ:V=!1,returnM:Z=!1}=J,ja=b&&V,oa=y&&Z;J=[];var ma=0;B=[...B];this._sortFeatures(B,l,(va,Ba,Ka)=>m.getFieldValue(va,Ba,Ka));if(S||L){var la=w.toQuantizationTransform(H);if(S&&!L)for(var pa of B)J[ma++]={attributes:m.getAttributes(pa),geometry:h.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(pa),D,la,ja,oa)};else if(!S&&L)for(const va of B)J[ma++]={attributes:m.getAttributes(va),
centroid:h.transformCentroid(this,this.featureAdapter.getCentroid(va,this),la)};else for(const va of B)J[ma++]={attributes:m.getAttributes(va),centroid:h.transformCentroid(this,this.featureAdapter.getCentroid(va,this),la),geometry:h.getGeometry(this.geometryType,this.hasZ,this.hasM,this.featureAdapter.getGeometry(va),D,la,ja,oa)}}else for(la of B)(pa=m.getAttributes(la))&&(J[ma++]={attributes:pa});ma=f||0;null!=x&&(J=J.slice(ma,Math.min(J.length,ma+x)));return J};Q._createExceedsLimitQueryResponse=
function(J){var B=!1;let m=Number.POSITIVE_INFINITY,y=Number.POSITIVE_INFINITY;B=Number.POSITIVE_INFINITY;for(const b of J.outStatistics)if("exceedslimit"===b.statisticType){m=null!=b.maxPointCount?b.maxPointCount:Number.POSITIVE_INFINITY;y=null!=b.maxRecordCount?b.maxRecordCount:Number.POSITIVE_INFINITY;B=null!=b.maxVertexCount?b.maxVertexCount:Number.POSITIVE_INFINITY;break}if("esriGeometryPoint"===this.geometryType)B=this.items.length>m;else if(this.items.length>y)B=!0;else{J=this.hasZ?this.hasM?
4:3:this.hasM?3:2;const b=this.featureAdapter;B=this.items.reduce((l,H)=>{H=b.getGeometry(H);return l+(M.isSome(H)&&H.coords.length||0)},0)/J>B}return{fields:[{name:"exceedslimit",type:"esriFieldTypeInteger",alias:"exceedslimit",sqlType:"sqlTypeInteger",domain:null,defaultValue:null}],features:[{attributes:{exceedslimit:Number(B)}}]}};Q._createStatisticsQueryResponse=function(){var J=E._asyncToGenerator(function*(B){var m={attributes:{}};const y=[],b=new Map,l=new Map,H=new Map,S=new Map,L=new t(B,
this.featureAdapter,this.fieldsIndex);var D=B.outStatistics;const {groupByFieldsForStatistics:f,having:x,orderByFields:V}=B;B=f&&f.length;const Z=!!B,ja=Z&&f[0],oa=Z&&!this.fieldsIndex.get(ja);for(const Ba of D){const {outStatisticFieldName:Ka,statisticType:Ta}=Ba;D=Ba;var ma="exceedslimit"!==Ta?Ba.onStatisticField:void 0;const Oa="percentile_disc"===Ta||"percentile_cont"===Ta,Sa="EnvelopeAggregate"===Ta||"CentroidAggregate"===Ta||"ConvexHullAggregate"===Ta,g=Z&&1===B&&(ma===ja||oa)&&"count"===Ta;
if(Z){if(!H.has(ma)){var la=[];for(const C of f){var pa=this._getAttributeValues(L,C,b);la.push(pa)}H.set(ma,this._calculateUniqueValues(la,L.returnDistinctValues))}la=H.get(ma);for(const C in la){const {count:fa,data:A,items:T,itemPositions:X}=la[C];pa=A.join(",");if(!x||L.validateItems(T,x)){const Y=S.get(pa)||{attributes:{}};if(Sa){Y.aggregateGeometries||(Y.aggregateGeometries={});const {aggregateGeometries:ha,outStatisticFieldName:ea}=yield this._getAggregateGeometry(D,T);Y.aggregateGeometries[ea]=
ha}else{var va=null;if(g)va=fa;else{const ha=this._getAttributeValues(L,ma,b);va=X.map(ea=>ha[ea]);va=Oa&&"statisticParameters"in D?this._getPercentileValue(D,va):this._getStatisticValue(D,va,null,L.returnDistinctValues)}Y.attributes[Ka]=va}f.forEach((ha,ea)=>Y.attributes[this.fieldsIndex.get(ha)?ha:`EXPR_${ea+1}`]=A[ea]);S.set(pa,Y)}}}else if(Sa){m.aggregateGeometries||(m.aggregateGeometries={});const {aggregateGeometries:C,outStatisticFieldName:fa}=yield this._getAggregateGeometry(D,this.items);
m.aggregateGeometries[fa]=C}else ma=this._getAttributeValues(L,ma,b),m.attributes[Ka]=Oa&&"statisticParameters"in D?this._getPercentileValue(D,ma):this._getStatisticValue(D,ma,l,L.returnDistinctValues);y.push({name:Ka,alias:Ka,type:"esriFieldTypeDouble"})}m=Z?Array.from(S.values()):[m];this._sortFeatures(m,V,(Ba,Ka)=>Ba.attributes[Ka]);return{fields:y,features:m}});return function(B){return J.apply(this,arguments)}}();Q._getAggregateGeometry=function(){var J=E._asyncToGenerator(function*(B,m){var y=
yield new Promise((V,Z)=>c(["../../../geometry/geometryEngineJSON"],V,Z));const {statisticType:b,outStatisticFieldName:l}=B,{featureAdapter:H,spatialReference:S,geometryType:L,hasZ:D,hasM:f}=this;m=m.map(V=>h.getGeometry(L,D,f,H.getGeometry(V)));const x=y.convexHull(S,m,!0)[0];B={aggregateGeometries:null,outStatisticFieldName:null};"EnvelopeAggregate"===b?(y=x?p.getPolygonExtent(x):p.getGeometryExtent(y.union(S,m)),B.aggregateGeometries={...y,spatialReference:S},B.outStatisticFieldName=l||"extent"):
"CentroidAggregate"===b?(y=x?n.polygonCentroid(x):n.extentCentroid(p.getGeometryExtent(y.union(S,m))),B.aggregateGeometries={x:y[0],y:y[1],spatialReference:S},B.outStatisticFieldName=l||"centroid"):"ConvexHullAggregate"===b&&(B.aggregateGeometries=x,B.outStatisticFieldName=l||"convexHull");return B});return function(B,m){return J.apply(this,arguments)}}();Q._getStatisticValue=function(J,B,m,y){const {onStatisticField:b,statisticType:l}=J;J=null;J=null!=m&&m.has(b)?m.get(b):F.isStringField(this.fieldsIndex.get(b))?
d.calculateStringStatistics({values:B,returnDistinct:y}):d.calculateStatistics({values:B,minValue:null,maxValue:null,useSampleStdDev:!0});m&&m.set(b,J);return J["var"===l?"variance":l]};Q._getPercentileValue=function(J,B){const {onStatisticField:m,statisticParameters:y,statisticType:b}=J,{value:l,orderBy:H}=y;J=this.fieldsIndex.get(m);return d.calculatePercentile(B,{value:l,orderBy:H,fieldType:null==J?void 0:J.type,isDiscrete:"percentile_disc"===b})};Q._getAttributeValues=function(J,B,m){if(m.has(B))return m.get(B);
const y=this.fieldsIndex.get(B),b=this.items.map(l=>J.getFieldValue(l,B,y));m.set(B,b);return b};Q._getAttributeNormalizedValues=function(J,B){return this.items.map(m=>J.getNormalizedValue(m,{field:B.field,fieldInfo:this.fieldsIndex.get(B.field),normalizationField:B.normalizationField,normalizationFieldInfo:this.fieldsIndex.get(B.normalizationField),normalizationType:B.normalizationType,normalizationTotal:B.normalizationTotal}))};Q._getAttributeExpressionValues=function(){var J=E._asyncToGenerator(function*(B,
m,y){const {arcadeUtils:b}=yield k.loadArcade(),l=b.createFunction(m),H=y&&b.getViewInfo(y);return this.items.map(S=>B.getExpressionValue(S,{compiledFunc:l,viewInfo:H},b))});return function(B,m,y){return J.apply(this,arguments)}}();Q._calculateUniqueValues=function(J,B){const m={},y=this.items,b=y.length;for(let l=0;l<b;l++){const H=y[l],S=[];for(const D of J)S.push(D[l]);const L=S.join(",");B?null==m[L]&&(m[L]={count:1,data:S,items:[H],itemPositions:[l]}):null==m[L]?m[L]={count:1,data:S,items:[H],
itemPositions:[l]}:(m[L].count++,m[L].items.push(H),m[L].itemPositions.push(l))}return m};Q._getDataValues=function(){var J=E._asyncToGenerator(function*(B,m){const y=new t(B,this.featureAdapter,this.fieldsIndex),{valueExpression:b,field:l,normalizationField:H,normalizationType:S,normalizationTotal:L,scale:D}=m;B=b?{viewingMode:"map",scale:D,spatialReference:B.outSR||this.spatialReference}:null;return b?this._getAttributeExpressionValues(y,b,B):this._getAttributeNormalizedValues(y,{field:l,normalizationField:H,
normalizationType:S,normalizationTotal:L})});return function(B,m){return J.apply(this,arguments)}}();E._createClass(O,[{key:"size",get:function(){return this.items.length}}]);return O}();a.SnappingTypes=void 0;(function(O){O[O.NONE=0]="NONE";O[O.EDGE=1]="EDGE";O[O.VERTEX=2]="VERTEX"})(a.SnappingTypes||(a.SnappingTypes={}));a.default=u;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/geometry/support/quantizationUtils":function(){define(["exports","../../core/maybe","./jsonUtils"],function(c,
a,E){function M({scale:b,translate:l},H){return Math.round((H-l[0])/b[0])}function n({scale:b,translate:l},H){return Math.round((l[1]-H)/b[1])}function p(b,l,H){const S=[];let L,D,f,x;for(let V=0;V<H.length;V++){const Z=H[V];if(0<V){if(f=M(b,Z[0]),x=n(b,Z[1]),f!==L||x!==D)S.push(l(Z,f-L,x-D)),L=f,D=x}else L=M(b,Z[0]),D=n(b,Z[1]),S.push(l(Z,L,D))}return 0<S.length?S:null}function w(b,l,H,S){return p(b,H?S?y:m:S?m:B,l)}function v(b,l,H,S){const L=[];H=H?S?y:m:S?m:B;for(S=0;S<l.length;S++){const D=p(b,
H,l[S]);D&&3<=D.length&&L.push(D)}return L.length?L:null}function q(b,l,H,S){const L=[];H=H?S?y:m:S?m:B;for(S=0;S<l.length;S++){const D=p(b,H,l[S]);D&&2<=D.length&&L.push(D)}return L.length?L:null}function t({scale:b,translate:l},H){return H*b[0]+l[0]}function z({scale:b,translate:l},H){return l[1]-H*b[1]}function K(b,l,H){const S=Array(H.length);if(!H.length)return S;const [L,D]=b.scale;let f=t(b,H[0][0]);b=z(b,H[0][1]);S[0]=l(H[0],f,b);for(let x=1;x<H.length;x++){const V=H[x];f+=V[0]*L;b-=V[1]*
D;S[x]=l(V,f,b)}return S}function N(b,l,H){const S=Array(H.length);for(let L=0;L<H.length;L++)S[L]=K(b,l,H[L]);return S}function h(b,l,H,S){return K(b,H?S?y:m:S?m:B,l)}function F(b,l,H,S){return N(b,H?S?y:m:S?m:B,l)}function d(b,l,H,S){return N(b,H?S?y:m:S?m:B,l)}function k(b,l,H){let [S,L]=H[0],D=Math.min(S,l[0]),f=Math.min(L,l[1]),x=Math.max(S,l[2]);l=Math.max(L,l[3]);for(let V=1;V<H.length;V++){const [Z,ja]=H[V];S+=Z;L+=ja;0>Z&&(D=Math.min(D,S));0<Z&&(x=Math.max(x,S));0>ja?f=Math.min(f,L):0<ja&&
(l=Math.max(l,L))}b[0]=D;b[1]=f;b[2]=x;b[3]=l;return b}function G(b,l){if(!l.length)return null;b[0]=b[1]=Number.POSITIVE_INFINITY;b[2]=b[3]=Number.NEGATIVE_INFINITY;for(let H=0;H<l.length;H++)k(b,b,l[H]);return b}function P(b,l,H,S,L){l.xmin=M(b,H.xmin);l.ymin=n(b,H.ymin);l.xmax=M(b,H.xmax);l.ymax=n(b,H.ymax);l!==H&&(S&&(l.zmin=H.zmin,l.zmax=H.zmax),L&&(l.mmin=H.mmin,l.mmax=H.mmax));return l}function u(b,l,H,S,L){l.points=w(b,H.points,S,L);return l}function O(b,l,H,S,L){l.x=M(b,H.x);l.y=n(b,H.y);
l!==H&&(S&&(l.z=H.z),L&&(l.m=H.m));return l}function Q(b,l,H,S,L){b=v(b,H.rings,S,L);if(!b)return null;l.rings=b;return l}function J(b,l,H,S,L){b=q(b,H.paths,S,L);if(!b)return null;l.paths=b;return l}const B=(b,l,H)=>[l,H],m=(b,l,H)=>[l,H,b[2]],y=(b,l,H)=>[l,H,b[2],b[3]];c.equals=function(b,l){if(b===l||null==b&&null==l)return!0;if(null==b||null==l)return!1;let H,S,L,D;b&&"upperLeft"===b.originPosition?(H=b.translate[0],S=b.translate[1],b=b.scale[0]):(H=a.isSome(b.extent)?b.extent.xmin:0,S=a.isSome(b.extent)?
b.extent.ymax:0,b=b.tolerance);l&&"upperLeft"===l.originPosition?(L=l.translate[0],D=l.translate[1],l=l.scale[0]):(L=a.isSome(l.extent)?l.extent.xmin:0,D=a.isSome(l.extent)?l.extent.ymax:0,l=l.tolerance);return H===L&&S===D&&b===l};c.getQuantizedBoundsCoordsArray=k;c.getQuantizedBoundsCoordsArrayArray=G;c.getQuantizedBoundsPaths=function(b){return G([0,0,0,0],b)};c.getQuantizedBoundsPoints=function(b){const l=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];
return k(l,l,b)};c.getQuantizedBoundsRings=function(b){return G([0,0,0,0],b)};c.quantizeBounds=function(b,l,H){l[0]=M(b,H[0]);l[3]=n(b,H[1]);l[2]=M(b,H[2]);l[1]=n(b,H[3]);return l};c.quantizeExtent=P;c.quantizeGeometry=function(b,l){return b&&l?E.isPoint(l)?O(b,{},l,!1,!1):E.isPolyline(l)?J(b,{},l,!1,!1):E.isPolygon(l)?Q(b,{},l,!1,!1):E.isMultipoint(l)?u(b,{},l,!1,!1):E.isExtent(l)?P(b,{},l,!1,!1):null:null};c.quantizeMultipoint=u;c.quantizePaths=q;c.quantizePoint=O;c.quantizePoints=w;c.quantizePolygon=
Q;c.quantizePolyline=J;c.quantizeRings=v;c.quantizeX=M;c.quantizeY=n;c.toQuantizationTransform=function(b){return b?{originPosition:"upper-left"===b.originPosition?"upperLeft":"lower-left"===b.originPosition?"lowerLeft":b.originPosition,scale:b.tolerance?[b.tolerance,b.tolerance]:[1,1],translate:a.isSome(b.extent)?[b.extent.xmin,b.extent.ymax]:[0,0]}:null};c.unquantizeBounds=function(b,l,H){return H?(l[0]=t(b,H[0]),l[1]=z(b,H[3]),l[2]=t(b,H[2]),l[3]=z(b,H[1]),l):[t(b,l[0]),z(b,l[3]),t(b,l[2]),z(b,
l[1])]};c.unquantizeCoordsArray=K;c.unquantizeCoordsArrayArray=N;c.unquantizeExtent=function(b,l,H,S,L){l.xmin=t(b,H.xmin);l.ymin=z(b,H.ymin);l.xmax=t(b,H.xmax);l.ymax=z(b,H.ymax);l!==H&&(S&&(l.zmin=H.zmin,l.zmax=H.zmax),L&&(l.mmin=H.mmin,l.mmax=H.mmax));return l};c.unquantizeMultipoint=function(b,l,H,S,L){a.isSome(H)&&(l.points=h(b,H.points,S,L));return l};c.unquantizePaths=F;c.unquantizePoint=function(b,l,H,S,L){if(a.isNone(H))return l;l.x=t(b,H.x);l.y=z(b,H.y);l!==H&&(S&&(l.z=H.z),L&&(l.m=H.m));
return l};c.unquantizePoints=h;c.unquantizePolygon=function(b,l,H,S,L){a.isSome(H)&&(l.rings=d(b,H.rings,S,L));return l};c.unquantizePolyline=function(b,l,H,S,L){a.isSome(H)&&(l.paths=F(b,H.paths,S,L));return l};c.unquantizeRings=d;c.unquantizeX=t;c.unquantizeY=z;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/data/AttributesBuilder":function(){define(["../../../core/maybe","./attributeSupport","../../../statistics/utils"],function(c,a,E){return function(){function M(p,w,
v){this._fieldDataCache=new Map;this._returnDistinctMap=new Map;this.returnDistinctValues=p.returnDistinctValues;this.fieldsIndex=v;this.featureAdapter=w;if((w=p.outFields)&&-1===w.indexOf("*")){this.outFields=w;p=0;for(const t of w){var q=a.getExpressionFromFieldName(t);q=(w=this.fieldsIndex.get(q))?null:a.getWhereClause(q,v);w=w?w.name:a.getAliasFromFieldName(t)||`FIELD_EXP_${p++}`;this._fieldDataCache.set(t,{alias:w,clause:q})}}}var n=M.prototype;n.countDistinctValues=function(p){if(!this.returnDistinctValues)return p.length;
p.forEach(w=>this.getAttributes(w));return this._returnDistinctMap.size};n.getAttributes=function(p){p=this._processAttributesForOutFields(p);return this._processAttributesForDistinctValues(p)};n.getFieldValue=function(p,w,v){const q=v?v.name:w;let t=null;this._fieldDataCache.has(q)?t=this._fieldDataCache.get(q).clause:v||(t=a.getWhereClause(w,this.fieldsIndex),this._fieldDataCache.set(q,{alias:q,clause:t}));return v?this.featureAdapter.getAttribute(p,q):t.calculateValue(p,this.featureAdapter)};n.getNormalizedValue=
function(p,w){const v=w.normalizationType,q=w.normalizationTotal;let t=this.getFieldValue(p,w.field,w.fieldInfo);v&&Number.isFinite(t)&&(p=this.getFieldValue(p,w.normalizationField,w.normalizationFieldInfo),t=E.getNormalizedValue(t,v,p,q));return t};n.getExpressionValue=function(p,w,v){p={attributes:this.featureAdapter.getAttributes(p)};p=v.createExecContext(p,w.viewInfo);return v.executeFunction(w.compiledFunc,p)};n.validateItem=function(p,w){this._fieldDataCache.has(w)||this._fieldDataCache.set(w,
{alias:w,clause:a.getWhereClause(w,this.fieldsIndex)});return this._fieldDataCache.get(w).clause.testFeature(p,this.featureAdapter)};n.validateItems=function(p,w){this._fieldDataCache.has(w)||this._fieldDataCache.set(w,{alias:w,clause:a.getWhereClause(w,this.fieldsIndex)});return this._fieldDataCache.get(w).clause.testSet(p,this.featureAdapter)};n._processAttributesForOutFields=function(p){const w=this.outFields;if(!w||!w.length)return this.featureAdapter.getAttributes(p);const v={};for(const q of w){const {alias:t,
clause:z}=this._fieldDataCache.get(q);v[t]=z?z.calculateValue(p,this.featureAdapter):this.featureAdapter.getAttribute(p,t)}return v};n._processAttributesForDistinctValues=function(p){if(c.isNone(p)||!this.returnDistinctValues)return p;var w=this.outFields,v=[];if(w)for(const t of w){var {alias:q}=this._fieldDataCache.get(t);v.push(p[q])}else for(q in p)v.push(p[q]);w=`${(w||["*"]).join(",")}=${v.join(",")}`;v=this._returnDistinctMap.get(w)||0;this._returnDistinctMap.set(w,++v);return 1<v?null:p};
return M}()})},"esri/statistics/utils":function(){define(["exports","../rest/support/ClassBreaksDefinition","../rest/support/generateRendererUtils"],function(c,a,E){function M(u){const O=null!=u.minValue||null!=u.maxValue,Q=!!u.sqlExpression&&u.supportsSQLExpression;return!(null!=u.normalizationField||null!=u.normalizationType)&&!O&&!Q}function n(u){const {values:O,useSampleStdDev:Q,supportsNullCount:J}=u;var B=Number.POSITIVE_INFINITY;let m=Number.NEGATIVE_INFINITY,y=null,b=null;var l=null;let H=
null,S=0;const L=null==u.minValue?-Infinity:u.minValue,D=null==u.maxValue?Infinity:u.maxValue;for(const f of O)Number.isFinite(f)?f>=L&&f<=D&&(y+=f,B=Math.min(B,f),m=Math.max(m,f),S++):"string"===typeof f&&S++;if(S&&null!=y){b=y/S;l=0;for(const f of O)Number.isFinite(f)&&f>=L&&f<=D&&(l+=(f-b)**2);H=Q?1<S?l/(S-1):0:0<S?l/S:0;l=Math.sqrt(H)}else m=B=null;B={avg:b,count:S,max:m,min:B,stddev:l,sum:y,variance:H};J&&(B.nullcount=O.length-S);u.percentileParams&&(B.median=p(O,u.percentileParams));return B}
function p(u,O){const {fieldType:Q,value:J,orderBy:B,isDiscrete:m}=O,y=w(Q,"desc"===B);u=[...u].filter(S=>null!=S).sort((S,L)=>y(S,L));if(0===u.length)return null;if(0>=J)return u[0];if(1<=J)return u[u.length-1];var b=(u.length-1)*J,l=Math.floor(b);O=l+1;b%=1;l=u[l];const H=u[O];return O>=u.length||m||"string"===typeof l||"string"===typeof H?l:l*(1-b)+H*b}function w(u,O){const Q=O?1:-1,J=q(O),B=v(O);if(!u||!["esriFieldTypeDate","esriFieldTypeString","esriFieldTypeGUID","esriFieldTypeGlobalID",...G].includes(u))return(m,
y)=>"number"===typeof m&&"number"===typeof y?J(m,y):"string"===typeof m&&"string"===typeof y?B(m,y):Q;if("esriFieldTypeDate"===u)return(m,y)=>{m=(new Date(m)).getTime();y=(new Date(y)).getTime();return isNaN(m)||isNaN(y)?Q:J(m,y)};if(G.has(u))return(m,y)=>J(m,y);if("esriFieldTypeString"===u)return(m,y)=>B(m,y);if("esriFieldTypeGUID"===u||"esriFieldTypeGlobalID"===u){const m=v(O);return(y,b)=>m(t(y),t(b))}return O?(m,y)=>1:(m,y)=>-1}function v(u){return u?(O,Q)=>{var J,B;O=null==(J=O)?void 0:J.toUpperCase();
Q=null==(B=Q)?void 0:B.toUpperCase();return O>Q?-1:O<Q?1:0}:(O,Q)=>{var J,B;O=null==(J=O)?void 0:J.toUpperCase();Q=null==(B=Q)?void 0:B.toUpperCase();return O<Q?-1:O>Q?1:0}}function q(u){return u?(O,Q)=>Q-O:(O,Q)=>O-Q}function t(u){return u.substr(24,12)+u.substr(19,4)+u.substr(16,2)+u.substr(14,2)+u.substr(11,2)+u.substr(9,2)+u.substr(6,2)+u.substr(4,2)+u.substr(2,2)+u.substr(0,2)}function z(u,O){const Q=N({field:O.field,normalizationType:O.normalizationType,normalizationField:O.normalizationField,
classificationMethod:O.classificationMethod,standardDeviationInterval:O.standardDeviationInterval,breakCount:O.numClasses||5});u=K(u,O.minValue,O.maxValue);return E.createGenerateRendererClassBreaks({definition:Q,values:u,normalizationTotal:O.normalizationTotal})}function K(u,O,Q){O=null==O?-Infinity:O;Q=null==Q?Infinity:Q;return u.filter(J=>Number.isFinite(J)&&J>=O&&J<=Q)}function N(u){const O=u.field,Q=u.classificationMethod||"equal-interval",J=u.normalizationType,B=u.normalizationField,m=new a;
m.classificationField=O;m.breakCount=u.breakCount;m.classificationMethod=Q;m.standardDeviationInterval="standard-deviation"===Q?u.standardDeviationInterval||1:void 0;m.normalizationType=J;m.normalizationField="field"===J?B:void 0;return m}function h(u,O){const {field:Q,classificationMethod:J,standardDeviationInterval:B,normalizationType:m,normalizationField:y,normalizationTotal:b,minValue:l,maxValue:H}=O,S=O.numBins||10;let L=O=null,D=null;J&&"equal-interval"!==J||m?({classBreaks:u}=z(u,{field:Q,
normalizationType:m,normalizationField:y,normalizationTotal:b,classificationMethod:J,standardDeviationInterval:B,minValue:l,maxValue:H,numClasses:S}),O=u[0].minValue,L=u[u.length-1].maxValue,D=u.map(f=>[f.minValue,f.maxValue])):(null!=l&&null!=H?(O=l,L=H):(u=n({values:u,minValue:l,maxValue:H,useSampleStdDev:!m,supportsNullCount:M({normalizationType:m,normalizationField:y,minValue:l,maxValue:H})}),O=u.min,L=u.max),D=d(O,L,S));return{min:O,max:L,intervals:D}}function F(u,O){let Q=-1;for(let J=u.length-
1;0<=J;J--)if(O>=u[J][0]){Q=J;break}return Q}function d(u,O,Q){const J=(O-u)/Q,B=[];let m;for(let y=1;y<=Q;y++)m=u+J,m=Number(m.toFixed(16)),B.push([u,y===Q?O:m]),u=m;return B}const k=/\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*/gi,G=new Set(["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]),P="min max avg stddev count sum variance nullcount median".split(" ");c.calculateClassBreaks=z;c.calculateHistogram=function(u,O){const {min:Q,max:J,intervals:B}=h(u,O),
m=B.map((y,b)=>({minValue:B[b][0],maxValue:B[b][1],count:0}));for(const y of u)null!=y&&y>=Q&&y<=J&&(u=F(B,y),-1<u&&m[u].count++);return{bins:m,minValue:Q,maxValue:J,normalizationTotal:O.normalizationTotal}};c.calculatePercentile=p;c.calculateStatistics=n;c.calculateStringStatistics=function(u){const O=u.returnDistinct?[...new Set(u.values)]:u.values,Q=O.filter(B=>null!=B).length,J={count:Q};u.supportsNullCount&&(J.nullcount=O.length-Q);u.percentileParams&&(J.median=p(O,u.percentileParams));return J};
c.calculateUniqueValuesCount=function(u){const O={};for(let Q of u){if(null==Q||"string"===typeof Q&&""===Q.trim())Q=null;null==O[Q]?O[Q]={count:1,data:Q}:O[Q].count++}return{count:O}};c.createClassBreaksDefinition=N;c.createUVResult=function(u,O,Q){const J=u.count;u=[];Q&&O&&"coded-value"===O.type&&O.codedValues.forEach(B=>{B=B.code;J.hasOwnProperty(B)||(J[B]={data:B,count:0})});for(const B in J)O=J[B],u.push({value:O.data,count:O.count,label:O.label});return{uniqueValueInfos:u}};c.getAttributeComparator=
w;c.getEqualIntervalBins=d;c.getNormalizedValue=function(u,O,Q,J){let B=null;switch(O){case "log":0!==u&&(B=Math.log(u)*Math.LOG10E);break;case "percent-of-total":Number.isFinite(J)&&0!==J&&(B=u/J*100);break;case "field":Number.isFinite(Q)&&0!==Q&&(B=u/Q);break;case "natural-log":0<u&&(B=Math.log(u));break;case "square-root":0<u&&(B=u**.5)}return B};c.isNullCountSupported=M;c.processSummaryStatisticsResult=function(u,O){let Q;for(Q in u)-1<P.indexOf(Q)&&(Number.isFinite(u[Q])||(u[Q]=null));if(!O)return u;
["avg","stddev","variance"].forEach(J=>{null!=u[J]&&(u[J]=Math.ceil(u[J]))});return u};c.resolveCBResult=function(u,O){let Q=u.classBreaks;const J=Q[0].minValue,B=Q[Q.length-1].maxValue,m="standard-deviation"===O;Q=Q.map(y=>{const b=y.label;y={minValue:y.minValue,maxValue:y.maxValue,label:b};if(m&&b){const l=b.match(k).map(H=>+H.trim());2===l.length?(y.minStdDev=l[0],y.maxStdDev=l[1],0>l[0]&&0<l[1]&&(y.hasAvg=!0)):1===l.length&&(b.includes("\x3c")?(y.minStdDev=null,y.maxStdDev=l[0]):b.includes("\x3e")&&
(y.minStdDev=l[0],y.maxStdDev=null))}return y});return{minValue:J,maxValue:B,classBreakInfos:Q,normalizationTotal:u.normalizationTotal}};c.statisticTypes=P;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/support/ClassBreaksDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./ClassificationDefinition".split(" "),
function(c,a,E,M,n,p,w,v,q){n=new E.JSONMap({esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation",esriClassifyDefinedInterval:"defined-interval"});E=new E.JSONMap({esriNormalizeByLog:"log",esriNormalizeByPercentOfTotal:"percent-of-total",esriNormalizeByField:"field"});q=function(t){function z(){var K=t.apply(this,arguments)||this;K.breakCount=null;K.classificationField=
null;K.classificationMethod=null;K.normalizationField=null;K.normalizationType=null;K.type="class-breaks-definition";return K}c._inheritsLoose(z,t);c._createClass(z,[{key:"standardDeviationInterval",set:function(K){"standard-deviation"===this.classificationMethod&&this._set("standardDeviationInterval",K)}},{key:"definedInterval",set:function(K){"defined-interval"===this.classificationMethod&&this._set("definedInterval",K)}}]);return z}(q);a.__decorate([M.property({json:{write:!0}})],q.prototype,"breakCount",
void 0);a.__decorate([M.property({json:{write:!0}})],q.prototype,"classificationField",void 0);a.__decorate([M.property({type:String,json:{read:n.read,write:n.write}})],q.prototype,"classificationMethod",void 0);a.__decorate([M.property({json:{write:!0}})],q.prototype,"normalizationField",void 0);a.__decorate([M.property({json:{read:E.read,write:E.write}})],q.prototype,"normalizationType",void 0);a.__decorate([M.property({value:null,json:{write:!0}})],q.prototype,"standardDeviationInterval",null);
a.__decorate([M.property({value:null,json:{write:!0}})],q.prototype,"definedInterval",null);a.__decorate([M.property()],q.prototype,"type",void 0);return q=a.__decorate([v.subclass("esri.rest.support.ClassBreaksDefinition")],q)})},"esri/rest/support/ClassificationDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./colorRamps ../../symbols/Symbol".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z){E=new E.JSONMap({classBreaksDef:"class-breaks-definition",uniqueValueDef:"unique-value-definition"});M=function(K){function N(){var h=K.apply(this,arguments)||this;h.baseSymbol=null;h.colorRamp=null;h.type=null;return h}c._inheritsLoose(N,K);return N}(M.JSONSupport);a.__decorate([n.property({type:z,json:{write:!0}})],M.prototype,"baseSymbol",void 0);a.__decorate([n.property({types:t.types,json:{read:{reader:t.fromJSON},write:!0}})],M.prototype,"colorRamp",void 0);a.__decorate([n.property({json:{read:E.read,
write:E.write}})],M.prototype,"type",void 0);return M=a.__decorate([q.subclass("esri.rest.support.ClassificationDefinition")],M)})},"esri/rest/support/colorRamps":function(){define(["exports","./AlgorithmicColorRamp","./ColorRamp","./MultipartColorRamp"],function(c,a,E,M){E={key:"type",base:E,typeMap:{algorithmic:a,multipart:M}};c.fromJSON=function(n){return n&&n.type?"algorithmic"===n.type?a.fromJSON(n):"multipart"===n.type?M.fromJSON(n):null:null};c.types=E;Object.defineProperty(c,"__esModule",
{value:!0})})},"esri/rest/support/AlgorithmicColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../Color ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./ColorRamp".split(" "),function(c,a,E,M,n,p,w,v,q){var t;q=t=function(z){function K(N){N=z.call(this,N)||this;N.algorithm=null;N.fromColor=null;N.toColor=
null;N.type="algorithmic";return N}c._inheritsLoose(K,z);K.prototype.clone=function(){return new t({fromColor:M.clone(this.fromColor),toColor:M.clone(this.toColor),algorithm:this.algorithm})};return K}(q);a.__decorate([w.enumeration({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],q.prototype,"algorithm",void 0);a.__decorate([n.property({type:E,json:{type:[p.Integer],write:!0}})],q.prototype,"fromColor",void 0);a.__decorate([n.property({type:E,json:{type:[p.Integer],
write:!0}})],q.prototype,"toColor",void 0);a.__decorate([n.property({type:["algorithmic"]})],q.prototype,"type",void 0);return q=t=a.__decorate([v.subclass("esri.rest.support.AlgorithmicColorRamp")],q)})},"esri/core/accessorSupport/decorators/enumeration":function(){define(["exports","../../jsonMap","./property"],function(c,a,E){c.enumeration=function(M,n={}){var p;M=M instanceof a.JSONMap?M:new a.JSONMap(M,n);M={type:(null!=(p=null==n?void 0:n.ignoreUnknown)?p:1)?M.apiValues:String,json:{type:M.jsonValues,
read:null!=n&&n.readOnly?!1:{reader:M.read},write:{writer:M.write}}};void 0!==(null==n?void 0:n.readOnly)&&(M.readOnly=!!n.readOnly);void 0!==(null==n?void 0:n.default)&&(M.json.default=n.default);void 0!==(null==n?void 0:n.name)&&(M.json.name=n.name);return E.property(M)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/support/ColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(c,a,E,M,n,p,w,v){E=function(q){function t(z){z=q.call(this,z)||this;z.type=null;return z}c._inheritsLoose(t,q);return t}(E.JSONSupport);a.__decorate([M.property({readOnly:!0,json:{read:!1,write:!0}})],E.prototype,"type",void 0);return E=a.__decorate([v.subclass("esri.rest.support.ColorRamp")],E)})},"esri/rest/support/MultipartColorRamp":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ./AlgorithmicColorRamp ./ColorRamp".split(" "),
function(c,a,E,M,n,p,w,v){var q;n=q=function(t){function z(K){K=t.call(this,K)||this;K.colorRamps=null;K.type="multipart";return K}c._inheritsLoose(z,t);z.prototype.clone=function(){return new q({colorRamps:E.clone(this.colorRamps)})};return z}(v);a.__decorate([M.property({type:[w],json:{write:!0}})],n.prototype,"colorRamps",void 0);a.__decorate([M.property({type:["multipart"]})],n.prototype,"type",void 0);return n=q=a.__decorate([p.subclass("esri.rest.support.MultipartColorRamp")],n)})},"esri/symbols/Symbol":function(){define("../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ../Color ../core/jsonMap ../core/JSONSupport ../core/accessorSupport/decorators/property ../core/arrayUtils ../core/has ../core/accessorSupport/ensureType ../core/accessorSupport/decorators/reader ../core/accessorSupport/decorators/subclass".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z){M=new M.JSONMap({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let K=0;n=function(N){function h(d){d=N.call(this,d)||this;d.id=`sym${K++}`;d.type=null;d.color=new E([0,0,0,1]);
return d}c._inheritsLoose(h,N);var F=h.prototype;F.readColor=function(d){return d&&null!=d[0]?[d[0],d[1],d[2],d[3]/255]:d};F.collectRequiredFields=function(){var d=c._asyncToGenerator(function*(k,G){});return function(k,G){return d.apply(this,arguments)}}();F.hash=function(){return JSON.stringify(this.toJSON())};F.clone=function(){};return h}(n.JSONSupport);a.__decorate([p.property({type:M.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:M.write}}})],n.prototype,"type",void 0);a.__decorate([p.property({type:E,
json:{write:{allowNull:!0}}})],n.prototype,"color",void 0);a.__decorate([t.reader("color")],n.prototype,"readColor",null);return n=a.__decorate([z.subclass("esri.symbols.Symbol")],n)})},"esri/rest/support/generateRendererUtils":function(){define(["exports"],function(c){function a(z){const {classificationMethod:K,breakCount:N,normalizationType:h,definedInterval:F}=z.definition,d=[];var k=z.values;if(0===k.length)return[];k=k.sort((J,B)=>J-B);var G=k[0],P=k[k.length-1];if("equal-interval"===K)if(k.length>=
N){k=(P-G)/N;z=G;for(var u=1;u<N;u++){var O=Number((G+u*k).toFixed(6));d.push({minValue:z,maxValue:O,label:E(z,O,h)});z=O}d.push({minValue:z,maxValue:P,label:E(z,P,h)})}else k.forEach(J=>{d.push({minValue:J,maxValue:J,label:E(J,J,h)})});else if("natural-breaks"===K){k=M(k);z=n(k.uniqueValues,z.valueFrequency||k.valueFrequency,N);for(u=1;u<N;u++)k.uniqueValues.length>u&&(O=Number(k.uniqueValues[z[u]].toFixed(6)),d.push({minValue:G,maxValue:O,label:E(G,O,h)}),G=O);d.push({minValue:G,maxValue:P,label:E(G,
P,h)})}else if("quantile"===K)if(k.length>=N&&G!==P){z=Math.ceil(k.length/N);u=0;for(O=1;O<N;O++){var Q=z+u-1;Q>k.length&&(Q=k.length-1);0>Q&&(Q=0);d.push({minValue:G,maxValue:k[Q],label:E(G,k[Q],h)});G=k[Q];u+=z;z=Math.ceil((k.length-u)/(N-O))}d.push({minValue:G,maxValue:P,label:E(G,P,h)})}else for(P=-1,G=0;G<k.length;G++)z=k[G],z!==P&&(P=z,d.push({minValue:P,maxValue:z,label:E(P,z,h)}),P=z);else if("standard-deviation"===K)if(z=v(k),u=q(k,z),0===u)d.push({minValue:k[0],maxValue:k[0],label:E(k[0],
k[0],h)});else{k=w(G,P,N,z,u)*u;u=0;for(O=N;1<=O;O--)Q=Number((z-(O-.5)*k).toFixed(6)),d.push({minValue:G,maxValue:Q,label:E(G,Q,h)}),G=Q,u++;O=Number((z+.5*k).toFixed(6));d.push({minValue:G,maxValue:O,label:E(G,O,h)});G=O;u++;for(Q=1;Q<=N;Q++)O=u===2*N?P:Number((z+(Q+.5)*k).toFixed(6)),d.push({minValue:G,maxValue:O,label:E(G,O,h)}),G=O,u++}else if("defined-interval"===K){if(!F)return d;P=k[0];k=k[k.length-1];G=Math.ceil((k-P)/F);z=P;for(u=1;u<G;u++)O=Number((P+u*F).toFixed(6)),d.push({minValue:z,
maxValue:O,label:E(z,O,h)}),z=O;d.push({minValue:z,maxValue:k,label:E(z,k,h)})}return d}function E(z,K,N){let h=null;return h=z===K?N&&"percent-of-total"===N?z+"%":z.toString():N&&"percent-of-total"===N?z+"% - "+K+"%":z+" - "+K}function M(z){const K=[],N=[];let h=Number.MIN_VALUE,F=1,d=-1;for(let k=0;k<z.length;k++){const G=z[k];G===h?(F++,N[d]=F):null!==G&&(K.push(G),h=G,F=1,N.push(F),d++)}return{uniqueValues:K,valueFrequency:N}}function n(z,K,N){var h=z.length;const F=[];N>h&&(N=h);for(var d=0;d<
N;d++)F.push(Math.round(d*h/N-1));F.push(h-1);d=p(F,z,K,N);{h=d.mean;d=d.sdcm;var k=N,G=0,P=0;let O=0,Q=0,J=!0;for(let B=0;2>B&&J;B++){0===B&&(J=!1);for(var u=0;u<k-1;u++)for(;F[u+1]+1!==F[u+2];)if(F[u+1]+=1,G=t(u,F,z,K),O=G.sbMean,G=G.sbSdcm,P=t(u+1,F,z,K),Q=P.sbMean,P=P.sbSdcm,G+P<d[u]+d[u+1])d[u]=G,d[u+1]=P,h[u]=O,h[u+1]=Q,J=!0;else{--F[u+1];break}for(u=k-1;0<u;u--)for(;F[u]!==F[u-1]+1;)if(--F[u],G=t(u-1,F,z,K),O=G.sbMean,G=G.sbSdcm,P=t(u,F,z,K),Q=P.sbMean,P=P.sbSdcm,G+P<d[u-1]+d[u])d[u-1]=G,d[u]=
P,h[u-1]=O,h[u]=Q,J=!0;else{F[u]+=1;break}}h=J}h&&(d=p(F,z,K,N));return F}function p(z,K,N,h){let F=[];var d=[],k=[];let G=0;const P=[],u=[];for(var O=0;O<h;O++){var Q=t(O,z,K,N);P.push(Q.sbMean);u.push(Q.sbSdcm);G+=u[O]}Q=G;for(O=!0;O||G<Q;){O=!1;F=[];for(d=0;d<h;d++)F.push(z[d]);for(k=0;k<h;k++)for(Q=z[k]+1;Q<=z[k+1];Q++)if(d=K[Q],0<k&&Q!==z[k+1]&&Math.abs(d-P[k])>Math.abs(d-P[k-1]))z[k]=Q;else if(k<h-1&&z[k]!==Q-1&&Math.abs(d-P[k])>Math.abs(d-P[k+1])){z[k+1]=Q-1;break}Q=G;G=0;d=[];k=[];for(let J=
0;J<h;J++){d.push(P[J]);k.push(u[J]);const B=t(J,z,K,N);P[J]=B.sbMean;u[J]=B.sbSdcm;G+=u[J]}}if(G>Q){for(K=0;K<h;K++)z[K]=F[K],P[K]=d[K],u[K]=k[K];G=Q}return{mean:P,sdcm:u}}function w(z,K,N,h,F){z=Math.max(h-z,K-h)/F/N;return 1<=z?1:.5<=z?.5:.25}function v(z){let K=0;for(let N=0;N<z.length;N++)K+=z[N];return K/=z.length}function q(z,K){let N=0;for(let h=0;h<z.length;h++){const F=z[h];N+=(F-K)*(F-K)}N/=z.length;return Math.sqrt(N)}function t(z,K,N,h){var F=0,d=0;for(var k=K[z]+1;k<=K[z+1];k++){const G=
h[k];F+=N[k]*G;d+=G}0>=d&&console.log("Exception in Natural Breaks calculation");F/=d;d=0;for(k=K[z]+1;k<=K[z+1];k++)d+=h[k]*(N[k]-F)**2;return{sbMean:F,sbSdcm:d}}c.createGenerateRendererClassBreaks=function(z){const {normalizationTotal:K}=z;return{classBreaks:a(z),normalizationTotal:K}};c.createGenerateRendererUniqueValues=function(z){z=M(z);const K=[],N=z.uniqueValues.length;for(let h=0;h<N;h++){const F=z.uniqueValues[h];K.push({value:F,count:z.valueFrequency[h],label:F.toString()})}return{uniqueValues:K}};
Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/data/timeSupport":function(){define(["exports"],function(c){function a(n,p,w,v,q){if(null!=v&&null!=q)return t=>{const z=n.getAttribute(t,p);t=n.getAttribute(t,w);return(null==z||z<=q)&&(null==t||t>=v)};if(null!=v)return t=>{t=n.getAttribute(t,w);return null==t||t>=v};if(null!=q)return t=>{t=n.getAttribute(t,p);return null==t||t<=q}}function E(n,p,w,v){if(null!=w&&null!=v&&w===v)return q=>n.getAttribute(q,p)===w;if(null!=w&&
null!=v)return q=>{q=n.getAttribute(q,p);return q>=w&&q<=v};if(null!=w)return q=>n.getAttribute(q,p)>=w;if(null!=v)return q=>n.getAttribute(q,p)<=v}function M(){return()=>!1}c.getTimeExtent=function(n,p){if(!n)return null;const w=p.featureAdapter,{startTimeField:v,endTimeField:q}=n;let t=Number.POSITIVE_INFINITY,z=Number.NEGATIVE_INFINITY;if(v&&q)p.forEach(K=>{const N=w.getAttribute(K,v);K=w.getAttribute(K,q);null==N||isNaN(N)||(t=Math.min(t,N));null==K||isNaN(K)||(z=Math.max(z,K))});else{const K=
v||q;p.forEach(N=>{N=w.getAttribute(N,K);null==N||isNaN(N)||(t=Math.min(t,N),z=Math.max(z,N))})}return{start:t,end:z}};c.getTimeOperator=function(n,p,w){if(!p||!n)return null;const {startTimeField:v,endTimeField:q}=n;if(!v&&!q)return null;const {start:t,end:z}=p;return null===t&&null===z?null:void 0===t&&void 0===z?M():v&&q?a(w,v,q,t,z):E(w,v||q,t,z)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/data/utils":function(){define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/jsonMap ../../../core/maybe ../../../core/unitUtils ../../../geometry/support/extentUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../../geometry/support/spatialReferenceUtils ../centroid ../featureConversionUtils ../OptimizedGeometry ./projectionSupport".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h){function F(L,D,f,x=L.hasZ,V=L.hasM){if(n.isNone(D))return null;const Z=L.hasZ&&x,ja=L.hasM&&V;return f?(L=K.quantizeOptimizedGeometry(l,D,L.hasZ,L.hasM,"esriGeometryPoint",f,x,V),K.convertToPoint(L,Z,ja)):K.convertToPoint(D,Z,ja)}function d(){d=E._asyncToGenerator(function*(L,D,f){const {outFields:x,orderByFields:V,groupByFieldsForStatistics:Z,outStatistics:ja}=L;if(x)for(var oa=0;oa<x.length;oa++)x[oa]=x[oa].trim();if(V)for(oa=0;oa<V.length;oa++)V[oa]=V[oa].trim();
if(Z)for(oa=0;oa<Z.length;oa++)Z[oa]=Z[oa].trim();if(ja)for(oa=0;oa<ja.length;oa++)ja[oa].onStatisticField&&(ja[oa].onStatisticField=ja[oa].onStatisticField.trim());L.geometry&&!L.outSR&&(L.outSR=L.geometry.spatialReference);return G(L,D,f)});return d.apply(this,arguments)}function k(){k=E._asyncToGenerator(function*(L,D,f){return G(L,D,f)});return k.apply(this,arguments)}function G(L,D,f){return P.apply(this,arguments)}function P(){P=E._asyncToGenerator(function*(L,D,f){if(!L)return null;var {where:x}=
L;L.where=x=x&&x.trim();if(!x||/^1 *= *1$/.test(x)||D&&D===x)L.where=null;if(!L.geometry)return L;D=yield u(L);L.distance=0;L.units=null;"esriSpatialRelEnvelopeIntersects"===L.spatialRel&&({spatialReference:x}=L.geometry,D=w.getGeometryExtent(D),D.spatialReference=x);L.geometry=D;yield h.checkProjectionSupport(D.spatialReference,f);D=(yield q.normalizeCentralMeridian(v.fromJSON(D)))[0];if(n.isNone(D))throw m;D=D.toJSON();D=yield h.project(D,D.spatialReference,f);if(!D)throw m;D.spatialReference=f;
L.geometry=D;return L});return P.apply(this,arguments)}function u(L){return O.apply(this,arguments)}function O(){O=E._asyncToGenerator(function*(L){const {geometry:D,distance:f,units:x}=L;if(null==f||"vertexAttributes"in D)return D;var V=D.spatialReference;L=x?B.fromJSON(x):p.getUnitString(V);V=V&&(t.isGeographic(V)||t.isWebMercator(V))?D:yield h.checkProjectionSupport(V,t.WGS84).then(()=>h.project(D,t.WGS84));return(yield Q())(V.spatialReference,V,f,L)});return O.apply(this,arguments)}function Q(){return J.apply(this,
arguments)}function J(){J=E._asyncToGenerator(function*(){return(yield new Promise((L,D)=>c(["../../../geometry/geometryEngineJSON"],L,D))).geodesicBuffer});return J.apply(this,arguments)}const B=new M.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"}),m=Object.freeze({}),y=new N,b=new N,l=new N,H={esriGeometryPoint:K.convertToPoint,esriGeometryPolyline:K.convertToPolyline,
esriGeometryPolygon:K.convertToPolygon,esriGeometryMultipoint:K.convertToMultipoint},S=(L,D)=>"_geVersion"!==L?D:void 0;a.QUERY_ENGINE_EMPTY_RESULT=m;a.cleanFromGeometryEngine=function(L){return L&&"_geVersion"in L?JSON.parse(JSON.stringify(L,S)):L};a.getCentroid=function(L,D,f){if("esriGeometryPolygon"!==L.geometryType||!D||!D.centroid&&!D.geometry)return null;D.centroid||(D.centroid=z.getCentroidOptimizedGeometry(new N,D.geometry,L.hasZ,L.hasM));return F(L,D.centroid,f)};a.getGeometry=function(L,
D,f,x,V,Z,ja=D,oa=f){const ma=D&&ja,la=f&&oa;x=n.isSome(x)?"coords"in x?x:x.geometry:null;if(n.isNone(x))return null;if(V)return D=K.generalizeOptimizedGeometry(b,x,D,f,L,V,ja,oa),Z&&(D=K.quantizeOptimizedGeometry(l,D,ma,la,L,Z)),H[L](D,ma,la);if(Z)return Z=K.quantizeOptimizedGeometry(l,x,D,f,L,Z,ja,oa),H[L](Z,ma,la);K.removeZMValues(y,x,D,f,ja,oa);return H[L](y,ma,la)};a.normalizeFilter=function(L,D,f){return k.apply(this,arguments)};a.normalizeQuery=function(L,D,f){return d.apply(this,arguments)};
a.normalizeQueryLike=G;a.transformCentroid=F;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/fieldUtils":function(){define("require exports ../../chunks/_rollupPluginBabelHelpers ../../core/Error ../../core/maybe ../../core/object ./domainUtils ../../support/arcadeOnDemand".split(" "),function(c,a,E,M,n,p,w,v){function q(U,W,da){if(U)for(const qa of U)(U=(U=p.getDeepValue(qa,W))&&"function"!==typeof U&&da.get(U))&&p.setDeepValue(qa,U.name,W)}function t(U,W){if(!U||!W)return[];
C.clear();z(C,U,W);return Array.from(C).sort()}function z(U,W,da){var qa;if(da)if(null!=W&&null!=(qa=W.fields)&&qa.length)if(da.includes("*"))for(const {name:ra}of W.fields)U.add(ra);else for(const ra of da)K(U,W,ra);else if(da.includes("*"))U.clear(),U.add("*");else for(const ra of da)U.add(ra)}function K(U,W,da){"string"===typeof da&&(W?(W=W.get(da))&&U.add(W.name):U.add(da))}function N(U,W,da){return h.apply(this,arguments)}function h(){h=E._asyncToGenerator(function*(U,W,da){var qa;if(da){var {arcadeUtils:ra}=
yield v.loadArcade();da=ra.extractFieldNames(da,null==W?void 0:null==(qa=W.fields)?void 0:qa.map(wa=>wa.name));for(const wa of da)K(U,W,wa)}});return h.apply(this,arguments)}function F(U,W,da){return d.apply(this,arguments)}function d(){d=E._asyncToGenerator(function*(U,W,da){if(da&&"1\x3d1"!==da){da=(yield new Promise((qa,ra)=>c(["../../core/sql/WhereClause"],qa,ra))).WhereClause.create(da,W);if(!da.isStandardized)throw new M("fieldUtils:collectFilterFields","Where clause is not standardized");z(U,
W,da.fieldNames)}});return d.apply(this,arguments)}function k(U,W){for(const da of U)if(da&&da.valueType&&da.valueType===W)return da.name;return null}function G(){G=E._asyncToGenerator(function*(U){if(!U)return[];const W=new Set;yield P(W,U);return Array.from(W).sort()});return G.apply(this,arguments)}function P(U,W){return u.apply(this,arguments)}function u(){u=E._asyncToGenerator(function*(U,W){if(W){var da=p.getDeepValue("elevationInfo.featureExpressionInfo",W);if(da)return da.collectRequiredFields(U,
W.fieldsIndex)}});return u.apply(this,arguments)}function O(U,W,da){return Q.apply(this,arguments)}function Q(){Q=E._asyncToGenerator(function*(U,W,da){da.outStatistic.onStatisticValueExpression?N(U,W,da.outStatistic.onStatisticValueExpression):U.add(da.outStatistic.onStatisticField)});return Q.apply(this,arguments)}function J(){J=E._asyncToGenerator(function*(U,W,da){var qa,ra;if(W&&da&&"cluster"===da.type){var wa=[];null!=(qa=da.popupTemplate)&&qa.expressionInfos&&wa.push(...da.popupTemplate.expressionInfos.map(ya=>
N(U,W.fieldsIndex,ya.expression)));if(Array.isArray(null==(ra=da.popupTemplate)?void 0:ra.content)){qa=da.popupTemplate.content;for(const ya of qa)"expression"===ya.type&&ya.expressionInfo&&wa.push(N(U,W.fieldsIndex,ya.expressionInfo.expression))}da.fields&&wa.push(...da.fields.map(ya=>O(U,W.fieldsIndex,ya)));yield Promise.all(wa)}});return J.apply(this,arguments)}function B(){B=E._asyncToGenerator(function*(U,W,da){W&&(W.timeInfo&&n.isSome(da)&&da.timeExtent&&z(U,W.fieldsIndex,[W.timeInfo.startField,
W.timeInfo.endField]),W.floorInfo&&z(U,W.fieldsIndex,[W.floorInfo.floorField]),n.isSome(da)&&n.isSome(da.where)&&(yield F(U,W.fieldsIndex,da.where)))});return B.apply(this,arguments)}function m(){m=E._asyncToGenerator(function*(U,W,da){W&&da&&(yield Promise.all(da.map(qa=>y(U,W,qa))))});return m.apply(this,arguments)}function y(U,W,da){return b.apply(this,arguments)}function b(){b=E._asyncToGenerator(function*(U,W,da){W&&da&&(da.valueExpression?yield N(U,W.fieldsIndex,da.valueExpression):da.field&&
K(U,W.fieldsIndex,da.field))});return b.apply(this,arguments)}function l(){l=E._asyncToGenerator(function*(U){if(!U)return[];const W="timeInfo"in U&&U.timeInfo;return W?t(U.fieldsIndex,[U.trackIdField,W.startField,W.endField]):[]});return l.apply(this,arguments)}function H(){H=E._asyncToGenerator(function*(U){if(!U)return[];const W=new Set;yield S(W,U);return Array.from(W).sort()});return H.apply(this,arguments)}function S(U,W){return L.apply(this,arguments)}function L(){L=E._asyncToGenerator(function*(U,
W){const {labelingInfo:da,fieldsIndex:qa}=W;da&&da.length&&(yield Promise.all(da.map(ra=>D(U,qa,ra))))});return L.apply(this,arguments)}function D(U,W,da){return f.apply(this,arguments)}function f(){f=E._asyncToGenerator(function*(U,W,da){if(da){var qa=da.getLabelExpression();da=da.where;"arcade"===qa.type?yield N(U,W,qa.expression):(qa=qa.expression.match(/{[^}]*}/g))&&qa.forEach(ra=>{K(U,W,ra.slice(1,-1))});yield F(U,W,da)}});return f.apply(this,arguments)}function x(U){return"number"===typeof U&&
!isNaN(U)&&isFinite(U)}function V(U){return null===U||x(U)}function Z(U){return null===U||fa(U)}function ja(U){return null!=U&&"string"===typeof U}function oa(U){return null===U||ja(U)}function ma(){return!0}function la(U,W){let da;switch(U.type){case "date":case "integer":case "long":case "small-integer":case "esriFieldTypeDate":case "esriFieldTypeInteger":case "esriFieldTypeLong":case "esriFieldTypeSmallInteger":da=U.nullable?Z:fa;break;case "double":case "single":case "esriFieldTypeSingle":case "esriFieldTypeDouble":da=
U.nullable?V:x;break;case "string":case "esriFieldTypeString":da=U.nullable?oa:ja;break;default:da=ma}return 1===arguments.length?da:da(W)}function pa(U){return null!=U&&T.has(U.type)}function va(U,W){return U.nullable&&null===W?null:pa(U)&&!Ba(U.type,Number(W))?a.NumericRangeValidationError.OUT_OF_RANGE:la(U,W)?U.domain?w.validateDomainValue(U.domain,W):null:a.TypeValidationError.INVALID_TYPE}function Ba(U,W){return(U="string"===typeof U?Ka(U):U)?U.isInteger?fa(W)&&W>=U.min&&W<=U.max:W>=U.min&&W<=
U.max:!1}function Ka(U){switch(U){case "esriFieldTypeSmallInteger":case "small-integer":return X;case "esriFieldTypeInteger":case "integer":return Y;case "esriFieldTypeSingle":case "single":return ha;case "esriFieldTypeDouble":case "double":return ea}}function Ta(U,W,da){if(!W||!W.attributes||!U){if(n.isSome(da))for(var qa of U)da.add(qa);return!0}W=W.attributes;qa=!1;for(const ra of U)if(!(ra in W))if(qa=!0,n.isSome(da))da.add(ra);else break;return qa}function Oa(){Oa=E._asyncToGenerator(function*(U,
W){const da=new Set;for(const qa of W)yield N(da,U.fieldsIndex,qa);return Array.from(da).sort()});return Oa.apply(this,arguments)}const Sa="field field2 field3 normalizationField rotationInfo.field proportionalSymbolInfo.field proportionalSymbolInfo.normalizationField colorInfo.field colorInfo.normalizationField".split(" "),g=["field","normalizationField"],C=new Set,fa=(()=>"isInteger"in Number?Number.isInteger:U=>"number"===typeof U&&isFinite(U)&&Math.floor(U)===U)(),A=["integer","small-integer",
"single","double"],T=new Set([...A,"esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeSingle","esriFieldTypeDouble"]);a.NumericRangeValidationError=void 0;(a.NumericRangeValidationError||(a.NumericRangeValidationError={})).OUT_OF_RANGE="numeric-range-validation-error::out-of-range";a.TypeValidationError=void 0;(a.TypeValidationError||(a.TypeValidationError={})).INVALID_TYPE="type-validation-error::invalid-type";const X={min:-32768,max:32767,isInteger:!0},Y={min:-2147483648,max:2147483647,
isInteger:!0},ha={min:-3.4E38,max:1.2E38,isInteger:!1},ea={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1};a.collectArcadeFieldNames=N;a.collectElevationFields=P;a.collectFeatureReductionFields=function(U,W,da){return J.apply(this,arguments)};a.collectField=K;a.collectFields=z;a.collectFilterFields=function(U,W,da){return B.apply(this,arguments)};a.collectLabelingFields=S;a.collectOrderByInfos=function(U,W,da){return m.apply(this,arguments)};a.doubleRange=ea;a.featureHasFields=function(U,
W){return!Ta(U,W,null)};a.fixFields=t;a.fixRendererFields=function(U,W){if(null!=U&&null!=W)for(const da of Array.isArray(U)?U:[U])if(q(Sa,da,W),"visualVariables"in da&&da.visualVariables)for(const qa of da.visualVariables)q(g,qa,W)};a.fixTimeInfoFields=function(U,W){if(null!=U&&null!=W&&W.fields.length)if("startField"in U){var da=W.get(U.startField);W=W.get(U.endField);U.startField=da&&da.name||null;U.endField=W&&W.name||null}else da=W.get(U.startTimeField),W=W.get(U.endTimeField),U.startTimeField=
da&&da.name||null,U.endTimeField=W&&W.name||null};a.getDisplayFieldName=function({displayField:U,fields:W}){if(U)return U;if(!W||!W.length)return null;if(!(U=k(W,"name-or-title")||k(W,"unique-identifier")||k(W,"type-or-category")))a:{for(const da of W)if(da&&da.name&&(W=da.name.toLowerCase(),-1<W.indexOf("name")||-1<W.indexOf("title"))){U=da.name;break a}U=null}return U};a.getElevationFields=function(U){return G.apply(this,arguments)};a.getExpressionFields=function(U,W){return Oa.apply(this,arguments)};
a.getFeatureEditFields=function(U){if(!U)return[];const W="editFieldsInfo"in U&&U.editFieldsInfo;return W?t(U.fieldsIndex,[W&&W.creatorField,W&&W.creationDateField,W&&W.editorField,W&&W.editDateField]):[]};a.getFeatureGeometryFields=function(U){if(!U)return[];const W=U.geometryFieldsInfo;return W?t(U.fieldsIndex,[W.shapeAreaField,W.shapeLengthField]):[]};a.getFieldDefaultValue=function(U){const W=U.defaultValue;if(void 0!==W&&la(U,W))return W;if(U.nullable)return null};a.getFieldRange=function(U){const W=
w.getDomainRange(U.domain);if(W)return W;if(pa(U))return Ka(U.type)};a.getLabelingFields=function(U){return H.apply(this,arguments)};a.getNumericTypeForValue=function(U){if(!x(U))return null;if(fa(U)){if(U>=X.min&&U<=X.max)return"esriFieldTypeSmallInteger";if(U>=Y.min&&U<=Y.max)return"esriFieldTypeInteger"}return U>=ha.min&&U<=ha.max?"esriFieldTypeSingle":"esriFieldTypeDouble"};a.getTimeFields=function(U){return l.apply(this,arguments)};a.integerRange=Y;a.isDateField=function(U){return null!=U&&("date"===
U.type||"esriFieldTypeDate"===U.type)};a.isNumberInRange=Ba;a.isNumericField=pa;a.isStringField=function(U){return null!=U&&("string"===U.type||"esriFieldTypeString"===U.type)};a.isValidFieldValue=function(U,W){return null===va(U,W)};a.isValueMatchingFieldType=la;a.numericTypes=A;a.packFields=function(U,W,da=1){if(!W||!U)return[];if(W.includes("*"))return["*"];W=t(U,W);return W.length/U.fields.length>=da?["*"]:W};a.populateMissingFields=Ta;a.rendererFields=Sa;a.sanitizeNullFieldValue=function(U){return null==
U||"number"===typeof U&&isNaN(U)?null:U};a.singleRange=ha;a.smallIntegerRange=X;a.unpackFieldNames=function(U,W){return n.isNone(W)||n.isNone(U)?[]:W.includes("*")?U.fields.map(da=>da.name):W};a.validateFieldValue=va;a.validationErrorToString=function(U,W,da){switch(U){case w.DomainValidationError.INVALID_CODED_VALUE:return`Value ${da} is not in the coded domain - field: ${W.name}, domain: ${JSON.stringify(W.domain)}`;case w.DomainValidationError.VALUE_OUT_OF_RANGE:return`Value ${da} is out of the range of valid values - field: ${W.name}, domain: ${JSON.stringify(W.domain)}`;
case a.TypeValidationError.INVALID_TYPE:return`Value ${da} is not a valid value for the field type - field: ${W.name}, type: ${W.type}, nullable: ${W.nullable}`;case a.NumericRangeValidationError.OUT_OF_RANGE:{const {min:qa,max:ra}=Ka(W.type);return`Value ${da} is out of range for the number type - field: ${W.name}, type: ${W.type}, value range is ${qa} to ${ra}`}}};a.visualVariableFields=g;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/support/domainUtils":function(){define(["exports"],
function(c){function a(E,M){switch(E.type){case "range":{const n="range"in E?E.range[1]:E.maxValue;if(+M<("range"in E?E.range[0]:E.minValue)||+M>n)return c.DomainValidationError.VALUE_OUT_OF_RANGE;break}case "coded-value":case "codedValue":if(null==E.codedValues||E.codedValues.every(n=>null==n||n.code!==M))return c.DomainValidationError.INVALID_CODED_VALUE}return null}c.DomainValidationError=void 0;(function(E){E.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range";E.INVALID_CODED_VALUE=
"domain-validation-error::invalid-coded-value"})(c.DomainValidationError||(c.DomainValidationError={}));c.getDomainRange=function(E){if(E&&"range"===E.type)return{min:"range"in E?E.range[0]:E.minValue,max:"range"in E?E.range[1]:E.maxValue}};c.isValidDomainValue=function(E,M){return null===a(E,M)};c.validateDomainValue=a;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/support/arcadeOnDemand":function(){define("require exports ../chunks/_rollupPluginBabelHelpers ../geometry ../core/maybe ../geometry/SpatialReference".split(" "),
function(c,a,E,M,n,p){function w(){v||(v=E._asyncToGenerator(function*(){const t=yield new Promise((z,K)=>c(["./arcadeUtils"],z,K));return{arcade:t.arcade,arcadeUtils:t,Dictionary:t.Dictionary,Feature:t.arcadeFeature}})());return v}let v;M=(t,z,K)=>q.create(t,z,K,null,["$feature","$view"]);let q=function(){function t(K,N,h,F,d,k,G,P){this.script=K;this.evaluate=d;this.fields=Array.isArray(G)?G:G.fields;this._syntaxTree=F;this._arcade=N;this._arcadeDictionary=h;this._arcadeFeature=k;this._spatialReference=
P;this._referencesGeometry=N.scriptTouchesGeometry(this._syntaxTree);this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}t.create=function(){var K=E._asyncToGenerator(function*(N,h,F,d,k,G){const {arcade:P,Feature:u,Dictionary:O}=yield w(),Q=p.fromJSON(h);h=P.parseScript(N,G);k=k.reduce((b,l)=>({...b,[l]:null}),{});let J=null;n.isSome(d)&&(J=new O(d),J.immutable=!0,k.$config=null);d=P.scriptUsesGeometryEngine(h)&&P.enableGeometrySupport();G=P.scriptUsesFeatureSet(h)&&P.enableFeatureSetSupport();
const B=P.scriptIsAsync(h)&&P.enableAsyncSupport();k={vars:k,spatialReference:Q,useAsync:!!B};const m=new O;m.immutable=!1;m.setField("scale",0);const y=P.compileScript(h,k);yield Promise.all([d,G,B]);return new t(N,P,O,h,b=>{"$view"in b&&b.$view&&(m.setField("scale",b.$view.scale),b.$view=m);J&&(b.$config=J);return y({vars:b,spatialReference:Q})},new u,F,Q)});return function(N,h,F,d,k,G){return K.apply(this,arguments)}}();var z=t.prototype;z.repurposeFeature=function(K){K.geometry&&!K.geometry.spatialReference&&
(K.geometry.spatialReference=this._spatialReference);this._arcadeFeature.repurposeFromGraphicLikeObject(K.geometry,K.attributes,{fields:this.fields});return this._arcadeFeature};z.createDictionary=function(){return new this._arcadeDictionary};z.referencesMember=function(K){return this._arcade.referencesMember(this._syntaxTree,K)};z.referencesFunction=function(K){return this._arcade.referencesFunction(this._syntaxTree,K)};z.referencesGeometry=function(){return this._referencesGeometry};z.referencesScale=
function(){return this._referencesScale};z.extractFieldLiterals=function(){return this._arcade.extractExpectedFieldLiterals(this._syntaxTree)};return t}();a.ArcadeExpression=q;a.createDictionaryExpression=(t,z,K,N)=>q.create(t,z,K,N,["$feature","$view"]);a.createLabelExpression=(t,z,K)=>q.create(t,z,K,null,["$feature"]);a.createRendererExpression=M;a.createVVExpression=M;a.loadArcade=w;Object.defineProperty(a,"__esModule",{value:!0})})},"esri/layers/graphics/data/spatialQuerySupport":function(){define("require exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/Error ../../../geometry/support/contains ../../../geometry/support/intersects ../../../geometry/support/jsonUtils ../../../geometry/support/spatialReferenceUtils ../contains ../featureConversionUtils ../OptimizedGeometry ./projectionSupport ./utils".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N){function h(){return new Promise((G,P)=>c(["../../../geometry/geometryEngineJSON"],G,P))}function F(){F=E._asyncToGenerator(function*(G,P,u){const {spatialRel:O,geometry:Q}=G;if(Q){if(!0!==k.spatialRelationship[O])throw new M("feature-store:unsupported-query","Unsupported query spatial relationship",{query:G});if(v.isValid(Q.spatialReference)&&v.isValid(u)){if(!0!==k.queryGeometry[w.getJsonType(Q)])throw new M("feature-store:unsupported-query","Unsupported query geometry type",
{query:G});if(!0!==k.layerGeometry[P])throw new M("feature-store:unsupported-query","Unsupported layer geometry type",{query:G});if(G.outSR)return K.checkProjectionSupport(G.geometry&&G.geometry.spatialReference,G.outSR)}}});return F.apply(this,arguments)}const d={esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"intersects",esriSpatialRelIndexIntersects:null,esriSpatialRelOverlaps:"overlaps",
esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:null},k={spatialRelationship:{esriSpatialRelIntersects:!0,esriSpatialRelContains:!0,esriSpatialRelWithin:!0,esriSpatialRelCrosses:!0,esriSpatialRelDisjoint:!0,esriSpatialRelTouches:!0,esriSpatialRelOverlaps:!0,esriSpatialRelEnvelopeIntersects:!0,esriSpatialRelIndexIntersects:!1,esriSpatialRelRelation:!1},queryGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!0},
layerGeometry:{esriGeometryPoint:!0,esriGeometryMultipoint:!0,esriGeometryPolyline:!0,esriGeometryPolygon:!0,esriGeometryEnvelope:!1}};a.canQueryWithRBush=function(G){if(w.isExtent(G))return!0;if(w.isPolygon(G)){for(const P of G.rings)if(5!==P.length||P[0][0]!==P[1][0]||P[0][0]!==P[4][0]||P[2][0]!==P[3][0]||P[0][1]!==P[3][1]||P[0][1]!==P[4][1]||P[1][1]!==P[2][1])return!1;return!0}return!1};a.checkSpatialQuerySupport=function(G,P,u){return F.apply(this,arguments)};a.getSpatialQueryOperator=function(G,
P,u,O,Q){if(w.isPolygon(P)&&"esriGeometryPoint"===u&&("esriSpatialRelIntersects"===G||"esriSpatialRelContains"===G)){const J=t.convertFromPolygon(new z,P,!1,!1);return Promise.resolve(B=>q.polygonContainsPoint(J,!1,!1,B))}if(w.isPolygon(P)&&"esriGeometryMultipoint"===u){const J=t.convertFromPolygon(new z,P,!1,!1);if("esriSpatialRelContains"===G)return Promise.resolve(B=>q.polygonContainsMultipoint(J,!1,!1,B,O,Q))}if(w.isExtent(P)&&"esriGeometryPoint"===u&&("esriSpatialRelIntersects"===G||"esriSpatialRelContains"===
G))return Promise.resolve(J=>n.extentContainsPoint(P,N.getGeometry(u,O,Q,J)));if(w.isExtent(P)&&"esriGeometryMultipoint"===u&&"esriSpatialRelContains"===G)return Promise.resolve(J=>n.extentContainsMultipoint(P,N.getGeometry(u,O,Q,J)));if(w.isExtent(P)&&"esriSpatialRelIntersects"===G){const J=p.getExtentIntersector(u);return Promise.resolve(B=>J(P,N.getGeometry(u,O,Q,B)))}return h().then(J=>{const B=J[d[G]].bind(null,P.spatialReference,P);return m=>B(N.getGeometry(u,O,Q,m))})};Object.defineProperty(a,
"__esModule",{value:!0})})},"esri/geometry/support/intersects":function(){define(["exports","./intersectsBase"],function(c,a){c.extentIntersectsExtent=a.extentIntersectsExtent;c.extentIntersectsMultipoint=a.extentIntersectsMultipoint;c.extentIntersectsPoint=a.extentIntersectsPoint;c.extentIntersectsPolygon=a.extentIntersectsPolygon;c.extentIntersectsPolyline=a.extentIntersectsPolyline;c.getFeatureExtentIntersector=a.getFeatureExtentIntersector;c.isSelfIntersecting=a.isSelfIntersecting;c.segmentIntersects=
a.segmentIntersects;c.getExtentIntersector=function(E){return"mesh"===E?a.extentIntersectsExtent:a.getFeatureExtentIntersector(E)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/graphics/contains":function(){define(["exports"],function(c){function a(E,M,n,p,w){if(!E)return!1;M=M?n?4:3:n?3:2;const {coords:v,lengths:q}=E;n=!1;E=0;for(const z of q){var t=E;for(let K=E,N=E+z*M;K<N;K+=M){t=K+M;t===N&&(t=E);const h=v[K],F=v[K+1],d=v[t];t=v[t+1];(F<w&&t>=w||t<w&&F>=w)&&h+(w-F)/(t-F)*(d-
h)<p&&(n=!n)}E+=z*M}return n}c.polygonContainsCoords=a;c.polygonContainsMultipoint=function(E,M,n,p,w,v){w=w?v?4:3:v?3:2;const {coords:q,lengths:t}=p;if(!t)return!1;for(let z=0,K=0;z<t.length;z++,K+=w)if(!a(E,M,n,q[K],q[K+1]))return!1;return!0};c.polygonContainsPoint=function(E,M,n,p){return a(E,M,n,p.coords[0],p.coords[1])};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/FieldsIndex":function(){define(["../../chunks/_rollupPluginBabelHelpers","./fieldUtils"],function(c,a){function E(n){return"oid"===
n.type||"esriFieldTypeOID"===n.type}function M(n){return"global-id"===n.type||"esriFieldTypeGlobalID"===n.type}return function(){function n(w){this.fields=w;this._fieldsMap=new Map;this._dateFieldsSet=new Set;this._numericFieldsSet=new Set;this.dateFields=[];this.numericFields=[];this._requiredFields=null;if(w){var v=[];for(const q of w)if(w=q&&q.name){const t=w.toLowerCase().trim();this._fieldsMap.set(w,q);this._fieldsMap.set(t,q);v.push(t);"date"===q.type||"esriFieldTypeDate"===q.type?(this.dateFields.push(q),
this._dateFieldsSet.add(q)):a.isNumericField(q)&&(this._numericFieldsSet.add(q),this.numericFields.push(q));E(q)||M(q)||(q.editable=null==q.editable?!0:!!q.editable,q.nullable=null==q.nullable?!0:!!q.nullable)}v.sort();this.uid=v.join(",")}}var p=n.prototype;p.destroy=function(){this._fieldsMap.clear()};p.has=function(w){return null!=this.get(w)};p.get=function(w){return null!=w?this._fieldsMap.get(w)||this._fieldsMap.get(w.toLowerCase().trim()):void 0};p.isDateField=function(w){return this._dateFieldsSet.has(this.get(w))};
p.isNumericField=function(w){return this._numericFieldsSet.has(this.get(w))};p.normalizeFieldName=function(w){if(w=this.get(w))return w.name};c._createClass(n,[{key:"requiredFields",get:function(){if(!this._requiredFields){this._requiredFields=[];for(const w of this.fields)E(w)||M(w)||w.nullable||void 0!==a.getFieldDefaultValue(w)||this._requiredFields.push(w)}return this._requiredFields}}]);return n}()})},"esri/views/support/Scheduler":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Handles ../../core/Logger ../../core/maybe ../../core/PerformanceSampler ../../core/PooledArray ../../core/promiseUtils ../../core/reactiveUtils ../../core/time ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../layers/support/PromiseQueue ./debugFlags".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h,F,d,k,G,P){function u(D){return Q.has(D)?Q.get(D):"number"===typeof D?D:1}const O=p.getLogger("esri.views.support.Scheduler");c.TaskPriority=void 0;(function(D){D.RESOURCE_CONTROLLER="schedule";D.SLIDE="slide";D.STREAM_DATA_LOADER="stream loader";D.ELEVATION_QUERY="elevation query";D.TERRAIN_SURFACE="terrain";D.SURFACE_GEOMETRY_UPDATES="surface geometry updates";D.GRAPHICS_CORE="Graphics3D";D.I3S_CONTROLLER="I3S";D.POINT_CLOUD_LAYER="point cloud";D.FEATURE_TILE_FETCHER=
"feature fetcher";D.OVERLAY="overlay";D.STAGE="stage";D.GRAPHICS_DECONFLICTOR="graphics deconflictor";D.FILTER_VISIBILITY="Graphics3D filter visibility";D.SCALE_VISIBILITY="Graphics3D scale visibility";D.FRUSTUM_VISIBILITY="Graphics3D frustum visibility";D.POINT_OF_INTEREST_FREQUENT="POI frequent";D.POINT_OF_INTEREST_INFREQUENT="POI infrequent";D.LABELER="labeler";D.FEATURE_QUERY_ENGINE="feature query";D.FEATURE_TILE_TREE="feature tile tree";D.FEATURE_TILE_TREE_ACTIVE="fast feature tile tree";D.ELEVATION_ALIGNMENT=
"elevation alignment";D.TEXT_TEXTURE_ATLAS="text texture atlas";D.TEXTURE_UNLOAD="texture unload";D.LINE_OF_SIGHT_TOOL="line of sight tool";D.LINE_OF_SIGHT_TOOL_INTERACTIVE="interactive line of sight tool";D.ELEVATION_PROFILE="elevation profile";D.SNAPPING="snapping";D.SHADOW_ACCUMULATOR="shadow accumulator";D.CLOUDS_GENERATOR="cloud generator";D[D.TEST_PRIO=1]="TEST_PRIO"})(c.TaskPriority||(c.TaskPriority={}));const Q=new Map([[c.TaskPriority.RESOURCE_CONTROLLER,0],[c.TaskPriority.SLIDE,0],[c.TaskPriority.STREAM_DATA_LOADER,
0],[c.TaskPriority.ELEVATION_QUERY,0],[c.TaskPriority.TERRAIN_SURFACE,1],[c.TaskPriority.SURFACE_GEOMETRY_UPDATES,1],[c.TaskPriority.GRAPHICS_CORE,2],[c.TaskPriority.I3S_CONTROLLER,2],[c.TaskPriority.POINT_CLOUD_LAYER,2],[c.TaskPriority.FEATURE_TILE_FETCHER,2],[c.TaskPriority.OVERLAY,4],[c.TaskPriority.STAGE,4],[c.TaskPriority.GRAPHICS_DECONFLICTOR,4],[c.TaskPriority.FILTER_VISIBILITY,4],[c.TaskPriority.SCALE_VISIBILITY,4],[c.TaskPriority.FRUSTUM_VISIBILITY,4],[c.TaskPriority.POINT_OF_INTEREST_FREQUENT,
6],[c.TaskPriority.POINT_OF_INTEREST_INFREQUENT,30],[c.TaskPriority.LABELER,8],[c.TaskPriority.FEATURE_QUERY_ENGINE,8],[c.TaskPriority.FEATURE_TILE_TREE,16],[c.TaskPriority.FEATURE_TILE_TREE_ACTIVE,0],[c.TaskPriority.ELEVATION_ALIGNMENT,12],[c.TaskPriority.TEXT_TEXTURE_ATLAS,12],[c.TaskPriority.CLOUDS_GENERATOR,12],[c.TaskPriority.TEXTURE_UNLOAD,12],[c.TaskPriority.LINE_OF_SIGHT_TOOL,16],[c.TaskPriority.LINE_OF_SIGHT_TOOL_INTERACTIVE,0],[c.TaskPriority.SNAPPING,0],[c.TaskPriority.SHADOW_ACCUMULATOR,
30]]);c.State=void 0;(function(D){D[D.ANIMATING=0]="ANIMATING";D[D.INTERACTING=1]="INTERACTING";D[D.IDLE=2]="IDLE"})(c.State||(c.State={}));const J=K.Milliseconds(6.5),B=K.Milliseconds(1),m=K.Milliseconds(30),y=K.Milliseconds(1E3/30),b=K.Milliseconds(100);var l;(function(D){let f=function(Z){function ja(ma){var la=Z.call(this,ma)||this;la.updating=!0;la._microTaskQueued=!1;la.performanceInfo={total:new v("total"),tasks:new Map};la._frameTaskTimes=new Map;la._budget=null;la._state=c.State.INTERACTING;
la._tasks=new q;la._runQueue=new q;la._load=0;la._idleStateCallbacks=new q;la._idleUpdatesStartFired=!1;la._maxReschedule=L;la._forceTask=!1;la._debug=!1;la._debugHandle=z.watch(()=>P.SCHEDULER_LOG_SLOW_TASKS,Ba=>la._debug=Ba,z.initial);la._budget=new V(ma.nowFunc);for(const Ba of Object.keys(c.TaskPriority))la.performanceInfo.tasks.set(c.TaskPriority[Ba],new v(c.TaskPriority[Ba]));let pa;const va=a._assertThisInitialized(la);la._test={get state(){return w.unwrapOr(pa,va._state)},set state(Ba){pa=
Ba},FRAME_SAFETY_BUDGET:J,INTERACTING_BUDGET:y,IDLE_BUDGET:b,get budget(){return va._budget.budget},usedBudget:0,setBudget:Ba=>va._budget=Ba,updateTask:Ba=>la._updateTask(Ba),getState:Ba=>la._getState(Ba),getRuntime:Ba=>la._getRuntime(Ba),frameTaskTimes:la._frameTaskTimes,resetRuntimes:()=>la._resetRuntimes(),getRunning:()=>la._getRunning()};return la}a._inheritsLoose(ja,Z);var oa=ja.prototype;oa.destroy=function(){this._tasks.toArray().forEach(ma=>ma.remove());this._tasks.clear();w.removeMaybe(this._debugHandle);
this.updating=this._microTaskQueued=!1};oa.activate=function(){this._budget.done||this._microTaskQueued||(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.done||(this._maxReschedule=L,this._schedule(),this.frame()))}))};oa.registerTask=function(ma,la){const pa=u(ma);la=new x(this,ma,la,pa);this._tasks.push(la);this.performanceInfo.tasks.has(ma)||this.performanceInfo.tasks.set(ma,new v(ma));return la};oa.registerIdleStateCallbacks=function(ma,
la){const pa={idleBegin:ma,idleEnd:la};this._idleStateCallbacks.push(pa);this.state===c.State.IDLE&&this._idleUpdatesStartFired&&pa.idleBegin();const va=this;return{remove:()=>this._removeIdleStateCallbacks(pa),set idleBegin(Ba){va._idleUpdatesStartFired&&(pa.idleEnd(),va._state===c.State.IDLE&&Ba());pa.idleBegin=Ba},set idleEnd(Ba){pa.idleEnd=Ba}}};oa.updateBudget=function(ma){this._test.usedBudget=0;let la=J,pa=ma.frameDuration,va=B;switch(this.state){case c.State.IDLE:la=K.Milliseconds(0);pa=K.Milliseconds(Math.max(b,
ma.frameDuration));va=m;break;case c.State.INTERACTING:pa=K.Milliseconds(Math.max(y,ma.frameDuration))}pa=K.Milliseconds(pa-ma.elapsedFrameTime-la);if(this.state!==c.State.IDLE&&pa<B&&!this._forceTask)return this._forceTask=!0,!1;pa=K.Milliseconds(Math.max(pa,va));this._budget.reset(pa,this.state);this._maxReschedule=L;this._updateLoad();return this._schedule()};oa.frame=function(){this._microTaskQueued=this._forceTask=!1;switch(this.state){case c.State.IDLE:this._idleUpdatesStartFired||(this._idleUpdatesStartFired=
!0,this._idleStateCallbacks.forAll(ma=>ma.idleBegin()));this._runIdle();break;case c.State.INTERACTING:this._runInteracting();break;default:this._runAnimating()}this._test.usedBudget=this._budget.elapsed};oa.stopFrame=function(){this._budget.reset(K.Milliseconds(0),this._state);this._budget.madeProgress()};oa._removeIdleStateCallbacks=function(ma){this._idleUpdatesStartFired&&ma.idleEnd();this._idleStateCallbacks.removeUnordered(ma)};oa.removeTask=function(ma){this._tasks.removeUnordered(ma);this._runQueue.removeUnordered(ma)};
oa._updateTask=function(ma){this._tasks.forAll(la=>{la.name===ma&&la.setPriority(ma)})};oa._getState=function(ma){if(this._runQueue.some(pa=>pa.name===ma))return c.TaskState.SCHEDULED;let la=c.TaskState.IDLE;this._tasks.forAll(pa=>{pa.name===ma&&pa.needsUpdate&&(1>=pa.schedulePriority?la=c.TaskState.READY:la!==c.TaskState.READY&&(la=c.TaskState.WAITING))});return la};oa._getRuntime=function(ma){let la=0;this._tasks.forAll(pa=>{pa.name===ma&&(la+=pa.runtime)});return la};oa._resetRuntimes=function(){this._tasks.forAll(ma=>
ma.runtime=0)};oa._getRunning=function(){const ma=new Map;this._tasks.forAll(pa=>{pa.needsUpdate&&ma.set(pa.name,(ma.get(pa.name)||0)+1)});if(0===ma.size)return null;let la="";ma.forEach((pa,va)=>{la=1<pa?la+` ${pa}x ${va}`:la+` ${va}`});return la};oa._runIdle=function(){this._run()};oa._runInteracting=function(){this._run()};oa._runAnimating=function(){this._run()};oa._updateLoad=function(){const ma=this._tasks.reduce((la,pa)=>pa.needsUpdate?++la:la,0);this._load=.9*this._load+ma*(1-.9)};oa._schedule=
function(){if(0>=this._maxReschedule)return!1;this._runQueue.filterInPlace(ma=>{if(ma.needsUpdate)return!0;ma.schedulePriority=ma.basePriority;return!1});for(this._tasks.forAll(ma=>{0===ma.basePriority&&ma.needsUpdate&&!this._runQueue.some(la=>la===ma)&&this._runQueue.unshift(ma)});0===this._runQueue.length;){let ma=!1,la=0;this._tasks.forAll(pa=>{if(pa.needsUpdate&&0!==pa.schedulePriority&&0!==pa.basePriority)switch(ma=!0,la=Math.max(la,pa.basePriority),pa.schedulePriority){case 1:pa.schedulePriority=
0;this._runQueue.push(pa);break;default:--pa.schedulePriority}});if(!ma)return this.updating=!1;this._maxReschedule===L&&(this._maxReschedule=la);--this._maxReschedule}return this.updating=!0};oa._run=function(){const ma=this._budget.now();this._startFrameTaskTimes();do for(;0<this._runQueue.length;){var la=this._budget.now();const pa=this._runQueue.pop();this._budget.resetProgress();try{pa.task.runTask(this._budget)}catch(va){O.error(`Exception in task "${pa.name}"`,va)}pa.schedulePriority=pa.basePriority;
la=this._budget.now()-la;pa.runtime+=la;this._frameTaskTimes.set(pa.priority,this._frameTaskTimes.get(pa.priority)+la);this._debug&&this._budget.elapsed>2*this._budget.budget&&console.log("Task",pa.name,"used",this._budget.elapsed,"of max",this._budget.budget,"ms");if(0>=this._budget.remaining){this.updating=this._tasks.some(va=>va.needsUpdate);this._recordFrameTaskTimes(this._budget.now()-ma);return}}while(this._schedule());this.updating=this._tasks.some(pa=>pa.needsUpdate);this._recordFrameTaskTimes(this._budget.now()-
ma)};oa._startFrameTaskTimes=function(){for(const ma of Object.keys(c.TaskPriority))this._frameTaskTimes.set(c.TaskPriority[ma],0)};oa._recordFrameTaskTimes=function(ma){this._frameTaskTimes.forEach((la,pa)=>this.performanceInfo.tasks.get(pa).record(la));this.performanceInfo.total.record(ma)};a._createClass(ja,[{key:"now",get:function(){return this.nowFunc()}},{key:"load",get:function(){return this._load}},{key:"state",get:function(){return w.isNone(this._test.state)?this._state:this._test.state},
set:function(ma){this._state!==ma&&(this._state=ma,this.state!==c.State.IDLE&&this._idleUpdatesStartFired&&(this._idleUpdatesStartFired=!1,this._idleStateCallbacks.forAll(la=>la.idleEnd())))}},{key:"test",get:function(){return this._test}}]);return ja}(M);E.__decorate([N.property()],f.prototype,"updating",void 0);E.__decorate([N.property()],f.prototype,"nowFunc",void 0);f=E.__decorate([k.subclass("esri.views.support.Scheduler")],f);D.Scheduler=f;let x=function(Z){function ja(ma,la,pa,va){var Ba=Z.call(this,
{})||this;Ba._scheduler=ma;Ba.name=la;Ba._basePriority=va;Ba.runtime=0;Ba._queue=new G.PromiseQueue;Ba._handles=new n;Ba.schedulePriority=Ba._basePriority;Ba.task=w.isSome(pa)?pa:Ba._queue;Ba._handles.add(z.when(()=>Ba.task.running,()=>ma.activate()));return Ba}a._inheritsLoose(ja,Z);var oa=ja.prototype;oa.normalizeCtorArgs=function(){return{}};oa.remove=function(){this.processQueue(H);this._scheduler.removeTask(this);this.schedule=S.schedule;this.reschedule=S.reschedule;this._handles.destroy()};
oa.setPriority=function(ma){this.name=ma;ma=u(ma);if(0===this._basePriority||0!==this.schedulePriority)this.schedulePriority=ma;this._basePriority=ma};oa.schedule=function(ma,la,pa){return this._queue.push(ma,la,pa)};oa.reschedule=function(ma,la,pa){return this._queue.unshift(ma,la,pa)};oa.processQueue=function(ma){this._queue.runTask(ma)};a._createClass(ja,[{key:"updating",get:function(){return this._queue.running}},{key:"basePriority",get:function(){return this._basePriority}},{key:"priority",get:function(){return this.name},
set:function(ma){this.setPriority(ma)}},{key:"needsUpdate",get:function(){return this.updating||this.task.running}}]);return ja}(M);E.__decorate([N.property({constructOnly:!0})],x.prototype,"task",void 0);E.__decorate([N.property({readOnly:!0})],x.prototype,"updating",null);x=E.__decorate([k.subclass("esri.views.support.SchedulerTask")],x);let V=function(){function Z(oa){this.now=oa;this._budget=this._begin=0;this._state=c.State.IDLE;this._didWork=!1;this._enabled=!0}var ja=Z.prototype;ja.run=function(oa){if(this.done)return!1;
!0===oa()&&(this._didWork=!0);return!0};ja.madeProgress=function(){this._didWork=!0};ja.reset=function(oa,ma){this._begin=this.now();this._budget=oa;this._state=ma;this._didWork=!1};ja.resetProgress=function(){this._didWork=!1};a._createClass(Z,[{key:"done",get:function(){return this._didWork&&this.elapsed>=this._budget&&this._enabled}},{key:"budget",get:function(){return this._budget}},{key:"state",get:function(){return this._state}},{key:"enabled",get:function(){return this._enabled},set:function(oa){this._enabled=
oa}},{key:"remaining",get:function(){return Math.max(this._budget-this.elapsed,0)}},{key:"elapsed",get:function(){return this.now()-this._begin}},{key:"hasProgressed",get:function(){return this._didWork}}]);return Z}();D.Budget=V})(l||(l={}));c.TaskState=void 0;(function(D){D.SCHEDULED="s";D.READY="r";D.WAITING="w";D.IDLE="i"})(c.TaskState||(c.TaskState={}));const H=(()=>{const D=new l.Budget(()=>performance.now());D.enabled=!1;return D})(),S=new (function(){function D(){}var f=D.prototype;f.remove=
function(){};f.processQueue=function(){};f.schedule=function(x,V,Z){try{if(t.isAborted(V)){const ja=t.createAbortError();return Z?Promise.resolve(Z(ja)):Promise.reject(ja)}return t.when(x(H))}catch(ja){return Promise.reject(ja)}};f.reschedule=function(x,V,Z){return this.schedule(x,V,Z)};return D}()),L=Number.MAX_SAFE_INTEGER;c.ImmediateTask=S;c.getTaskPriority=u;c.newScheduler=function(D){return new l.Scheduler({nowFunc:D})};c.noBudget=H;c.taskPriorities=Q;Object.defineProperty(c,"__esModule",{value:!0})})},
"esri/core/reactiveUtils":function(){define("exports ./events ./handleUtils ./maybe ./promiseUtils ./accessorSupport/watch ./accessorSupport/trackingUtils".split(" "),function(c,a,E,M,n,p,w){function v(N,h,F={}){return q(N,h,F,z)}function q(N,h,F={},d){let k=null;const G=F.once?(P,u)=>{d(P)&&(M.removeMaybe(k),h(P,u))}:(P,u)=>{d(P)&&h(P,u)};k=p.watchTracked(N,G,F.sync,F.equals);F.initial&&(N=N(),G(N,N));return k}function t(N,h,F){if(n.isAborted(F))return Promise.reject(n.createAbortError());const d=
N();if(null!=h&&h(d))return Promise.resolve(d);let k=null;return new Promise((G,P)=>{k=E.handlesGroup([n.onAbort(F,()=>{k=M.removeMaybe(k);P(n.createAbortError())}),q(N,u=>{k=M.removeMaybe(k);G(u)},{sync:!1,once:!0},null!=h?h:z)])})}function z(N){return!0}function K(N){return!!N}c.autorun=w.autorun;c.initial={initial:!0};c.on=function(N,h,F,d={}){function k(){P&&u&&(u.remove(),null==d.onListenerRemove?void 0:d.onListenerRemove(P),u=P=null)}function G(J){d.once&&d.once&&M.removeMaybe(O);F(J)}let P=
null,u=null,O=null;const Q=v(N,(J,B)=>{k();a.isEventTarget(J)&&(P=J,u=a.on(J,h,G),null==d.onListenerAdd?void 0:d.onListenerAdd(J))},{sync:d.sync,initial:!0});return O=E.makeHandle(()=>{Q.remove();k()})};c.once=function(N,h){return t(N,null,h)};c.sync={sync:!0};c.syncAndInitial={sync:!0,initial:!0};c.watch=v;c.when=function(N,h,F={}){return q(N,h,F,K)};c.whenOnce=function(N,h){return t(N,K,h)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/PromiseQueue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/promiseUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(c,a,E,M,n,p,w,v,q,t){c.PromiseQueue=function(K){function N(){var F=K.apply(this,arguments)||this;F._tasks=[];F.running=!1;return F}a._inheritsLoose(N,K);var h=N.prototype;h.destroy=function(){this.cancelAll()};h.runTask=function(F){for(;!F.done&&this._process(F);)F.madeProgress()};h.push=function(F,d,k){this.running=!0;return new Promise((G,P)=>this._tasks.push(new z(G,P,F,d,k)))};h.unshift=function(F,d,k){this.running=!0;return new Promise((G,P)=>this._tasks.unshift(new z(G,P,F,d,k)))};
h._process=function(F){if(0===this._tasks.length)return!1;const d=this._tasks.shift();try{const k=n.isAborted(d.signal);if(k&&!d.abortCallback)d.reject(n.createAbortError());else{const G=k?d.abortCallback(n.createAbortError()):d.callback(F);n.isPromiseLike(G)?G.then(d.resolve,d.reject):d.resolve(G)}}catch(k){d.reject(k)}this.running=0<this._tasks.length;return!0};h.cancelAll=function(){const F=n.createAbortError();for(const d of this._tasks)if(d.abortCallback){const k=d.abortCallback(F);d.resolve(k)}else d.reject(F);
this._tasks.length=0;this.running=!1};a._createClass(N,[{key:"length",get:function(){return this._tasks.length}}]);return N}(M);E.__decorate([p.property()],c.PromiseQueue.prototype,"running",void 0);c.PromiseQueue=E.__decorate([t.subclass("esri.layers.support.PromiseQueue")],c.PromiseQueue);let z=function(K,N,h,F,d){this.resolve=K;this.reject=N;this.callback=h;this.signal=F;this.abortCallback=d};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/views/support/debugFlags":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(c,a,E,M,n,p,w,v){E=function(q){function t(){var z=q.apply(this,arguments)||this;z.SCHEDULER_LOG_SLOW_TASKS=!1;z.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1;return z}c._inheritsLoose(t,q);return t}(E);a.__decorate([M.property()],E.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0);a.__decorate([M.property()],E.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0);E=a.__decorate([v.subclass("esri.views.support.DebugFlags")],E);return new E})},"esri/layers/support/TileInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/maybe ../../core/unitUtils ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../geometry/Point ../../geometry/SpatialReference ../../geometry/support/aaBoundingRect ../../geometry/support/spatialReferenceUtils ../../geometry/support/webMercatorUtils ./LOD".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h,F,d,k,G,P){var u;E=new E.JSONMap({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});M=u=function(O){function Q(B){B=O.call(this,B)||this;B.dpi=96;B.format=null;B.origin=null;B.minScale=0;B.maxScale=0;B.size=null;B.spatialReference=null;return B}c._inheritsLoose(Q,O);Q.create=function(B=
{}){const {resolutionFactor:m=1,scales:y,size:b=256,spatialReference:l=F.WebMercator,numLODs:H=24}=B;if(!k.isValid(l)){B=[];if(y)for(var S=0;S<y.length;S++){var L=y[S];B.push({level:S,scale:L,resolution:L})}else for(S=5E-4,L=H-1;0<=L;L--)B.unshift({level:L,scale:S,resolution:S}),S*=2;return new u({dpi:96,lods:B,origin:new h(0,0,l),size:[b,b],spatialReference:l})}S=k.getInfo(l);B=B.origin?new h({x:B.origin.x,y:B.origin.y,spatialReference:l}):S?new h({x:S.origin[0],y:S.origin[1],spatialReference:l}):
new h({x:0,y:0,spatialReference:l});S=1/(39.37*p.getMetersPerUnitForSR(l)*96);L=[];if(y)for(var D=0;D<y.length;D++){var f=y[D];L.push({level:D,scale:f,resolution:f*S})}else{var x=k.isGeographic(l)?512/b*5.916575275917094E8:256/b*5.91657527591555E8;D=Math.ceil(H/m);L.push({level:0,scale:x,resolution:x*S});for(f=1;f<D;f++)x/=2**m,L.push({level:f,scale:x,resolution:x*S})}return new u({dpi:96,lods:L,origin:B,size:[b,b],spatialReference:l})};var J=Q.prototype;J.readOrigin=function(B,m){return h.fromJSON({spatialReference:m.spatialReference,
...B})};J.readSize=function(B,m){return[m.cols,m.rows]};J.writeSize=function(B,m){m.cols=B[0];m.rows=B[1]};J.zoomToScale=function(B){const m=this.scales;if(0>=B)return m[0];if(B>=m.length-1)return m[m.length-1];{const y=Math.floor(B);return m[y]/(m[y]/m[y+1])**(B-y)}};J.scaleToZoom=function(B){const m=this.scales,y=m.length-1;let b=0;for(;b<y;b++){const l=m[b],H=m[b+1];if(l<=B)break;if(H===B)return b+1;if(l>B&&H<B)return b+Math.log(l/B)/Math.log(l/H)}return b};J.snapScale=function(B,m=.95){B=this.scaleToZoom(B);
return B%Math.floor(B)>=m?this.zoomToScale(Math.ceil(B)):this.zoomToScale(Math.floor(B))};J.tileAt=function(B,m,y,b){var l=this.lodAt(B);if(!l)return null;let H;if("number"===typeof m)H=m,m=y;else{if(k.equals(m.spatialReference,this.spatialReference))H=m.x,m=m.y;else{b=G.project(m,this.spatialReference);if(n.isNone(b))return null;H=b.x;m=b.y}b=y}y=l.resolution*this.size[0];l=l.resolution*this.size[1];b||(b={id:null,level:0,row:0,col:0,extent:d.create()});b.level=B;b.row=Math.floor((this.origin.y-
m)/l+.001);b.col=Math.floor((H-this.origin.x)/y+.001);this.updateTileInfo(b);return b};J.updateTileInfo=function(B,m=u.ExtrapolateOptions.NONE){var y=this.lodAt(B.level);y||m!==u.ExtrapolateOptions.POWER_OF_TWO||(m=this.lods[this.lods.length-1],m.level<B.level&&(y=m));if(y){var b=B.level-y.level;m=y.resolution*this.size[0]/2**b;y=y.resolution*this.size[1]/2**b;B.id=`${B.level}/${B.row}/${B.col}`;B.extent||(B.extent=d.create());B.extent[0]=this.origin.x+B.col*m;B.extent[1]=this.origin.y-(B.row+1)*
y;B.extent[2]=B.extent[0]+m;B.extent[3]=B.extent[1]+y}};J.upsampleTile=function(B){const m=this._upsampleLevels[B.level];if(!m||-1===m.parentLevel)return!1;B.level=m.parentLevel;B.row=Math.floor(B.row/m.factor+.001);B.col=Math.floor(B.col/m.factor+.001);this.updateTileInfo(B);return!0};J.getTileBounds=function(B,m){var {resolution:y}=this.lodAt(m.level);const b=y*this.size[0];y*=this.size[1];B[0]=this.origin.x+m.col*b;B[1]=this.origin.y-(m.row+1)*y;B[2]=B[0]+b;B[3]=B[1]+y;return B};J.lodAt=function(B){return this._levelToLOD&&
this._levelToLOD[B]||null};J.clone=function(){return u.fromJSON(this.write({}))};J.getOrCreateCompatible=function(B,m){if(256===this.size[0]&&256===this.size[1])return 256===B?this:null;const y=[],b=this.lods.length;for(let l=0;l<b;l++){const H=this.lods[l];y.push(new P({level:H.level,scale:H.scale,resolution:H.resolution*m}))}return new u({size:[B,B],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:y})};J._initializeUpsampleLevels=
function(){const B=this.lods;this._upsampleLevels=[];let m=null;for(let y=0;y<B.length;y++){const b=B[y];this._upsampleLevels[b.level]={parentLevel:m?m.level:-1,factor:m?m.resolution/b.resolution:0};m=b}};c._createClass(Q,[{key:"isWrappable",get:function(){const {spatialReference:B,origin:m}=this;if(B&&m){const y=k.getInfo(B);return B.isWrappable&&Math.abs(y.origin[0]-m.x)<=y.dx}return!1}},{key:"lods",set:function(B){let m=0,y=0;const b=[];this._levelToLOD={};B&&(m=-Infinity,y=Infinity,B.forEach(l=>
{b.push(l.scale);m=l.scale>m?l.scale:m;y=l.scale<y?l.scale:y;this._levelToLOD[l.level]=l}));this._set("scales",b);this._set("minScale",m);this._set("maxScale",y);this._set("lods",B);this._initializeUpsampleLevels()}}]);return Q}(M.JSONSupport);a.__decorate([w.property({type:Number,json:{write:!0}})],M.prototype,"compressionQuality",void 0);a.__decorate([w.property({type:Number,json:{write:!0}})],M.prototype,"dpi",void 0);a.__decorate([w.property({type:String,json:{read:E.read,write:E.write,origins:{"web-scene":{read:!1,
write:!1}}}})],M.prototype,"format",void 0);a.__decorate([w.property({readOnly:!0})],M.prototype,"isWrappable",null);a.__decorate([w.property({type:h,json:{write:!0}})],M.prototype,"origin",void 0);a.__decorate([z.reader("origin")],M.prototype,"readOrigin",null);a.__decorate([w.property({type:[P],value:null,json:{write:!0}})],M.prototype,"lods",null);a.__decorate([w.property({readOnly:!0})],M.prototype,"minScale",void 0);a.__decorate([w.property({readOnly:!0})],M.prototype,"maxScale",void 0);a.__decorate([w.property({readOnly:!0})],
M.prototype,"scales",void 0);a.__decorate([w.property({cast:O=>Array.isArray(O)?O:"number"===typeof O?[O,O]:[256,256]})],M.prototype,"size",void 0);a.__decorate([z.reader("size",["rows","cols"])],M.prototype,"readSize",null);a.__decorate([N.writer("size",{cols:{type:t.Integer},rows:{type:t.Integer}})],M.prototype,"writeSize",null);a.__decorate([w.property({type:F,json:{write:!0}})],M.prototype,"spatialReference",void 0);M=u=a.__decorate([K.subclass("esri.layers.support.TileInfo")],M);(function(O){O=
O.ExtrapolateOptions||(O.ExtrapolateOptions={});O[O.NONE=0]="NONE";O[O.POWER_OF_TWO=1]="POWER_OF_TWO"})(M||(M={}));return M})},"esri/layers/support/LOD":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),function(c,a,E,M,n,p,w,v){var q;E=q=function(t){function z(K){K=
t.call(this,K)||this;K.cols=null;K.level=0;K.levelValue=null;K.origin=null;K.resolution=0;K.rows=null;K.scale=0;return K}c._inheritsLoose(z,t);z.prototype.clone=function(){return new q({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})};return z}(E.JSONSupport);a.__decorate([M.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],E.prototype,"cols",void 0);a.__decorate([M.property({type:w.Integer,
json:{write:!0}})],E.prototype,"level",void 0);a.__decorate([M.property({type:String,json:{write:!0}})],E.prototype,"levelValue",void 0);a.__decorate([M.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],E.prototype,"origin",void 0);a.__decorate([M.property({type:Number,json:{write:!0}})],E.prototype,"resolution",void 0);a.__decorate([M.property({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],E.prototype,
"rows",void 0);a.__decorate([M.property({type:Number,json:{write:!0}})],E.prototype,"scale",void 0);return E=q=a.__decorate([v.subclass("esri.layers.support.LOD")],E)})},"esri/layers/support/TimeInfo":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../TimeExtent ../../TimeInterval ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ./TimeReference ../../portal/timeUnitKebabDictionary".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h){var F;n=F=function(d){function k(P){P=d.call(this,P)||this;P.cumulative=!1;P.endField=null;P.fullTimeExtent=null;P.hasLiveData=!1;P.interval=null;P.startField=null;P.timeReference=null;P.trackIdField=null;P.useTime=!0;return P}c._inheritsLoose(k,d);var G=k.prototype;G.readFullTimeExtent=function(P,u){return u.timeExtent&&Array.isArray(u.timeExtent)&&2===u.timeExtent.length?new E({start:new Date(u.timeExtent[0]),end:new Date(u.timeExtent[1])}):null};G.writeFullTimeExtent=
function(P,u){P&&w.isSome(P.start)&&w.isSome(P.end)?u.timeExtent=[P.start.getTime(),P.end.getTime()]:u.timeExtent=null};G.readInterval=function(P,u){return u.timeInterval&&u.timeIntervalUnits?new M({value:u.timeInterval,unit:h.timeUnitKebabDictionary.fromJSON(u.timeIntervalUnits)}):u.defaultTimeInterval&&u.defaultTimeIntervalUnits?new M({value:u.defaultTimeInterval,unit:h.timeUnitKebabDictionary.fromJSON(u.defaultTimeIntervalUnits)}):null};G.writeInterval=function(P,u){P?(P=P.toJSON(),u.timeInterval=
P.value,u.timeIntervalUnits=P.unit):(u.timeInterval=null,u.timeIntervalUnits=null)};G.clone=function(){const {cumulative:P,endField:u,hasLiveData:O,interval:Q,startField:J,timeReference:B,fullTimeExtent:m,trackIdField:y,useTime:b}=this;return new F({cumulative:P,endField:u,hasLiveData:O,interval:Q,startField:J,timeReference:p.clone(B),fullTimeExtent:p.clone(m),trackIdField:y,useTime:b})};return k}(n.JSONSupport);a.__decorate([v.property({type:Boolean,json:{read:{source:"exportOptions.timeDataCumulative"},
write:{target:"exportOptions.timeDataCumulative"}}})],n.prototype,"cumulative",void 0);a.__decorate([v.property({type:String,json:{read:{source:"endTimeField"},write:{target:"endTimeField",allowNull:!0}}})],n.prototype,"endField",void 0);a.__decorate([v.property({type:E,json:{write:{enabled:!0,allowNull:!0}}})],n.prototype,"fullTimeExtent",void 0);a.__decorate([t.reader("fullTimeExtent",["timeExtent"])],n.prototype,"readFullTimeExtent",null);a.__decorate([K.writer("fullTimeExtent")],n.prototype,"writeFullTimeExtent",
null);a.__decorate([v.property({type:Boolean,json:{write:!0}})],n.prototype,"hasLiveData",void 0);a.__decorate([v.property({type:M,json:{write:{enabled:!0,allowNull:!0}}})],n.prototype,"interval",void 0);a.__decorate([t.reader("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],n.prototype,"readInterval",null);a.__decorate([K.writer("interval")],n.prototype,"writeInterval",null);a.__decorate([v.property({type:String,json:{read:{source:"startTimeField"},
write:{target:"startTimeField",allowNull:!0}}})],n.prototype,"startField",void 0);a.__decorate([v.property({type:N,json:{write:{enabled:!0,allowNull:!0}}})],n.prototype,"timeReference",void 0);a.__decorate([v.property({type:String,json:{write:{enabled:!0,allowNull:!0}}})],n.prototype,"trackIdField",void 0);a.__decorate([v.property({type:Boolean,json:{read:{source:"exportOptions.useTime"},write:{target:"exportOptions.useTime"}}})],n.prototype,"useTime",void 0);return n=F=a.__decorate([z.subclass("esri.layers.support.TimeInfo")],
n)})},"esri/TimeExtent":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/JSONSupport ./core/maybe ./core/timeUtils ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/reader ./core/accessorSupport/decorators/subclass ./core/accessorSupport/decorators/writer".split(" "),function(c,a,E,M,n,p,w,v,q,t,z,K){var N;E=N=function(d){function k(P){P=d.call(this,P)||this;P.end=null;P.start=
null;return P}c._inheritsLoose(k,d);var G=k.prototype;G.readEnd=function(P,u){return null!=u.end?new Date(u.end):null};G.writeEnd=function(P,u){u.end=P?P.getTime():null};G.readStart=function(P,u){return null!=u.start?new Date(u.start):null};G.writeStart=function(P,u){u.start=P?P.getTime():null};G.clone=function(){return new N({end:this.end,start:this.start})};G.equals=function(P){if(!P)return!1;const u=M.isSome(this.start)?this.start.getTime():this.start,O=M.isSome(this.end)?this.end.getTime():this.end,
Q=M.isSome(P.start)?P.start.getTime():P.start;P=M.isSome(P.end)?P.end.getTime():P.end;return u===Q&&O===P};G.expandTo=function(P){if(this.isEmpty||this.isAllTime)return this.clone();const u=M.applySome(this.start,Q=>n.truncateDate(Q,P)),O=M.applySome(this.end,Q=>n.offsetDate(n.truncateDate(Q,P),1,P));return new N({start:u,end:O})};G.intersection=function(P){if(!P)return this.clone();if(this.isEmpty||P.isEmpty)return N.empty;if(this.isAllTime)return P.clone();if(P.isAllTime)return this.clone();var u=
M.mapOr(this.start,-Infinity,m=>m.getTime());const O=M.mapOr(this.end,Infinity,m=>m.getTime()),Q=M.mapOr(P.start,-Infinity,m=>m.getTime());P=M.mapOr(P.end,Infinity,m=>m.getTime());let J,B;Q>=u&&Q<=O?J=Q:u>=Q&&u<=P&&(J=u);O>=Q&&O<=P?B=O:P>=u&&P<=O&&(B=P);return isNaN(J)||isNaN(B)?N.empty:(u=new N,u.start=-Infinity===J?null:new Date(J),u.end=Infinity===B?null:new Date(B),u)};G.offset=function(P,u){if(this.isEmpty||this.isAllTime)return this.clone();const O=new N,{start:Q,end:J}=this;M.isSome(Q)&&(O.start=
n.offsetDate(Q,P,u));M.isSome(J)&&(O.end=n.offsetDate(J,P,u));return O};G.union=function(P){if(!P||P.isEmpty)return this.clone();if(this.isEmpty)return P.clone();if(this.isAllTime||P.isAllTime)return h.clone();const u=M.isSome(this.start)&&M.isSome(P.start)?new Date(Math.min(this.start.getTime(),P.start.getTime())):null;P=M.isSome(this.end)&&M.isSome(P.end)?new Date(Math.max(this.end.getTime(),P.end.getTime())):null;return new N({start:u,end:P})};c._createClass(k,[{key:"isAllTime",get:function(){return this.equals(N.allTime)}},
{key:"isEmpty",get:function(){return this.equals(N.empty)}}],[{key:"allTime",get:function(){return h}},{key:"empty",get:function(){return F}}]);return k}(E.JSONSupport);a.__decorate([p.property({type:Date,json:{write:{allowNull:!0}}})],E.prototype,"end",void 0);a.__decorate([t.reader("end")],E.prototype,"readEnd",null);a.__decorate([K.writer("end")],E.prototype,"writeEnd",null);a.__decorate([p.property({readOnly:!0,json:{read:!1}})],E.prototype,"isAllTime",null);a.__decorate([p.property({readOnly:!0,
json:{read:!1}})],E.prototype,"isEmpty",null);a.__decorate([p.property({type:Date,json:{write:{allowNull:!0}}})],E.prototype,"start",void 0);a.__decorate([t.reader("start")],E.prototype,"readStart",null);a.__decorate([K.writer("start")],E.prototype,"writeStart",null);E=N=a.__decorate([z.subclass("esri.TimeExtent")],E);const h=new E,F=new E({start:void 0,end:void 0});return E})},"esri/core/timeUtils":function(){define(["exports","./has"],function(c,a){function E(p,w,v){return 0===p?0:p*M[w]/M[v]}const M=
{milliseconds:1,seconds:1E3,minutes:6E4,hours:36E5,days:864E5,weeks:6048E5,months:26784E5,years:31536E6,decades:31536E7,centuries:31536E8},n={milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",multiplier:1},seconds:{getter:"getSeconds",setter:"setSeconds",multiplier:1},minutes:{getter:"getMinutes",setter:"setMinutes",multiplier:1},hours:{getter:"getHours",setter:"setHours",multiplier:1},days:{getter:"getDate",setter:"setDate",multiplier:1},weeks:{getter:"getDate",setter:"setDate",multiplier:7},
months:{getter:"getMonth",setter:"setMonth",multiplier:1},years:{getter:"getFullYear",setter:"setFullYear",multiplier:1},decades:{getter:"getFullYear",setter:"setFullYear",multiplier:10},centuries:{getter:"getFullYear",setter:"setFullYear",multiplier:100}};c.convertTime=E;c.makeUTCTime=function(p,w,v="milliseconds"){w=new Date(E(w,v,"milliseconds"));w.setUTCFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate());return w};c.offsetDate=function(p,w,v){p=new Date(p.getTime());if(w&&v){const {getter:t,
setter:z,multiplier:K}=n[v];if("months"===v){v=p.getFullYear();var q=p.getMonth()+w;v=new Date(v,q+1,1);v.setDate(0);v=v.getDate();p.getDate()>v&&p.setDate(v)}p[z](p[t]()+w*K)}return p};c.offsetDateUTC=function(p,w,v="milliseconds"){p=p.getTime();w=E(w,v,"milliseconds");return new Date(p+w)};c.resetUTCDate=function(p,w){p=new Date(p.getTime());p.setUTCFullYear(w.getFullYear(),w.getMonth(),w.getDate());return p};c.timeSinceUTCMidnight=function(p,w="milliseconds"){const v=E(p.getUTCHours(),"hours",
"milliseconds"),q=E(p.getUTCMinutes(),"minutes","milliseconds"),t=E(p.getUTCSeconds(),"seconds","milliseconds");p=p.getUTCMilliseconds();return E(v+q+t+p,"milliseconds",w)};c.truncateDate=function(p,w){switch(w){case "milliseconds":return new Date(p.getTime());case "seconds":return new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds());case "minutes":return new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes());case "hours":return new Date(p.getFullYear(),
p.getMonth(),p.getDate(),p.getHours());case "days":return new Date(p.getFullYear(),p.getMonth(),p.getDate());case "weeks":return new Date(p.getFullYear(),p.getMonth(),p.getDate()-p.getDay());case "months":return new Date(p.getFullYear(),p.getMonth(),1);case "years":return new Date(p.getFullYear(),0,1);case "decades":return new Date(p.getFullYear()-p.getFullYear()%10,0,1);case "centuries":return new Date(p.getFullYear()-p.getFullYear()%100,0,1);default:return new Date}};c.truncateLocalTime=function(p){const w=
new Date(0);w.setHours(0);w.setMinutes(0);w.setSeconds(0);w.setMilliseconds(0);w.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate());return w};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/TimeInterval":function(){define("./chunks/_rollupPluginBabelHelpers ./chunks/tslib.es6 ./core/JSONSupport ./core/timeUtils ./core/accessorSupport/decorators/property ./core/arrayUtils ./core/has ./core/accessorSupport/ensureType ./core/accessorSupport/decorators/subclass ./portal/timeUnitKebabDictionary".split(" "),
function(c,a,E,M,n,p,w,v,q,t){var z;E=z=function(K){function N(F){F=K.call(this,F)||this;F.value=0;F.unit="milliseconds";return F}c._inheritsLoose(N,K);var h=N.prototype;h.toMilliseconds=function(){return M.convertTime(this.value,this.unit,"milliseconds")};h.clone=function(){return new z({value:this.value,unit:this.unit})};return N}(E.JSONSupport);a.__decorate([n.property({type:Number,json:{write:!0},nonNullable:!0})],E.prototype,"value",void 0);a.__decorate([n.property({type:t.timeUnitKebabDictionary.apiValues,
json:{type:t.timeUnitKebabDictionary.jsonValues,read:t.timeUnitKebabDictionary.read,write:t.timeUnitKebabDictionary.write},nonNullable:!0})],E.prototype,"unit",void 0);return E=z=a.__decorate([q.subclass("esri.TimeInterval")],E)})},"esri/portal/timeUnitKebabDictionary":function(){define(["exports","../core/jsonMap"],function(c,a){a=a.strict()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",
esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});c.timeUnitKebabDictionary=a;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/TimeReference":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass".split(" "),
function(c,a,E,M,n,p,w,v,q){var t;E=t=function(z){function K(h){h=z.call(this,h)||this;h.respectsDaylightSaving=!1;h.timezone=null;return h}c._inheritsLoose(K,z);var N=K.prototype;N.readRespectsDaylightSaving=function(h,F){return void 0!==F.respectsDaylightSaving?F.respectsDaylightSaving:void 0!==F.respectDaylightSaving?F.respectDaylightSaving:!1};N.clone=function(){const {respectsDaylightSaving:h,timezone:F}=this;return new t({respectsDaylightSaving:h,timezone:F})};return K}(E.JSONSupport);a.__decorate([M.property({type:Boolean,
json:{write:!0}})],E.prototype,"respectsDaylightSaving",void 0);a.__decorate([v.reader("respectsDaylightSaving",["respectsDaylightSaving","respectDaylightSaving"])],E.prototype,"readRespectsDaylightSaving",null);a.__decorate([M.property({type:String,json:{read:{source:"timeZone"},write:{target:"timeZone"}}})],E.prototype,"timezone",void 0);return E=t=a.__decorate([q.subclass("esri.layers.support.TimeReference")],E)})},"esri/rest/support/Query":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../TimeExtent ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/maybe ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/cast ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer ../../core/accessorSupport/ensureType ../../geometry/support/jsonUtils ../../layers/support/source/DataLayerSource ./QuantizationParameters ./StatisticDefinition ../../geometry/SpatialReference ../../geometry/Point".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h,F,d,k,G,P,u){var O;const Q=new n.JSONMap({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});n=new n.JSONMap({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",
esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});p=O=function(J){function B(y){y=J.call(this,y)||this;y.aggregateIds=null;y.cacheHint=void 0;y.compactGeometryEnabled=!1;y.datumTransformation=null;y.defaultSpatialReferenceEnabled=!1;y.distance=void 0;y.dynamicDataSource=void 0;y.formatOf3DObjects=null;y.gdbVersion=null;y.geometry=null;y.geometryPrecision=void 0;y.groupByFieldsForStatistics=null;y.having=null;
y.historicMoment=null;y.maxAllowableOffset=void 0;y.maxRecordCountFactor=1;y.multipatchOption=null;y.num=void 0;y.objectIds=null;y.orderByFields=null;y.outFields=null;y.outSpatialReference=null;y.outStatistics=null;y.parameterValues=null;y.pixelSize=null;y.quantizationParameters=null;y.rangeValues=null;y.relationParameter=null;y.resultType=null;y.returnCentroid=!1;y.returnDistinctValues=!1;y.returnExceededLimitFeatures=!0;y.returnGeometry=!1;y.returnQueryGeometry=!1;y.returnM=void 0;y.returnZ=void 0;
y.sourceSpatialReference=null;y.spatialRelationship="intersects";y.start=void 0;y.sqlFormat=null;y.text=null;y.timeExtent=null;y.timeReferenceUnknownClient=!1;y.units=null;y.where=null;return y}c._inheritsLoose(B,J);B.from=function(y){return h.ensureClass(O,y)};var m=B.prototype;m.castDatumTransformation=function(y){return"number"===typeof y||"object"===typeof y?y:null};m.writeHistoricMoment=function(y,b){b.historicMoment=y&&y.getTime()};m.writeParameterValues=function(y,b){if(y){const l={};for(const H in y){const S=
y[H];Array.isArray(S)?l[H]=S.map(L=>L instanceof Date?L.getTime():L):l[H]=S instanceof Date?S.getTime():S}b.parameterValues=l}};m.writeStart=function(y,b){b.resultOffset=this.start;b.resultRecordCount=this.num||10;b.where="1\x3d1"};m.writeWhere=function(y,b){b.where=y||"1\x3d1"};m.clone=function(){return new O(w.clone({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,
distance:this.distance,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:v.isSome(this.historicMoment)?new Date(this.historicMoment.getTime()):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,
outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,
returnM:this.returnM,returnZ:this.returnZ,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))};return B}(p.JSONSupport);p.MAX_MAX_RECORD_COUNT_FACTOR=5;a.__decorate([q.property({json:{write:!0}})],p.prototype,"aggregateIds",void 0);a.__decorate([q.property({type:Boolean,
json:{write:!0}})],p.prototype,"cacheHint",void 0);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"compactGeometryEnabled",void 0);a.__decorate([q.property({json:{write:!0}})],p.prototype,"datumTransformation",void 0);a.__decorate([t.cast("datumTransformation")],p.prototype,"castDatumTransformation",null);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"defaultSpatialReferenceEnabled",void 0);a.__decorate([q.property({type:Number,
json:{write:{overridePolicy(J){return{enabled:0<J}}}}})],p.prototype,"distance",void 0);a.__decorate([q.property({type:d.DataLayerSource,json:{write:!0}})],p.prototype,"dynamicDataSource",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],p.prototype,"formatOf3DObjects",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],p.prototype,"gdbVersion",void 0);a.__decorate([q.property({types:E.geometryTypes,json:{read:F.fromJSON,write:!0}})],p.prototype,"geometry",void 0);a.__decorate([q.property({type:Number,
json:{write:!0}})],p.prototype,"geometryPrecision",void 0);a.__decorate([q.property({type:[String],json:{write:!0}})],p.prototype,"groupByFieldsForStatistics",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],p.prototype,"having",void 0);a.__decorate([q.property({type:Date})],p.prototype,"historicMoment",void 0);a.__decorate([N.writer("historicMoment")],p.prototype,"writeHistoricMoment",null);a.__decorate([q.property({type:Number,json:{write:!0}})],p.prototype,"maxAllowableOffset",
void 0);a.__decorate([q.property({type:Number,cast(J){return 1>J?1:J>O.MAX_MAX_RECORD_COUNT_FACTOR?O.MAX_MAX_RECORD_COUNT_FACTOR:J},json:{write:{overridePolicy(J){return{enabled:1<J}}}}})],p.prototype,"maxRecordCountFactor",void 0);a.__decorate([q.property({type:["xyFootprint"],json:{write:!0}})],p.prototype,"multipatchOption",void 0);a.__decorate([q.property({type:Number,json:{read:{source:"resultRecordCount"}}})],p.prototype,"num",void 0);a.__decorate([q.property({json:{write:!0}})],p.prototype,
"objectIds",void 0);a.__decorate([q.property({type:[String],json:{write:!0}})],p.prototype,"orderByFields",void 0);a.__decorate([q.property({type:[String],json:{write:!0}})],p.prototype,"outFields",void 0);a.__decorate([q.property({type:P,json:{name:"outSR",write:!0}})],p.prototype,"outSpatialReference",void 0);a.__decorate([q.property({type:[G],json:{write:{enabled:!0,overridePolicy(){return{enabled:v.isSome(this.outStatistics)&&0<this.outStatistics.length}}}}})],p.prototype,"outStatistics",void 0);
a.__decorate([q.property({json:{write:!0}})],p.prototype,"parameterValues",void 0);a.__decorate([N.writer("parameterValues")],p.prototype,"writeParameterValues",null);a.__decorate([q.property({type:u,json:{write:!0}})],p.prototype,"pixelSize",void 0);a.__decorate([q.property({type:k,json:{write:!0}})],p.prototype,"quantizationParameters",void 0);a.__decorate([q.property({type:[Object],json:{write:!0}})],p.prototype,"rangeValues",void 0);a.__decorate([q.property({type:String,json:{read:{source:"relationParam"},
write:{target:"relationParam",overridePolicy(){return{enabled:"relation"===this.spatialRelationship}}}}})],p.prototype,"relationParameter",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],p.prototype,"resultType",void 0);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"returnCentroid",void 0);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"returnDistinctValues",void 0);a.__decorate([q.property({type:Boolean,json:{default:!0,
write:!0}})],p.prototype,"returnExceededLimitFeatures",void 0);a.__decorate([q.property({type:Boolean,json:{write:!0}})],p.prototype,"returnGeometry",void 0);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"returnQueryGeometry",void 0);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"returnM",void 0);a.__decorate([q.property({type:Boolean,json:{write:{overridePolicy(J){return{enabled:J}}}}})],p.prototype,"returnZ",void 0);a.__decorate([q.property({type:P,
json:{write:!0}})],p.prototype,"sourceSpatialReference",void 0);a.__decorate([z.enumeration(Q,{ignoreUnknown:!1,name:"spatialRel"})],p.prototype,"spatialRelationship",void 0);a.__decorate([q.property({type:Number,json:{read:{source:"resultOffset"}}})],p.prototype,"start",void 0);a.__decorate([N.writer("start"),N.writer("num")],p.prototype,"writeStart",null);a.__decorate([q.property({type:String,json:{write:!0}})],p.prototype,"sqlFormat",void 0);a.__decorate([q.property({type:String,json:{write:!0}})],
p.prototype,"text",void 0);a.__decorate([q.property({type:M,json:{write:!0}})],p.prototype,"timeExtent",void 0);a.__decorate([q.property({type:Boolean,json:{default:!1,write:!0}})],p.prototype,"timeReferenceUnknownClient",void 0);a.__decorate([z.enumeration(n,{ignoreUnknown:!1}),q.property({json:{write:{overridePolicy(J){return{enabled:J&&0<this.distance}}}}})],p.prototype,"units",void 0);a.__decorate([q.property({type:String,json:{write:{overridePolicy(J){return{enabled:null!=J||0<this.start}}}}})],
p.prototype,"where",void 0);a.__decorate([N.writer("where")],p.prototype,"writeWhere",null);return p=O=a.__decorate([K.subclass("esri.rest.support.Query")],p)})},"esri/layers/support/source/DataLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/jsonMap ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/decorators/cast ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/reader ../../../core/accessorSupport/decorators/subclass ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/extensions/serializableProperty/reader ../Field ./MapLayerSource ./QueryTableDataSource ./RasterDataSource ./TableDataSource".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h,F,d,k,G,P){function u(){B||(B=h.createTypeReader({types:O()}));return B}function O(){m||(m={key:"type",base:null,typeMap:{"data-layer":c.DataLayerSource,"map-layer":d.MapLayerSource}});return m}var Q,J;M=M.strict()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});c.JoinTableDataSource=Q=function(y){function b(H){H=y.call(this,H)||this;H.type="join-table";return H}a._inheritsLoose(b,y);var l=b.prototype;l.readLeftTableSource=function(H,
S,L){return u()(H,S,L)};l.castLeftTableSource=function(H){return N.ensureOneOfType(O(),H)};l.readRightTableSource=function(H,S,L){return u()(H,S,L)};l.castRightTableSource=function(H){return N.ensureOneOfType(O(),H)};l.clone=function(){var H,S;const {leftTableKey:L,rightTableKey:D,leftTableSource:f,rightTableSource:x,joinType:V}=this,Z={leftTableKey:L,rightTableKey:D,leftTableSource:null!=(H=null==f?void 0:f.clone())?H:void 0,rightTableSource:null!=(S=null==x?void 0:x.clone())?S:void 0,joinType:V};
return new Q(Z)};return b}(n.JSONSupport);E.__decorate([t.enumeration({joinTable:"join-table"})],c.JoinTableDataSource.prototype,"type",void 0);E.__decorate([p.property({type:String,json:{write:!0}})],c.JoinTableDataSource.prototype,"leftTableKey",void 0);E.__decorate([p.property({type:String,json:{write:!0}})],c.JoinTableDataSource.prototype,"rightTableKey",void 0);E.__decorate([p.property({json:{write:!0}})],c.JoinTableDataSource.prototype,"leftTableSource",void 0);E.__decorate([z.reader("leftTableSource")],
c.JoinTableDataSource.prototype,"readLeftTableSource",null);E.__decorate([q.cast("leftTableSource")],c.JoinTableDataSource.prototype,"castLeftTableSource",null);E.__decorate([p.property({json:{write:!0}})],c.JoinTableDataSource.prototype,"rightTableSource",void 0);E.__decorate([z.reader("rightTableSource")],c.JoinTableDataSource.prototype,"readRightTableSource",null);E.__decorate([q.cast("rightTableSource")],c.JoinTableDataSource.prototype,"castRightTableSource",null);E.__decorate([t.enumeration(M)],
c.JoinTableDataSource.prototype,"joinType",void 0);c.JoinTableDataSource=Q=E.__decorate([K.subclass("esri.layers.support.source.JoinTableDataSource")],c.JoinTableDataSource);let B=null,m=null;q={key:"type",base:null,typeMap:{"join-table":c.JoinTableDataSource,"query-table":k.QueryTableDataSource,raster:G.RasterDataSource,table:P.TableDataSource}};c.DataLayerSource=J=function(y){function b(l){l=y.call(this,l)||this;l.type="data-layer";return l}a._inheritsLoose(b,y);b.prototype.clone=function(){const {fields:l,
dataSource:H}=this;return new J({fields:l,dataSource:H})};return b}(n.JSONSupport);E.__decorate([t.enumeration({dataLayer:"data-layer"})],c.DataLayerSource.prototype,"type",void 0);E.__decorate([p.property({type:[F],json:{write:!0}})],c.DataLayerSource.prototype,"fields",void 0);E.__decorate([p.property({types:q,json:{write:!0}})],c.DataLayerSource.prototype,"dataSource",void 0);c.DataLayerSource=J=E.__decorate([K.subclass("esri.layers.support.source.DataLayerSource")],c.DataLayerSource);c.DataLayerSource.from=
N.ensureType(c.DataLayerSource);Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/Field":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/reader ../../core/accessorSupport/decorators/subclass ./domains ./fieldType".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N){var h;const F=new E.JSONMap({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});E=h=function(d){function k(P){P=d.call(this,P)||this;
P.alias=null;P.defaultValue=void 0;P.description=null;P.domain=null;P.editable=!0;P.length=-1;P.name=null;P.nullable=!0;P.type=null;P.valueType=null;return P}c._inheritsLoose(k,d);var G=k.prototype;G.readDescription=function(P,{description:u}){let O;try{O=JSON.parse(u)}catch(Q){}return O?O.value:null};G.readValueType=function(P,{description:u}){let O;try{O=JSON.parse(u)}catch(Q){}return O?F.fromJSON(O.fieldValueType):null};G.clone=function(){return new h({alias:this.alias,defaultValue:this.defaultValue,
description:this.description,domain:this.domain&&this.domain.clone()||null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType})};return k}(M.JSONSupport);a.__decorate([n.property({type:String,json:{write:!0}})],E.prototype,"alias",void 0);a.__decorate([n.property({type:[String,Number],json:{write:{allowNull:!0}}})],E.prototype,"defaultValue",void 0);a.__decorate([n.property()],E.prototype,"description",void 0);a.__decorate([t.reader("description")],
E.prototype,"readDescription",null);a.__decorate([n.property({types:K.types,json:{read:{reader:K.fromJSON},write:!0}})],E.prototype,"domain",void 0);a.__decorate([n.property({type:Boolean,json:{write:!0}})],E.prototype,"editable",void 0);a.__decorate([n.property({type:v.Integer,json:{write:!0}})],E.prototype,"length",void 0);a.__decorate([n.property({type:String,json:{write:!0}})],E.prototype,"name",void 0);a.__decorate([n.property({type:Boolean,json:{write:!0}})],E.prototype,"nullable",void 0);a.__decorate([q.enumeration(N.kebabDict)],
E.prototype,"type",void 0);a.__decorate([n.property()],E.prototype,"valueType",void 0);a.__decorate([t.reader("valueType",["description"])],E.prototype,"readValueType",null);return E=h=a.__decorate([z.subclass("esri.layers.support.Field")],E)})},"esri/layers/support/domains":function(){define("exports ../../core/has ./CodedValueDomain ./Domain ./InheritedDomain ./RangeDomain".split(" "),function(c,a,E,M,n,p){a={key:"type",base:M,typeMap:{range:p,"coded-value":E,inherited:n}};c.CodedValueDomain=E;
c.DomainBase=M;c.InheritedDomain=n;c.RangeDomain=p;c.fromJSON=function(w){if(!w||!w.type)return null;switch(w.type){case "range":return p.fromJSON(w);case "codedValue":return E.fromJSON(w);case "inherited":return n.fromJSON(w)}return null};c.types=a;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/CodedValueDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./CodedValue ./Domain".split(" "),
function(c,a,E,M,n,p,w,v,q){var t;n=t=function(z){function K(h){h=z.call(this,h)||this;h.codedValues=null;h.type="coded-value";return h}c._inheritsLoose(K,z);var N=K.prototype;N.getName=function(h){let F=null;if(this.codedValues){const d=String(h);this.codedValues.some(k=>{String(k.code)===d&&(F=k.name);return!!F})}return F};N.clone=function(){return new t({codedValues:E.clone(this.codedValues),name:this.name})};return K}(q);a.__decorate([M.property({type:[v.default],json:{write:!0}})],n.prototype,
"codedValues",void 0);a.__decorate([p.enumeration({codedValue:"coded-value"})],n.prototype,"type",void 0);return n=t=a.__decorate([w.subclass("esri.layers.support.CodedValueDomain")],n)})},"esri/layers/support/CodedValue":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass".split(" "),
function(c,a,E,M,n,p,w,v,q){var t;c.CodedValue=t=function(z){function K(N){N=z.call(this,N)||this;N.name=null;N.code=null;return N}a._inheritsLoose(K,z);K.prototype.clone=function(){return new t({name:this.name,code:this.code})};return K}(M.JSONSupport);E.__decorate([n.property({type:String,json:{write:!0}})],c.CodedValue.prototype,"name",void 0);E.__decorate([n.property({type:[String,Number],json:{write:!0}})],c.CodedValue.prototype,"code",void 0);c.CodedValue=t=E.__decorate([q.subclass("esri.layers.support.CodedValue")],
c.CodedValue);c.default=c.CodedValue;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/Domain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass".split(" "),function(c,a,E,M,n,p,w,v,q,t){E=
new E.JSONMap({inherited:"inherited",codedValue:"coded-value",range:"range"});M=function(z){function K(N){N=z.call(this,N)||this;N.name=null;N.type=null;return N}c._inheritsLoose(K,z);return K}(M.JSONSupport);a.__decorate([n.property({type:String,json:{write:!0}})],M.prototype,"name",void 0);a.__decorate([q.enumeration(E)],M.prototype,"type",void 0);return M=a.__decorate([t.subclass("esri.layers.support.Domain")],M)})},"esri/layers/support/InheritedDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Logger ../../core/accessorSupport/ensureType ../../core/arrayUtils ../../core/has ../../core/accessorSupport/set ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(c,a,E,M,n,p,w,v,q,t){var z;E=z=function(K){function N(h){h=K.call(this,h)||this;h.type="inherited";return h}c._inheritsLoose(N,K);N.prototype.clone=function(){return new z};return N}(t);a.__decorate([v.enumeration({inherited:"inherited"})],E.prototype,"type",void 0);return E=z=a.__decorate([q.subclass("esri.layers.support.InheritedDomain")],E)})},"esri/layers/support/RangeDomain":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/accessorSupport/decorators/property ../../core/arrayUtils ../../core/has ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/enumeration ../../core/accessorSupport/decorators/subclass ./Domain".split(" "),
function(c,a,E,M,n,p,w,v,q){var t;M=t=function(z){function K(N){N=z.call(this,N)||this;N.maxValue=null;N.minValue=null;N.type="range";return N}c._inheritsLoose(K,z);K.prototype.clone=function(){return new t({maxValue:this.maxValue,minValue:this.minValue,name:this.name})};return K}(q);a.__decorate([E.property({type:Number,json:{type:[Number],read:{source:"range",reader(z,K){return K.range&&K.range[1]}},write:{enabled:!1,overridePolicy(){return{enabled:null!=this.maxValue&&null==this.minValue}},target:"range",
writer(z,K,N){K[N]=[this.minValue||0,z]}}}})],M.prototype,"maxValue",void 0);a.__decorate([E.property({type:Number,json:{type:[Number],read:{source:"range",reader(z,K){return K.range&&K.range[0]}},write:{target:"range",writer(z,K,N){K[N]=[z,this.maxValue||0]}}}})],M.prototype,"minValue",void 0);a.__decorate([w.enumeration({range:"range"})],M.prototype,"type",void 0);return M=t=a.__decorate([v.subclass("esri.layers.support.RangeDomain")],M)})},"esri/layers/support/fieldType":function(){define(["exports",
"../../core/jsonMap"],function(c,a){a=new a.JSONMap({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml"});c.kebabDict=a;Object.defineProperty(c,"__esModule",
{value:!0})})},"esri/layers/support/source/MapLayerSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),function(c,a,E,M,n,p,w,v,q,t){var z;c.MapLayerSource=z=function(K){function N(h){h=
K.call(this,h)||this;h.type="map-layer";return h}a._inheritsLoose(N,K);N.prototype.clone=function(){const {mapLayerId:h,gdbVersion:F}=this;return new z({mapLayerId:h,gdbVersion:F})};return N}(M.JSONSupport);E.__decorate([q.enumeration({mapLayer:"map-layer"})],c.MapLayerSource.prototype,"type",void 0);E.__decorate([n.property({type:v.Integer,json:{write:!0}})],c.MapLayerSource.prototype,"mapLayerId",void 0);E.__decorate([n.property({type:String,json:{write:!0}})],c.MapLayerSource.prototype,"gdbVersion",
void 0);c.MapLayerSource=z=E.__decorate([t.subclass("esri.layers.support.source.MapLayerSource")],c.MapLayerSource);Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/source/QueryTableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../geometry ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass ../../../geometry/SpatialReference ../../../geometry/support/typeUtils".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N){var h;c.QueryTableDataSource=h=function(F){function d(k){k=F.call(this,k)||this;k.type="query-table";return k}a._inheritsLoose(d,F);d.prototype.clone=function(){var k;const {workspaceId:G,query:P,oidFields:u,spatialReference:O,geometryType:Q}=this,J={workspaceId:G,query:P,oidFields:u,spatialReference:null!=(k=null==O?void 0:O.clone())?k:void 0,geometryType:Q};return new h(J)};return d}(n.JSONSupport);E.__decorate([t.enumeration({queryTable:"query-table"})],c.QueryTableDataSource.prototype,
"type",void 0);E.__decorate([p.property({type:String,json:{write:!0}})],c.QueryTableDataSource.prototype,"workspaceId",void 0);E.__decorate([p.property({type:String,json:{write:!0}})],c.QueryTableDataSource.prototype,"query",void 0);E.__decorate([p.property({type:String,json:{write:!0}})],c.QueryTableDataSource.prototype,"oidFields",void 0);E.__decorate([p.property({type:K,json:{write:!0}})],c.QueryTableDataSource.prototype,"spatialReference",void 0);E.__decorate([t.enumeration(N.featureGeometryTypeKebabDictionary)],
c.QueryTableDataSource.prototype,"geometryType",void 0);c.QueryTableDataSource=h=E.__decorate([z.subclass("esri.layers.support.source.QueryTableDataSource")],c.QueryTableDataSource);Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/source/RasterDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(c,a,E,M,n,p,w,v,q,t){var z;c.RasterDataSource=z=function(K){function N(h){h=K.call(this,h)||this;h.type="raster";return h}a._inheritsLoose(N,K);N.prototype.clone=function(){const {workspaceId:h,dataSourceName:F}=this;return new z({workspaceId:h,dataSourceName:F})};return N}(M.JSONSupport);E.__decorate([q.enumeration({raster:"raster"})],c.RasterDataSource.prototype,"type",void 0);E.__decorate([n.property({type:String,json:{write:!0}})],c.RasterDataSource.prototype,"dataSourceName",void 0);
E.__decorate([n.property({type:String,json:{write:!0}})],c.RasterDataSource.prototype,"workspaceId",void 0);c.RasterDataSource=z=E.__decorate([t.subclass("esri.layers.support.source.RasterDataSource")],c.RasterDataSource);Object.defineProperty(c,"__esModule",{value:!0})})},"esri/layers/support/source/TableDataSource":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../chunks/tslib.es6 ../../../core/JSONSupport ../../../core/accessorSupport/decorators/property ../../../core/arrayUtils ../../../core/has ../../../core/accessorSupport/ensureType ../../../core/accessorSupport/decorators/enumeration ../../../core/accessorSupport/decorators/subclass".split(" "),
function(c,a,E,M,n,p,w,v,q,t){var z;c.TableDataSource=z=function(K){function N(h){h=K.call(this,h)||this;h.type="table";return h}a._inheritsLoose(N,K);N.prototype.clone=function(){const {workspaceId:h,gdbVersion:F,dataSourceName:d}=this;return new z({workspaceId:h,gdbVersion:F,dataSourceName:d})};return N}(M.JSONSupport);E.__decorate([q.enumeration({table:"table"})],c.TableDataSource.prototype,"type",void 0);E.__decorate([n.property({type:String,json:{write:!0}})],c.TableDataSource.prototype,"workspaceId",
void 0);E.__decorate([n.property({type:String,json:{write:!0}})],c.TableDataSource.prototype,"gdbVersion",void 0);E.__decorate([n.property({type:String,json:{write:!0}})],c.TableDataSource.prototype,"dataSourceName",void 0);c.TableDataSource=z=E.__decorate([t.subclass("esri.layers.support.source.TableDataSource")],c.TableDataSource);Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/support/QuantizationParameters":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../geometry ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../geometry/Extent".split(" "),
function(c,a,E,M,n,p,w,v,q,t){var z;E=new M.JSONMap({upperLeft:"upper-left",lowerLeft:"lower-left"});n=z=function(K){function N(h){h=K.call(this,h)||this;h.extent=null;h.mode="view";h.originPosition="upper-left";h.tolerance=1;return h}c._inheritsLoose(N,K);N.prototype.clone=function(){return new z(p.clone({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))};return N}(n.JSONSupport);a.__decorate([w.property({type:t,json:{write:{overridePolicy(){return{enabled:"view"===
this.mode}}}}})],n.prototype,"extent",void 0);a.__decorate([w.property({type:["view","edit"],json:{write:!0}})],n.prototype,"mode",void 0);a.__decorate([w.property({type:String,json:{read:E.read,write:E.write}})],n.prototype,"originPosition",void 0);a.__decorate([w.property({type:Number,json:{write:{overridePolicy(){return{enabled:"view"===this.mode}}}}})],n.prototype,"tolerance",void 0);return n=z=a.__decorate([q.subclass("esri.rest.support.QuantizationParameters")],n)})},"esri/rest/support/StatisticDefinition":function(){define("../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/jsonMap ../../core/JSONSupport ../../core/lang ../../core/accessorSupport/decorators/property ../../core/accessorSupport/ensureType ../../core/accessorSupport/decorators/subclass ../../core/accessorSupport/decorators/writer".split(" "),
function(c,a,E,M,n,p,w,v,q){var t;E=new E.JSONMap({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});M=t=function(z){function K(h){h=z.call(this,h)||this;h.maxPointCount=void 0;h.maxRecordCount=void 0;h.maxVertexCount=void 0;h.onStatisticField=
null;h.outStatisticFieldName=null;h.statisticType=null;h.statisticParameters=null;return h}c._inheritsLoose(K,z);var N=K.prototype;N.writeStatisticParameters=function(h,F){if("percentile-continuous"===this.statisticType||"percentile-discrete"===this.statisticType)F.statisticParameters=n.clone(h)};N.clone=function(){return new t({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,
statisticType:this.statisticType,statisticParameters:n.clone(this.statisticParameters)})};return K}(M.JSONSupport);a.__decorate([p.property({type:Number,json:{write:!0}})],M.prototype,"maxPointCount",void 0);a.__decorate([p.property({type:Number,json:{write:!0}})],M.prototype,"maxRecordCount",void 0);a.__decorate([p.property({type:Number,json:{write:!0}})],M.prototype,"maxVertexCount",void 0);a.__decorate([p.property({type:String,json:{write:!0}})],M.prototype,"onStatisticField",void 0);a.__decorate([p.property({type:String,
json:{write:!0}})],M.prototype,"outStatisticFieldName",void 0);a.__decorate([p.property({type:String,json:{read:{source:"statisticType",reader:E.read},write:{target:"statisticType",writer:E.write}}})],M.prototype,"statisticType",void 0);a.__decorate([p.property({type:Object})],M.prototype,"statisticParameters",void 0);a.__decorate([q.writer("statisticParameters")],M.prototype,"writeStatisticParameters",null);return M=t=a.__decorate([v.subclass("esri.rest.support.StatisticDefinition")],M)})},"esri/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTiledFetcher":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/arrayUtils ../../../../../core/AsyncSequence ../../../../../core/HandleOwner ../../../../../core/handleUtils ../../../../../core/Logger ../../../../../core/maybe ../../../../../core/promiseUtils ../../../../../core/reactiveUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../geometry/Extent ../../../../../geometry/support/aaBoundingRect ../../../../../layers/graphics/featureConversionUtils ../../../../../rest/query/operations/pbfOptimizedFeatureSet ../../../../../rest/query/operations/query ../../../../../rest/support/Query ./PendingFeatureTile".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h,F,d,k,G,P,u,O,Q){const J=v.getLogger("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher");c.FeatureServiceTiledFetcher=function(B){function m(b){b=B.call(this,b)||this;b.tilesOfInterest=[];b.availability=0;b.pendingTiles=new Map;b.pendingEdits=new n.AsyncSequence;b.pendingEditsAbortController=new AbortController;return b}a._inheritsLoose(m,B);var y=m.prototype;y.initialize=function(){this._initializeFetchExtent();this.updatingHandles.add(()=>
this.configuration,()=>this.refresh());this.updatingHandles.add(()=>this.tilesOfInterest,(b,l)=>{M.equals(b,l,({id:H},{id:S})=>H===S)||this._process()},z.sync)};y.destroy=function(){this.pendingTiles.forEach(b=>this._deletePendingTile(b));this.pendingTiles.clear();this.store.destroy();this.tilesOfInterest.length=0;this.pendingEditsAbortController.abort();this.pendingEditsAbortController=null};y.refresh=function(){this.store.refresh();this.pendingTiles.forEach(b=>this._deletePendingTile(b));this._process()};
y.applyEdits=function(b){var l=this;this.pendingEdits.push(b,function(){var H=a._asyncToGenerator(function*(S){if(0!==S.addedFeatures.length||0!==S.updatedFeatures.length||0!==S.deletedFeatures.length){for(const [,L]of l.pendingTiles)L.reset();S={...S,deletedFeatures:S.deletedFeatures.map(({objectId:L,globalId:D})=>L&&-1!==L?L:l._lookupObjectIdByGlobalId(D))};yield l.updatingHandles.addPromise(l.store.processEdits(S,(L,D)=>l._queryFeaturesById(L,D),l.pendingEditsAbortController.signal));l._processPendingTiles()}});
return function(S){return H.apply(this,arguments)}}())};y._initializeFetchExtent=function(){var b=this;if(this.capabilities.query.supportsExtent){var l=t.createTask(function(){var H=a._asyncToGenerator(function*(S){try{var L;const D=yield u.executeQueryForExtent(b.url,new O({where:"1\x3d1",outSpatialReference:b.spatialReference,cacheHint:b.capabilities.query.supportsCacheHint?!0:void 0}),{query:b.configuration.customParameters,signal:S});b.store.extent=d.fromJSON(null==(L=D.data)?void 0:L.extent)}catch(D){t.throwIfAbortError(D),
J.warn("Failed to fetch data extent",D)}});return function(S){return H.apply(this,arguments)}}());this.updatingHandles.addPromise(l.promise.then(()=>this._process()));this.handles.add(w.makeHandle(()=>l.abort()))}};y._process=function(){this._markTilesNotAlive();this._createPendingTiles();this._deletePendingTiles();this._processPendingTiles()};y._markTilesNotAlive=function(){for(const [,b]of this.pendingTiles)b.alive=!1};y._createPendingTiles=function(){var b=this._collectMissingTilesInfo();this._setAvailability(q.isNone(b)?
1:b.coveredArea/b.fullArea);if(!q.isNone(b))for(const {data:l,resolution:H}of b.missingTiles)(b=this.pendingTiles.get(l.id))?(b.resolution=H,b.alive=!0):this._createPendingTile(l,H)};y._collectMissingTilesInfo=function(){let b=null;for(let l=this.tilesOfInterest.length-1;0<=l;l--){const H=this.store.process(this.tilesOfInterest[l],(S,L)=>this._verifyTileComplexity(S,L));q.isNone(b)?b=H:b.prepend(H)}return b};y._deletePendingTiles=function(){for(const [,b]of this.pendingTiles)b.alive||this._deletePendingTile(b)};
y._processPendingTiles=function(){const b={fetchCount:(l,H)=>this._fetchCount(l,H),fetchFeatures:(l,H,S)=>this._fetchFeatures(l,H,S),finish:(l,H)=>this._finishPendingTile(l,H),resume:()=>this._processPendingTiles()};if(this._ensureFetchAllCounts(b))for(const [,l]of this.pendingTiles)this._verifyTileComplexity(this.store.getFeatureCount(l.data),l.resolution)&&this.updatingHandles.addPromise(l.process(b))};y._verifyTileComplexity=function(b,l){return this._verifyVertexComplexity(b)&&this._verifyFeatureDensity(b,
l)};y._verifyVertexComplexity=function(b){return 1E6>b*this.minimumVerticesPerFeature};y._verifyFeatureDensity=function(b,l){if(q.isNone(this.tileInfo))return!1;l*=this.tileSize;return 1>25/(l*l)*b};y._ensureFetchAllCounts=function(b){let l=!0;for(const [,H]of this.pendingTiles)H.state.type<Q.StateType.FETCHED_COUNT&&this.updatingHandles.addPromise(H.process(b)),H.state.type<=Q.StateType.FETCH_COUNT&&(l=!1);return l};y._finishPendingTile=function(b,l){this.store.add(b.data,l);this._deletePendingTile(b);
this._updateAvailability()};y._updateAvailability=function(){const b=this._collectMissingTilesInfo();this._setAvailability(q.isNone(b)?1:b.coveredArea/b.fullArea)};y._setAvailability=function(b){this._set("availability",b)};y._createPendingTile=function(b,l){l=new Q.PendingFeatureTile(b,l);this.pendingTiles.set(b.id,l);return l};y._deletePendingTile=function(b){b.reset();this.pendingTiles.delete(b.data.id)};y._fetchCount=function(){var b=a._asyncToGenerator(function*(l,H){return this.store.fetchCount(l.data,
this.url,this._createCountQuery(l),{query:this.customParameters,timeout:6E5,signal:H})});return function(l,H){return b.apply(this,arguments)}}();y._fetchFeatures=function(){var b=a._asyncToGenerator(function*(l,H,S){let L=0,D,f=0,x=H;for(;;){const V=this._createFeaturesQuery(l),Z=this._setPagingParameters(V,L,x),{features:ja,exceededTransferLimit:oa}=yield this._queryFeatures(V,S);Z&&(L+=q.unwrap(V.num));f+=ja.length;D=D?D.concat(ja):ja;x=H-f;if(!Z||!oa||0>=x)return D}});return function(l,H,S){return b.apply(this,
arguments)}}();y._filterProperties=function(b){return q.isNone(b)?{where:"1\x3d1",gdbVersion:void 0,timeExtent:void 0}:{where:b.where||"1\x3d1",timeExtent:b.timeExtent,gdbVersion:b.gdbVersion}};y._lookupObjectIdByGlobalId=function(b){const l=this.globalIdField,H=this.objectIdField;if(q.isNone(l))throw Error("Expected globalIdField to be defined");let S=null;this.store.featureStore.forEach(L=>{if(b===L.attributes[l]){var D;S=null!=(D=L.objectId)?D:L.attributes[H]}});if(q.isNone(S))throw Error(`Expected to find a feature with globalId ${b}`);
return S};y._queryFeaturesById=function(b,l){const H=this._createFeaturesQuery(null);H.objectIds=b;return this._queryFeatures(H,l)};y._queryFeatures=function(b,l){return this.capabilities.query.supportsFormatPBF?this._queryFeaturesPBF(b,l):this._queryFeaturesJSON(b,l)};y._queryFeaturesPBF=function(){var b=a._asyncToGenerator(function*(l,H){const {sourceSpatialReference:S}=this;({data:l}=yield u.executeQueryPBF(this.url,l,new P.OptimizedFeatureSetParserContext({sourceSpatialReference:S}),{query:this.configuration.customParameters,
timeout:6E5,signal:H}));return G.unquantizeOptimizedFeatureSet(l)});return function(l,H){return b.apply(this,arguments)}}();y._queryFeaturesJSON=function(){var b=a._asyncToGenerator(function*(l,H){const {sourceSpatialReference:S}=this;({data:l}=yield u.executeQuery(this.url,l,S,{query:this.configuration.customParameters,timeout:6E5,signal:H}));return G.convertFromFeatureSet(l,this.objectIdField)});return function(l,H){return b.apply(this,arguments)}}();y._createCountQuery=function(b){b=this._createBaseQuery(b);
this.capabilities.query.supportsCacheHint&&(b.cacheHint=!0);return b};y._createFeaturesQuery=function(b){const l=this._createBaseQuery(b);l.outFields=this.globalIdField?[this.globalIdField,this.objectIdField]:[this.objectIdField];l.returnGeometry=!0;q.isSome(b)&&(this.capabilities.query.supportsResultType?l.resultType="tile":this.capabilities.query.supportsCacheHint&&(l.cacheHint=!0));return l};y._createBaseQuery=function(b){b=new O({returnZ:!1,returnM:!1,geometry:q.isSome(this.tileInfo)&&q.isSome(b)?
k.toExtent(b.data.extent,this.tileInfo.spatialReference):void 0});const l=this.configuration.filter;q.isSome(l)&&(b.where=l.where,b.gdbVersion=l.gdbVersion,b.timeExtent=l.timeExtent);b.outSpatialReference=this.spatialReference;return b};y._setPagingParameters=function(b,l,H){if(!this.capabilities.query.supportsPagination)return!1;const {supportsMaxRecordCountFactor:S,supportsCacheHint:L,tileMaxRecordCount:D,maxRecordCount:f,supportsResultType:x}=this.capabilities.query,V=S?O.MAX_MAX_RECORD_COUNT_FACTOR:
1,Z=V*((x||L)&&D?D:f?f:2E3);b.start=l;S?(b.maxRecordCountFactor=Math.min(V,Math.ceil(H/Z)),b.num=Math.min(H,b.maxRecordCountFactor*Z)):b.num=Math.min(H,Z);return!0};a._createClass(m,[{key:"minimumVerticesPerFeature",get:function(){var b;switch(null==(b=this.store)?void 0:b.featureStore.geometryType){case "esriGeometryPoint":case "esriGeometryMultipoint":return 1;case "esriGeometryPolygon":return 4;case "esriGeometryPolyline":return 2}}},{key:"filter",set:function(b){const l=this._get("filter");b=
this._filterProperties(b);JSON.stringify(l)!==JSON.stringify(b)&&this._set("filter",b)}},{key:"customParameters",set:function(b){const l=this._get("customParameters");JSON.stringify(l)!==JSON.stringify(b)&&this._set("customParameters",b)}},{key:"configuration",get:function(){return{filter:this.filter,customParameters:this.customParameters,tileInfo:this.tileInfo,tileSize:this.tileSize}}},{key:"tileInfo",set:function(b){const l=this._get("tileInfo");l===b||q.isSome(b)&&q.isSome(l)&&JSON.stringify(b)===
JSON.stringify(l)||(this._set("tileInfo",b),this.store.tileInfo=b)}},{key:"tileSize",set:function(b){this._get("tileSize")!==b&&this._set("tileSize",b)}},{key:"updating",get:function(){return this.updatingHandles.updating||this.pendingEdits.updating}},{key:"debugInfo",get:function(){return{numberOfFeatures:this.store.featureStore.numFeatures,tilesOfInterest:this.tilesOfInterest,pendingTiles:Array.from(this.pendingTiles.values()).map(b=>b.debugInfo),storedTiles:this.store.debugInfo}}}]);return m}(p.HandleOwner);
E.__decorate([K.property({constructOnly:!0})],c.FeatureServiceTiledFetcher.prototype,"url",void 0);E.__decorate([K.property({constructOnly:!0})],c.FeatureServiceTiledFetcher.prototype,"objectIdField",void 0);E.__decorate([K.property({constructOnly:!0})],c.FeatureServiceTiledFetcher.prototype,"globalIdField",void 0);E.__decorate([K.property({constructOnly:!0})],c.FeatureServiceTiledFetcher.prototype,"capabilities",void 0);E.__decorate([K.property({constructOnly:!0})],c.FeatureServiceTiledFetcher.prototype,
"sourceSpatialReference",void 0);E.__decorate([K.property({constructOnly:!0})],c.FeatureServiceTiledFetcher.prototype,"spatialReference",void 0);E.__decorate([K.property({constructOnly:!0})],c.FeatureServiceTiledFetcher.prototype,"store",void 0);E.__decorate([K.property({readOnly:!0})],c.FeatureServiceTiledFetcher.prototype,"minimumVerticesPerFeature",null);E.__decorate([K.property()],c.FeatureServiceTiledFetcher.prototype,"filter",null);E.__decorate([K.property()],c.FeatureServiceTiledFetcher.prototype,
"customParameters",null);E.__decorate([K.property({readOnly:!0})],c.FeatureServiceTiledFetcher.prototype,"configuration",null);E.__decorate([K.property()],c.FeatureServiceTiledFetcher.prototype,"tileInfo",null);E.__decorate([K.property()],c.FeatureServiceTiledFetcher.prototype,"tileSize",null);E.__decorate([K.property()],c.FeatureServiceTiledFetcher.prototype,"tilesOfInterest",void 0);E.__decorate([K.property({readOnly:!0})],c.FeatureServiceTiledFetcher.prototype,"updating",null);E.__decorate([K.property({readOnly:!0})],
c.FeatureServiceTiledFetcher.prototype,"availability",void 0);c.FeatureServiceTiledFetcher=E.__decorate([F.subclass("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTiledFetcher")],c.FeatureServiceTiledFetcher);Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/AsyncSequence":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass".split(" "),
function(c,a,E,M,n,p){c.AsyncSequence=function(w){function v(){var t=w.apply(this,arguments)||this;t.updating=!1;t.pending=[];return t}a._inheritsLoose(v,w);var q=v.prototype;q.push=function(t,z){this.pending.push({promise:t,callback:z});1===this.pending.length&&this._process()};q._process=function(){if(this.pending.length){this.updating=!0;var t=this.pending[0];t.promise.then(z=>t.callback(z)).catch(()=>{}).then(()=>{this.pending.shift();this._process()})}else this.updating=!1};return v}(M);E.__decorate([n.property()],
c.AsyncSequence.prototype,"updating",void 0);c.AsyncSequence=E.__decorate([p.subclass("esri.core.AsyncSequence")],c.AsyncSequence);Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/HandleOwner":function(){define("exports ../chunks/_rollupPluginBabelHelpers ../chunks/tslib.es6 ./Accessor ./Handles ./accessorSupport/decorators/property ./accessorSupport/decorators/subclass ../views/support/WatchUpdatingTracking".split(" "),function(c,a,E,M,n,p,w,v){const q=t=>{t=function(z){function K(){return z.apply(this,
arguments)||this}a._inheritsLoose(K,z);K.prototype.destroy=function(){var N,h;this.destroyed||(null==(N=this._get("handles"))?void 0:N.destroy(),null==(h=this._get("updatingHandles"))?void 0:h.destroy())};a._createClass(K,[{key:"handles",get:function(){return this._get("handles")||new n}},{key:"updatingHandles",get:function(){return this._get("updatingHandles")||new v.WatchUpdatingTracking}}]);return K}(t);E.__decorate([p.property({readOnly:!0})],t.prototype,"handles",null);E.__decorate([p.property({readOnly:!0})],
t.prototype,"updatingHandles",null);return t=E.__decorate([w.subclass("esri.core.HandleOwner")],t)};c.HandleOwner=function(t){function z(){return t.apply(this,arguments)||this}a._inheritsLoose(z,t);return z}(q(M));c.HandleOwner=E.__decorate([w.subclass("esri.core.HandleOwner")],c.HandleOwner);c.HandleOwnerMixin=q;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/views/support/WatchUpdatingTracking":function(){define("exports ../../chunks/_rollupPluginBabelHelpers ../../chunks/tslib.es6 ../../core/Accessor ../../core/Handles ../../core/maybe ../../core/reactiveUtils ../../core/scheduling ../../core/accessorSupport/decorators/property ../../core/accessorSupport/decorators/subclass".split(" "),
function(c,a,E,M,n,p,w,v,q,t){c.WatchUpdatingTracking=function(z){function K(){var h=z.apply(this,arguments)||this;h.updating=!1;h.handleId=0;h.handles=new n;h.scheduleHandleId=0;h.pendingPromises=new Set;return h}a._inheritsLoose(K,z);var N=K.prototype;N.destroy=function(){this.removeAll();this.handles.destroy()};N.add=function(h,F,d={}){return this._installWatch(h,F,d,w.watch)};N.addWhen=function(h,F,d={}){return this._installWatch(h,F,d,w.when)};N.addOnCollectionChange=function(h,F,{initial:d=
!1}={}){const k=++this.handleId;this.handles.add([w.on(h,"after-changes",this._createSyncUpdatingCallback(),w.sync),w.on(h,"change",F,{onListenerAdd:d?G=>F({added:G.toArray(),removed:[]}):void 0})],k);return{remove:()=>this.handles.remove(k)}};N.addPromise=function(h){if(p.isNone(h))return h;const F=++this.handleId;this.handles.add({remove:()=>{this.pendingPromises.delete(h)&&(0!==this.pendingPromises.size||this.handles.has(-42)||this._set("updating",!1))}},F);this.pendingPromises.add(h);this._set("updating",
!0);const d=()=>this.handles.remove(F);h.then(d,d);return h};N.removeAll=function(){this.pendingPromises.clear();this.handles.removeAll();this._set("updating",!1)};N._installWatch=function(h,F,d={},k){const G=++this.handleId;d.sync||this._installSyncUpdatingWatch(h,G);h=k(h,F,d);this.handles.add(h,G);return{remove:()=>this.handles.remove(G)}};N._installSyncUpdatingWatch=function(h,F){const d=this._createSyncUpdatingCallback();h=w.watch(h,d,{sync:!0,equals:()=>!1});this.handles.add(h,F);return h};
N._createSyncUpdatingCallback=function(){return()=>{this.handles.remove(-42);++this.scheduleHandleId;const h=this.scheduleHandleId;this._get("updating")||this._set("updating",!0);this.handles.add(v.schedule(()=>{h===this.scheduleHandleId&&(this._set("updating",0<this.pendingPromises.size),this.handles.remove(-42))}),-42)}};return K}(M);E.__decorate([q.property({readOnly:!0})],c.WatchUpdatingTracking.prototype,"updating",void 0);c.WatchUpdatingTracking=E.__decorate([t.subclass("esri.views.support.WatchUpdatingTracking")],
c.WatchUpdatingTracking);c.WatchFlags=void 0;(function(z){z[z.NONE=0]="NONE";z[z.SYNC=1]="SYNC";z[z.INIT=2]="INIT"})(c.WatchFlags||(c.WatchFlags={}));Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfOptimizedFeatureSet":function(){define("exports ../../../core/unitUtils ../../../geometry/support/spatialReferenceUtils ../../../layers/graphics/OptimizedFeature ../../../layers/graphics/OptimizedFeatureSet ../../../layers/graphics/OptimizedGeometry".split(" "),function(c,
a,E,M,n,p){const w=["esriGeometryPoint","esriGeometryMultipoint","esriGeometryPolyline","esriGeometryPolygon"];let v=function(){function q(z){this.options=z;this.geometryTypes=w;this._vertexDimension=this._coordinatePtr=0}var t=q.prototype;t.createFeatureResult=function(){return new n};t.prepareFeatures=function(z){this._vertexDimension=2;z.hasZ&&this._vertexDimension++;z.hasM&&this._vertexDimension++};t.finishFeatureResult=function(z){if(z&&z.features&&z.hasZ&&this.options.sourceSpatialReference&&
z.spatialReference&&!E.equals(z.spatialReference,this.options.sourceSpatialReference)&&!z.spatialReference.vcsWkid){var K=a.getMetersPerVerticalUnitForSR(this.options.sourceSpatialReference),N=a.getMetersPerVerticalUnitForSR(z.spatialReference);K/=N;if(1!==K)for(const h of z.features)if(M.hasGeometry(h))for(z=h.geometry.coords,N=2;N<z.length;N+=3)z[N]*=K}};t.addFeature=function(z,K){z.features.push(K)};t.createFeature=function(){return new M.OptimizedFeature};t.createSpatialReference=function(){return{wkid:0}};
t.createGeometry=function(){return new p};t.addField=function(z,K){z.fields.push(K)};t.allocateCoordinates=function(z){z.coords.length=z.lengths.reduce((K,N)=>K+N,0)*this._vertexDimension;this._coordinatePtr=0};t.addCoordinate=function(z,K){z.coords[this._coordinatePtr++]=K};t.addCoordinatePoint=function(z,K){z.coords.push(K)};t.addLength=function(z,K){z.lengths.push(K)};t.addQueryGeometry=function(z,K){z.queryGeometry=K.queryGeometry;z.queryGeometryType=K.queryGeometryType};t.createPointGeometry=
function(){return new p};return q}();c.OPTIMIZED_GEOMETRY_TYPES=w;c.OptimizedFeatureSetParserContext=v;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/query/operations/query":function(){define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../request ../../../core/maybe ../../../core/urlUtils ../../../geometry/support/jsonUtils ../../../geometry/support/normalizeUtils ../../operations/urlUtils ./pbfQueryUtils ./queryZScale".split(" "),function(c,a,E,M,n,p,w,v,q,t){function z(k,
G){if(G&&"extent"===k.type)return`${k.xmin},${k.ymin},${k.xmax},${k.ymax}`;if(G&&"point"===k.type)return`${k.x},${k.y}`;k=k.toJSON();delete k.spatialReference;return JSON.stringify(k)}function K(k,G){const P=k.geometry,u=k.toJSON();delete u.compactGeometryEnabled;delete u.defaultSpatialReferenceEnabled;const O=k.outSpatialReference;let Q,J;M.isSome(P)&&(Q=P.spatialReference,J=P.spatialReference.wkid||JSON.stringify(P.spatialReference),u.geometryType=p.getJsonType(P),u.geometry=z(P,k.compactGeometryEnabled),
u.inSR=J);u.groupByFieldsForStatistics&&(u.groupByFieldsForStatistics=u.groupByFieldsForStatistics.join(","));u.objectIds&&(u.objectIds=u.objectIds.join(","));u.orderByFields&&(u.orderByFields=u.orderByFields.join(","));!u.outFields||!u.returnDistinctValues&&(null!=G&&G.returnCountOnly||null!=G&&G.returnExtentOnly||null!=G&&G.returnIdsOnly)?delete u.outFields:-1!==u.outFields.indexOf("*")?u.outFields="*":u.outFields=u.outFields.join(",");u.outSR?u.outSR=u.outSR.wkid||JSON.stringify(u.outSR):P&&(u.returnGeometry||
u.returnCentroid)&&(u.outSR=u.inSR);u.returnGeometry&&delete u.returnGeometry;u.outStatistics&&(u.outStatistics=JSON.stringify(u.outStatistics));u.pixelSize&&(u.pixelSize=JSON.stringify(u.pixelSize));u.quantizationParameters&&(k.defaultSpatialReferenceEnabled&&M.isSome(Q)&&M.isSome(k.quantizationParameters)&&M.isSome(k.quantizationParameters.extent)&&Q.equals(k.quantizationParameters.extent.spatialReference)&&delete u.quantizationParameters.extent.spatialReference,u.quantizationParameters=JSON.stringify(u.quantizationParameters));
u.parameterValues&&(u.parameterValues=JSON.stringify(u.parameterValues));u.rangeValues&&(u.rangeValues=JSON.stringify(u.rangeValues));u.dynamicDataSource&&(u.layer=JSON.stringify({source:u.dynamicDataSource}),delete u.dynamicDataSource);if(u.timeExtent){const {start:B,end:m}=u.timeExtent;if(null!=B||null!=m)u.time=B===m?B:`${null==B?"null":B},${null==m?"null":m}`;delete u.timeExtent}k.defaultSpatialReferenceEnabled&&M.isSome(Q)&&M.isSome(O)&&Q.equals(O)&&(u.defaultSR=u.inSR,delete u.inSR,delete u.outSR);
return u}function N(){N=a._asyncToGenerator(function*(k,G,P,u){k=M.isSome(G.timeExtent)&&G.timeExtent.isEmpty?{data:{features:[]}}:yield d(k,G,"json",u);t.applyFeatureSetZUnitScaling(G,P,k.data);return k});return N.apply(this,arguments)}function h(){h=a._asyncToGenerator(function*(k,G,P,u){if(M.isSome(G.timeExtent)&&G.timeExtent.isEmpty)return Promise.resolve({data:P.createFeatureResult()});k=yield F(k,G,u);k.data=q.parsePBFFeatureQuery(k.data,P);return k});return h.apply(this,arguments)}function F(k,
G,P){return d(k,G,"pbf",P)}function d(k,G,P,u={},O={}){const Q="string"===typeof k?n.urlToObject(k):k;k=G.geometry?[G.geometry]:[];u.responseType="pbf"===P?"array-buffer":"json";return w.normalizeCentralMeridian(k,null,u).then(J=>{J=J&&J[0];M.isSome(J)&&(G=G.clone(),G.geometry=J);J=v.mapParameters({...Q.query,f:P,...O,...K(G,O)});return E(n.join(Q.path,"query"),{...u,query:{...J,...u.query}})})}c.encodeGeometry=z;c.executeQuery=function(k,G,P,u){return N.apply(this,arguments)};c.executeQueryForCount=
function(k,G,P){return M.isSome(G.timeExtent)&&G.timeExtent.isEmpty?Promise.resolve({data:{count:0}}):d(k,G,"json",P,{returnIdsOnly:!0,returnCountOnly:!0})};c.executeQueryForExtent=function(k,G,P){return M.isSome(G.timeExtent)&&G.timeExtent.isEmpty?Promise.resolve({data:{count:0,extent:null}}):d(k,G,"json",P,{returnExtentOnly:!0,returnCountOnly:!0}).then(u=>{const O=u.data;if(O.hasOwnProperty("extent"))return u;if(O.features)throw Error("Layer does not support extent calculation.");if(O.hasOwnProperty("count"))throw Error("Layer does not support extent calculation.");
return u})};c.executeQueryForIds=function(k,G,P){return M.isSome(G.timeExtent)&&G.timeExtent.isEmpty?Promise.resolve({data:{objectIds:[]}}):d(k,G,"json",P,{returnIdsOnly:!0})};c.executeQueryPBF=function(k,G,P,u){return h.apply(this,arguments)};c.executeQueryPBFBuffer=F;c.queryToQueryStringParameters=K;c.runQuery=d;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/operations/urlUtils":function(){define(["exports"],function(c){function a(E){const M={};for(const n in E){if("declaredClass"===
n)continue;const p=E[n];if(null!=p&&"function"!==typeof p)if(Array.isArray(p)){M[n]=[];for(let w=0;w<p.length;w++)M[n][w]=a(p[w])}else"object"===typeof p?p.toJSON&&(M[n]=JSON.stringify(p)):M[n]=p}return M}c.mapParameters=a;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfQueryUtils":function(){define(["exports","./pbfFeatureServiceParser"],function(c,a){c.parsePBFFeatureQuery=function(E,M){var n=a.parseFeatureQuery(E,M);E=n.queryResult.featureResult;M=n.queryResult.queryGeometry;
n=n.queryResult.queryGeometryType;if(E&&E.features&&E.features.length&&E.objectIdFieldName){const p=E.objectIdFieldName;for(const w of E.features)w.attributes&&(w.objectId=w.attributes[p])}E&&(E.queryGeometry=M,E.queryGeometryType=n);return E};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/query/operations/pbfFeatureServiceParser":function(){define("exports ../../../core/Error ../../../core/maybe ../../../core/pbf ../../../layers/graphics/OptimizedGeometry ./pbfOptimizedFeatureSet".split(" "),
function(c,a,E,M,n,p){function w(m){return m>=Q.length?null:Q[m]}function v(m,y,b){for(b=y.createPointGeometry(b);m.next();)switch(m.tag()){case 3:{var l=m.getUInt32();l=m.pos()+l;let H=0;for(;m.pos()<l;)y.addCoordinatePoint(b,m.getSInt64(),H++);break}default:m.skip()}return b}function q(m,y,b){const l=y.createGeometry(b);for(b=2+(b.hasZ?1:0)+(b.hasM?1:0);m.next();)switch(m.tag()){case 2:var H=m.getUInt32();H=m.pos()+H;for(var S=0;m.pos()<H;)y.addLength(l,m.getUInt32(),S++);break;case 3:H=m.getUInt32();
H=m.pos()+H;S=0;for(y.allocateCoordinates(l);m.pos()<H;)y.addCoordinate(l,m.getSInt64(),S),S++,S===b&&(S=0);break;default:m.skip()}return l}function t(m){const y=new n;let b="esriGeometryPoint";for(;m.next();)switch(m.tag()){case 2:var l=m.getUInt32();for(l=m.pos()+l;m.pos()<l;)y.lengths.push(m.getUInt32());break;case 3:l=m.getUInt32();for(l=m.pos()+l;m.pos()<l;)y.coords.push(m.getSInt64());break;case 1:b=p.OPTIMIZED_GEOMETRY_TYPES[m.getEnum()];break;default:m.skip()}return{queryGeometry:y,queryGeometryType:b}}
function z(m){for(;m.next();)switch(m.tag()){case 1:return m.getString();case 2:return m.getFloat();case 3:return m.getDouble();case 4:return m.getSInt32();case 5:return m.getUInt32();case 6:return m.getInt64();case 7:return m.getUInt64();case 8:return m.getSInt64();case 9:return m.getBool();default:return m.skip(),null}return null}function K(m){const y={type:w(0)};for(;m.next();)switch(m.tag()){case 1:y.name=m.getString();break;case 2:y.type=w(m.getEnum());break;case 3:y.alias=m.getString();break;
case 4:var b=m.getEnum();b=b>=J.length?null:J[b];y.sqlType=b;break;case 5:m.skip();break;case 6:y.defaultValue=m.getString();break;default:m.skip()}return y}function N(m){const y={};for(;m.next();)switch(m.tag()){case 1:y.name=m.getString();break;case 2:y.isSystemMaintained=m.getBool();break;default:m.skip()}return y}function h(m,y,b,l){const H=y.createFeature(b);let S=0;for(;m.next();)switch(m.tag()){case 1:{const L=l[S++].name;H.attributes[L]=m.processMessage(z);break}case 2:H.geometry=m.processMessageWithArgs(q,
y,b);break;case 4:H.centroid=m.processMessageWithArgs(v,y,b);break;default:m.skip()}return H}function F(m){const y=[1,1,1,1];for(;m.next();)switch(m.tag()){case 1:y[0]=m.getDouble();break;case 2:y[1]=m.getDouble();break;case 4:y[2]=m.getDouble();break;case 3:y[3]=m.getDouble();break;default:m.skip()}return y}function d(m){const y=[0,0,0,0];for(;m.next();)switch(m.tag()){case 1:y[0]=m.getDouble();break;case 2:y[1]=m.getDouble();break;case 4:y[2]=m.getDouble();break;case 3:y[3]=m.getDouble();break;
default:m.skip()}return y}function k(m){const y={originPosition:0>=B.length?null:B[0]};for(;m.next();)switch(m.tag()){case 1:var b=m.getEnum();y.originPosition=b>=B.length?null:B[b];break;case 2:y.scale=m.processMessage(F);break;case 3:y.translate=m.processMessage(d);break;default:m.skip()}return y}function G(m){const y={};for(;m.next();)switch(m.tag()){case 1:y.shapeAreaFieldName=m.getString();break;case 2:y.shapeLengthFieldName=m.getString();break;case 3:y.units=m.getString();break;default:m.skip()}return y}
function P(m,y){for(y=y.createSpatialReference();m.next();)switch(m.tag()){case 1:y.wkid=m.getUInt32();break;case 5:y.wkt=m.getString();break;case 2:y.latestWkid=m.getUInt32();break;case 3:y.vcsWkid=m.getUInt32();break;case 4:y.latestVcsWkid=m.getUInt32();break;default:m.skip()}return y}function u(m,y){const b=y.createFeatureResult();b.geometryType=0>=y.geometryTypes.length?null:y.geometryTypes[0];let l=!1;for(;m.next();)switch(m.tag()){case 1:b.objectIdFieldName=m.getString();break;case 3:b.globalIdFieldName=
m.getString();break;case 4:b.geohashFieldName=m.getString();break;case 5:b.geometryProperties=m.processMessage(G);break;case 7:var H=m.getEnum();b.geometryType=H>=y.geometryTypes.length?null:y.geometryTypes[H];break;case 8:b.spatialReference=m.processMessageWithArgs(P,y);break;case 10:b.hasZ=m.getBool();break;case 11:b.hasM=m.getBool();break;case 12:b.transform=m.processMessage(k);break;case 9:H=m.getBool();b.exceededTransferLimit=H;break;case 13:y.addField(b,m.processMessage(K));break;case 15:l||
(y.prepareFeatures(b),l=!0);y.addFeature(b,m.processMessageWithArgs(h,y,b,b.fields));break;case 2:b.uniqueIdField=m.processMessage(N);break;default:m.skip()}y.finishFeatureResult(b);return b}function O(m,y){const b={};let l=null;for(;m.next();)switch(m.tag()){case 4:l=m.processMessageWithArgs(t);break;case 1:b.featureResult=m.processMessageWithArgs(u,y);break;default:m.skip()}E.isSome(l)&&b.featureResult&&y.addQueryGeometry(b,l);return b}const Q="esriFieldTypeSmallInteger esriFieldTypeInteger esriFieldTypeSingle esriFieldTypeDouble esriFieldTypeString esriFieldTypeDate esriFieldTypeOID esriFieldTypeGeometry esriFieldTypeBlob esriFieldTypeRaster esriFieldTypeGUID esriFieldTypeGlobalID esriFieldTypeXML".split(" "),
J="sqlTypeBigInt sqlTypeBinary sqlTypeBit sqlTypeChar sqlTypeDate sqlTypeDecimal sqlTypeDouble sqlTypeFloat sqlTypeGeometry sqlTypeGUID sqlTypeInteger sqlTypeLongNVarchar sqlTypeLongVarbinary sqlTypeLongVarchar sqlTypeNChar sqlTypeNVarchar sqlTypeOther sqlTypeReal sqlTypeSmallInt sqlTypeSqlXml sqlTypeTime sqlTypeTimestamp sqlTypeTimestamp2 sqlTypeTinyInt sqlTypeVarbinary sqlTypeVarchar".split(" "),B=["upperLeft","lowerLeft"];c.parseFeatureQuery=function(m,y){try{const b=new M(new Uint8Array(m),new DataView(m));
for(m={};b.next();)switch(b.tag()){case 2:m.queryResult=b.processMessageWithArgs(O,y);break;default:b.skip()}return m}catch(b){throw new a("query:parsing-pbf","Error while parsing FeatureSet PBF payload",{error:b});}};c.parseFieldType=w;c.parseTransform=k;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/rest/query/operations/queryZScale":function(){define(["exports","../../../core/maybe","../../../geometry/support/zscale"],function(c,a,E){c.applyFeatureSetZUnitScaling=function(M,n,p){if(p&&
p.features&&p.hasZ&&(M=E.getGeometryZScaler(p.geometryType,n,M.outSpatialReference),!a.isNone(M)))for(const w of p.features)M(w.geometry)};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/views/interactive/snapping/featureSources/featureServiceSource/PendingFeatureTile":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../core/asyncUtils ../../../../../core/maybe ../../../../../core/promiseUtils ../../../../../geometry/support/aaBoundingRect".split(" "),
function(c,a,E,M,n,p){let w=function(){function q(z,K){this.data=z;this.resolution=K;this.state={type:c.StateType.CREATED};this.alive=!0}var t=q.prototype;t.process=function(z){switch(this.state.type){case c.StateType.CREATED:return this.state=this._gotoFetchCount(this.state,z),this.state.task.promise.then(z.resume,z.resume);case c.StateType.FETCHED_COUNT:return this.state=this._gotoFetchFeatures(this.state,z),this.state.task.promise.then(z.resume,z.resume);case c.StateType.FETCHED_FEATURES:this.state=
this._goToDone(this.state,z)}return null};t._gotoFetchCount=function(z,K){var N=this;return{type:c.StateType.FETCH_COUNT,previous:z,task:n.createTask(function(){var h=a._asyncToGenerator(function*(F){F=yield E.resultOrAbort(K.fetchCount(N,F));N.state.type===c.StateType.FETCH_COUNT&&(N.state=N._gotoFetchedCount(N.state,F.ok?F.value:Infinity))});return function(F){return h.apply(this,arguments)}}())}};t._gotoFetchedCount=function(z,K){return{type:c.StateType.FETCHED_COUNT,featureCount:K,previous:z}};
t._gotoFetchFeatures=function(z,K){var N=this;return{type:c.StateType.FETCH_FEATURES,previous:z,task:n.createTask(function(){var h=a._asyncToGenerator(function*(F){F=yield E.resultOrAbort(K.fetchFeatures(N,z.featureCount,F));N.state.type===c.StateType.FETCH_FEATURES&&(N.state=N._gotoFetchedFeatures(N.state,F.ok?F.value:[]))});return function(F){return h.apply(this,arguments)}}())}};t._gotoFetchedFeatures=function(z,K){return{type:c.StateType.FETCHED_FEATURES,previous:z,features:K}};t._goToDone=function(z,
K){K.finish(this,z.features);return{type:c.StateType.DONE,previous:z}};t.reset=function(){const z=this.state;this.state={type:c.StateType.CREATED};switch(z.type){case c.StateType.FETCH_COUNT:case c.StateType.FETCH_FEATURES:z.task.abort()}};t.intersects=function(z){if(M.isNone(z)||!this.data.extent)return!0;p.fromExtent(z,v);return p.intersects(this.data.extent,v)};a._createClass(q,[{key:"debugInfo",get:function(){return{data:this.data,featureCount:this.featureCount,state:this.stateToString}}},{key:"featureCount",
get:function(){switch(this.state.type){case c.StateType.CREATED:case c.StateType.FETCH_COUNT:return 0;case c.StateType.FETCHED_COUNT:return this.state.featureCount;case c.StateType.FETCH_FEATURES:return this.state.previous.featureCount;case c.StateType.FETCHED_FEATURES:return this.state.features.length;case c.StateType.DONE:return this.state.previous.features.length}}},{key:"stateToString",get:function(){switch(this.state.type){case c.StateType.CREATED:return"created";case c.StateType.FETCH_COUNT:return"fetch-count";
case c.StateType.FETCHED_COUNT:return"fetched-count";case c.StateType.FETCH_FEATURES:return"fetch-features";case c.StateType.FETCHED_FEATURES:return"fetched-features";case c.StateType.DONE:return"done"}}}]);return q}();c.StateType=void 0;(function(q){q[q.CREATED=0]="CREATED";q[q.FETCH_COUNT=1]="FETCH_COUNT";q[q.FETCHED_COUNT=2]="FETCHED_COUNT";q[q.FETCH_FEATURES=3]="FETCH_FEATURES";q[q.FETCHED_FEATURES=4]="FETCHED_FEATURES";q[q.DONE=5]="DONE"})(c.StateType||(c.StateType={}));const v=p.create();c.PendingFeatureTile=
w;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/asyncUtils":function(){define(["exports","./maybe","./promiseUtils"],function(c,a,E){c.assertResult=function(M){if(!0===M.ok)return M.value;throw M.error;};c.forEach=function(M,n,p){return E.eachAlways(M.map((w,v)=>n.apply(p,[w,v])))};c.map=function(M,n,p){return E.eachAlways(M.map((w,v)=>n.apply(p,[w,v]))).then(w=>w.map(v=>v.value))};c.result=function(M){return a.isNone(M)?E.resolve():M.then(n=>({ok:!0,value:n})).catch(n=>({ok:!1,error:n}))};
c.resultOrAbort=function(M){return M.then(n=>({ok:!0,value:n})).catch(n=>{E.throwIfAbortError(n);return{ok:!1,error:n}})};Object.defineProperty(c,"__esModule",{value:!0})})},"esri/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileStore":function(){define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Accessor ../../../../../core/byteSizeEstimations ../../../../../core/maybe ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../geometry/support/aaBoundingRect ../../../../../layers/graphics/featureConversionUtils ../../../../../layers/graphics/data/BoundsStore ../../../../../layers/support/TileInfo ../../../../../rest/query/operations/query ./FeatureServiceTileCache".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h,F,d,k){function G(B){return B.reduce((m,y)=>{var b=y.geometry;if(p.isNone(b))b=0;else{var l=n.estimateFixedArraySize(b.lengths,4);b=32+n.estimateFixedArraySize(b.coords,8)+l}y=32+b+n.estimateAttributesObjectSize(y.attributes);return m+y},0)}c.FeatureServiceTileStore=function(B){function m(b){b=B.call(this,b)||this;b.tileInfo=null;b.extent=null;b.maximumByteSize=10*n.ByteSizeUnit.MEGABYTES;b.tileBounds=new h.BoundsStore;b.tiles=new k.FeatureServiceTileCache;b.refCounts=
new Map;b.tileFeatureCounts=new Map;b.tmpBoundingRect=K.create();return b}a._inheritsLoose(m,B);var y=m.prototype;y.add=function(b,l){const H=[];for(const S of l)this._referenceFeature(S.objectId)===J.ADDED&&H.push(S);this._addTileStorage(b,new Set(l.map(({objectId:S})=>S)),G(l));this.featureStore.addMany(H);this.tiles.applyByteSizeLimit(this.maximumByteSize,S=>this._removeTileStorage(S))};y.destroy=function(){this.clear();this.tileFeatureCounts.clear()};y.clear=function(){this.featureStore.clear();
this.tileBounds.clear();this.tiles.clear();this.refCounts.clear()};y.refresh=function(){this.clear();this.tileFeatureCounts.clear()};y.processEdits=function(b,l,H){this._processEditsDelete(b.deletedFeatures.concat(b.updatedFeatures));return this._processEditsRefetch(b.addedFeatures.concat(b.updatedFeatures),l,H)};y._addTileStorage=function(b,l,H){this.tiles.set(b.id,new P(b,l,H));this.tileBounds.set(b.id,b.extent);this.tileFeatureCounts.set(b.id,l.size)};y._remove=function({id:b}){(b=this.tiles.get(b))&&
this._removeTileStorage(b)};y._removeTileStorage=function(b){const l=[];for(const H of b.objectIds)this._unreferenceFeature(H)===J.REMOVED&&l.push(H);this.featureStore.removeManyById(l);b=b.data.id;this.tiles.delete(b);this.tileBounds.delete(b)};y._processEditsDelete=function(b){this.featureStore.removeManyById(b);for(const [,l]of this.tiles){for(const H of b)l.objectIds.delete(H);this.tileFeatureCounts.set(l.data.id,l.objectIds.size)}for(const l of b)this.refCounts.delete(l)};y._processEditsRefetch=
function(){var b=a._asyncToGenerator(function*(l,H,S){l=(yield H(l,S)).features;const {hasZ:L,hasM:D}=this.featureStore;for(const f of l)l=N.getBoundsOptimizedGeometry(this.tmpBoundingRect,f.geometry,L,D),p.isNone(l)||this.tileBounds.forEachInBounds(l,x=>{x=this.tiles.get(x);this.featureStore.add(f);x.objectIds.has(f.objectId)||(x.objectIds.add(f.objectId),this._referenceFeature(f.objectId),this.tileFeatureCounts.set(x.data.id,x.objectIds.size))})});return function(l,H,S){return b.apply(this,arguments)}}();
y.process=function(b,l=()=>!0){if(p.isNone(this.tileInfo)||!b.extent||p.isSome(this.extent)&&!K.intersects(K.fromExtent(this.extent,this.tmpBoundingRect),b.extent)||this.tiles.has(b.id))return new O(b);const H=this._createTileTree(b,this.tileInfo);this._simplify(H,l,null,0,1);return this._collectMissingTiles(b,H,this.tileInfo)};y.getFeatureCount=function(b){b=this.tileFeatureCounts.get(b.id);return null!=b?b:0};y.fetchCount=function(){var b=a._asyncToGenerator(function*(l,H,S,L){const D=this.tileFeatureCounts.get(l.id);
if(null!=D)return D;H=yield d.executeQueryForCount(H,S,L);this.tileFeatureCounts.set(l.id,H.data.count);return H.data.count});return function(l,H,S,L){return b.apply(this,arguments)}}();y._createTileTree=function(b,l){const H=new u(b.level,b.row,b.col);l.updateTileInfo(H,F.ExtrapolateOptions.POWER_OF_TWO);this.tileBounds.forEachInBounds(b.extent,S=>{S=this.tiles.get(S).data;this._tilesAreRelated(b,S)&&this._populateChildren(H,S,l,this.tileFeatureCounts.get(S.id)||0)});return H};y._tilesAreRelated=
function(b,l){if(!b||!l)return!1;if(b.level===l.level)return b.row===l.row&&b.col===l.col;const H=b.level<l.level,S=H?b:l;b=H?l:b;l=1<<b.level-S.level;return Math.floor(b.row/l)===S.row&&Math.floor(b.col/l)===S.col};y._populateChildren=function(b,l,H,S){var L=l.level-b.level-1;if(0>L)b.isLeaf=!0;else{var D=l.row>>L,f=l.col>>L;L=(D-(b.row<<1)<<1)+(f-(b.col<<1));var x=b.children[L];p.isSome(x)?this._populateChildren(x,l,H,S):(D=new u(b.level+1,D,f),H.updateTileInfo(D,F.ExtrapolateOptions.POWER_OF_TWO),
b.children[L]=D,this._populateChildren(D,l,H,S))}};y._simplify=function(b,l,H,S,L){const D=L*L;if(b.isLeaf)return l(this.getFeatureCount(b),L)?0:(this._remove(b),p.isSome(H)&&(H.children[S]=null),D);L/=2;const f=L*L;let x=0;for(let V=0;V<b.children.length;V++){const Z=b.children[V];x+=p.isSome(Z)?this._simplify(Z,l,b,V,L):f}0===x?this._mergeChildren(b):.18751>1-x/D&&(this._purge(b),p.isSome(H)&&(H.children[S]=null),x=D);return x};y._mergeChildren=function(b){const l=new Set;let H=0;this._forEachLeaf(b,
S=>{const L=this.tiles.get(S.id);if(L){H+=L.byteSize;for(const D of L.objectIds)l.has(D)||(l.add(D),this._referenceFeature(D));this._remove(S)}});this._addTileStorage(b,l,H);b.isLeaf=!0;b.children[0]=b.children[1]=b.children[2]=b.children[3]=null;this.tileFeatureCounts.set(b.id,l.size)};y._forEachLeaf=function(b,l){for(const H of b.children)p.isNone(H)||(H.isLeaf?l(H):this._forEachLeaf(H,l))};y._purge=function(b){if(!p.isNone(b))if(b.isLeaf)this._remove(b);else for(let l=0;l<b.children.length;l++)this._purge(b.children[l]),
b.children[l]=null};y._collectMissingTiles=function(b,l,H){b=new Q(H,b,this.extent);this._collectMissingTilesRecurse(l,b,1);return b.info};y._collectMissingTilesRecurse=function(b,l,H){if(!b.isLeaf)if(b.hasChildren){H/=2;for(let S=0;S<b.children.length;S++){const L=b.children[S];p.isNone(L)?l.addMissing(b.level+1,(b.row<<1)+((S&2)>>1),(b.col<<1)+(S&1),H):this._collectMissingTilesRecurse(L,l,H)}}else l.addMissing(b.level,b.row,b.col,H)};y._referenceFeature=function(b){const l=(this.refCounts.get(b)||
0)+1;this.refCounts.set(b,l);return 1===l?J.ADDED:J.UNCHANGED};y._unreferenceFeature=function(b){const l=(this.refCounts.get(b)||0)-1;if(0===l)return this.refCounts.delete(b),J.REMOVED;0<l&&this.refCounts.set(b,l);return J.UNCHANGED};a._createClass(m,[{key:"debugInfo",get:function(){return Array.from(this.tiles.values()).map(({data:b})=>({data:b,featureCount:this.tileFeatureCounts.get(b.id)||0}))}},{key:"test",get:function(){return{tiles:Array.from(this.tiles.values()).map(b=>`${b.data.id}:[${Array.from(b.objectIds)}]`),
featureReferences:Array.from(this.refCounts.keys()).map(b=>`${b}:${this.refCounts.get(b)}`)}}}]);return m}(M);E.__decorate([w.property({constructOnly:!0})],c.FeatureServiceTileStore.prototype,"featureStore",void 0);E.__decorate([w.property()],c.FeatureServiceTileStore.prototype,"tileInfo",void 0);E.__decorate([w.property()],c.FeatureServiceTileStore.prototype,"extent",void 0);E.__decorate([w.property()],c.FeatureServiceTileStore.prototype,"maximumByteSize",void 0);c.FeatureServiceTileStore=E.__decorate([z.subclass("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceTileStore")],
c.FeatureServiceTileStore);let P=function(B,m,y){this.data=B;this.objectIds=m;this.byteSize=y},u=function(){function B(m,y,b){this.level=m;this.row=y;this.col=b;this.isLeaf=!1;this.extent=null;this.children=[null,null,null,null]}a._createClass(B,[{key:"hasChildren",get:function(){return!this.isLeaf&&(p.isSome(this.children[0])||p.isSome(this.children[1])||p.isSome(this.children[2])||p.isSome(this.children[3]))}}]);return B}(),O=function(){function B(m,y=[]){this.missingTiles=y;this.coveredArea=this.fullArea=
0;this.coveredArea=this.fullArea=K.area(m.extent)}B.prototype.prepend=function(m){this.missingTiles=m.missingTiles.concat(this.missingTiles);this.coveredArea+=m.coveredArea;this.fullArea+=m.fullArea};return B}(),Q=function(){function B(m,y,b){this.tileInfo=m;this.extent=null;this.info=new O(y);p.isSome(b)&&(this.extent=K.fromExtent(b))}B.prototype.addMissing=function(m,y,b,l){m={id:null,level:m,row:y,col:b};this.tileInfo.updateTileInfo(m,F.ExtrapolateOptions.POWER_OF_TWO);!p.isSome(m.extent)||p.isSome(this.extent)&&
!K.intersects(this.extent,m.extent)||(this.info.missingTiles.push({data:m,resolution:l}),this.info.coveredArea-=K.area(m.extent))};return B}();var J;(function(B){B[B.ADDED=0]="ADDED";B[B.REMOVED=1]="REMOVED";B[B.UNCHANGED=2]="UNCHANGED"})(J||(J={}));c.ProcessResult=O;Object.defineProperty(c,"__esModule",{value:!0})})},"esri/core/byteSizeEstimations":function(){define(["exports"],function(c){function a(E){return 32+E.length}c.ByteSizeUnit=void 0;(function(E){E[E.KILOBYTES=1024]="KILOBYTES";E[E.MEGABYTES=
1048576]="MEGABYTES";E[E.GIGABYTES=1073741824]="GIGABYTES"})(c.ByteSizeUnit||(c.ByteSizeUnit={}));c.estimateAttributesObjectSize=function(E){if(!E)return 0;let M=32;for(const n in E)if(E.hasOwnProperty(n)){const p=E[n];switch(typeof p){case "string":M+=a(p);break;case "number":M+=16;break;case "boolean":M+=4}}return M};c.estimateFixedArraySize=function(E,M){return 32+E.length*M};c.estimateNumberByteSize=function(){return 16};c.estimateStringByteSize=a;Object.defineProperty(c,"__esModule",{value:!0})})},
"esri/views/interactive/snapping/featureSources/featureServiceSource/FeatureServiceTileCache":function(){define(["exports"],function(c){let a=function(E){function M(){this._store=new Map;this._byteSize=0}var n=M.prototype;n.set=function(p,w){this.delete(p);this._store.set(p,w);this._byteSize+=w.byteSize};n.delete=function(p){const w=this._store.get(p);return this._store.delete(p)?(this._byteSize-=w.byteSize,!0):!1};n.get=function(p){this._used(p);return this._store.get(p)};n.has=function(p){this._used(p);
return this._store.has(p)};n.clear=function(){this._store.clear()};n.applyByteSizeLimit=function(p,w){for(const [v,q]of this._store){if(this._byteSize<=p)break;this.delete(v);w(q)}};n.values=function(){return this._store.values()};n[E]=function(){return this._store[Symbol.iterator]()};n._used=function(p){const w=this._store.get(p);w&&(this._store.delete(p),this._store.set(p,w))};return M}(Symbol.iterator);c.FeatureServiceTileCache=a;Object.defineProperty(c,"__esModule",{value:!0})})},"*noref":1}});
define("exports ../../../../../chunks/_rollupPluginBabelHelpers ../../../../../chunks/tslib.es6 ../../../../../core/Evented ../../../../../core/Handles ../../../../../core/maybe ../../../../../core/promiseUtils ../../../../../core/watchUtils ../../../../../core/accessorSupport/decorators/property ../../../../../core/arrayUtils ../../../../../core/has ../../../../../core/accessorSupport/ensureType ../../../../../core/accessorSupport/decorators/subclass ../../../../../geometry/SpatialReference ../../../../../layers/graphics/data/FeatureStore ../../../../../layers/graphics/data/QueryEngine ../../../../../layers/support/TileInfo ../../../../../layers/support/TimeInfo ../../../../../rest/support/Query ./FeatureServiceTiledFetcher ./FeatureServiceTileStore ../../../../support/WatchUpdatingTracking".split(" "),
function(c,a,E,M,n,p,w,v,q,t,z,K,N,h,F,d,k,G,P,u,O,Q){c.FeatureServiceSnappingSourceWorker=function(J){function B(){var y=J.apply(this,arguments)||this;y.isInitializing=!0;y.whenSetup=w.createDeferred();y.handles=new n;y.updatingHandles=new Q.WatchUpdatingTracking;y.pendingApplyEdits=new Map;return y}a._inheritsLoose(B,J);var m=B.prototype;m.destroy=function(){this.featureFetcher.destroy();this.queryEngine.destroy();this.featureStore.clear();this.handles.destroy()};m.setup=function(){var y=a._asyncToGenerator(function*(b){const {geometryType:l,
objectIdField:H,timeInfo:S,fields:L}=b.serviceInfo;this.featureStore=new F({...b.serviceInfo,hasZ:!1,hasM:!1});this.queryEngine=new d.default({spatialReference:b.spatialReference,featureStore:this.featureStore,geometryType:l,fields:L,hasZ:!1,hasM:!1,objectIdField:H,timeInfo:S?G.fromJSON(S):null});this.featureFetcher=new u.FeatureServiceTiledFetcher({store:new O.FeatureServiceTileStore({featureStore:this.featureStore}),url:b.serviceInfo.url,objectIdField:b.serviceInfo.objectIdField,globalIdField:b.serviceInfo.globalIdField,
capabilities:b.serviceInfo.capabilities,spatialReference:h.fromJSON(b.spatialReference),sourceSpatialReference:h.fromJSON(b.serviceInfo.spatialReference)});this.handles.add([this.featureFetcher.watch("availability",D=>this.emit("notify-availability",{availability:D}),!0),this.watch("updating",()=>this._notifyUpdating())]);this.whenSetup.resolve();this.isInitializing=!1;return this.configure(b.configuration)});return function(b){return y.apply(this,arguments)}}();m.configure=function(){var y=a._asyncToGenerator(function*(b){yield this.updatingHandles.addPromise(this.whenSetup.promise);
this._updateFeatureFetcherConfiguration(b);return{result:{}}});return function(b){return y.apply(this,arguments)}}();m.fetchCandidates=function(){var y=a._asyncToGenerator(function*(b,l){yield this.whenSetup.promise;w.throwIfAborted(l);return{result:yield this.queryEngine.executeQueryForSnapping({point:b.point,distance:b.distance,types:b.types,query:p.isSome(b.filter)?b.filter:{where:"1\x3d1"}},p.isSome(l)?l.signal:null)}});return function(b,l){return y.apply(this,arguments)}}();m.updateTiles=function(){var y=
a._asyncToGenerator(function*(b,l){yield this.updatingHandles.addPromise(this.whenSetup.promise);w.throwIfAborted(l);this.featureFetcher.tileSize=b.tileSize;this.featureFetcher.tilesOfInterest=b.tiles;this.featureFetcher.tileInfo=p.isSome(b.tileInfo)?k.fromJSON(b.tileInfo):null;return{result:{}}});return function(b,l){return y.apply(this,arguments)}}();m.refresh=function(){var y=a._asyncToGenerator(function*(b,l){yield this.updatingHandles.addPromise(this.whenSetup.promise);w.throwIfAborted(l);this.featureFetcher.refresh();
return{result:{}}});return function(b,l){return y.apply(this,arguments)}}();m.whenNotUpdating=function(){var y=a._asyncToGenerator(function*(b,l){yield this.updatingHandles.addPromise(this.whenSetup.promise);w.throwIfAborted(l);yield w.whenOrAbort(v.whenNotOnce(this,"updating"),l);return{result:{}}});return function(b,l){return y.apply(this,arguments)}}();m.getDebugInfo=function(){var y=a._asyncToGenerator(function*(b,l){w.throwIfAborted(l);return{result:this.featureFetcher.debugInfo}});return function(b,
l){return y.apply(this,arguments)}}();m.beginApplyEdits=function(){var y=a._asyncToGenerator(function*(b,l){this.updatingHandles.addPromise(this.whenSetup.promise);w.throwIfAborted(l);l=w.createDeferred();this.pendingApplyEdits.set(b.id,l);this.featureFetcher.applyEdits(l.promise);this.updatingHandles.addPromise(l.promise);return{result:{}}});return function(b,l){return y.apply(this,arguments)}}();m.endApplyEdits=function(){var y=a._asyncToGenerator(function*(b,l){const H=this.pendingApplyEdits.get(b.id);
H&&H.resolve(b.edits);w.throwIfAborted(l);return{result:{}}});return function(b,l){return y.apply(this,arguments)}}();m._updateFeatureFetcherConfiguration=function(y){this.featureFetcher.filter=p.isSome(y.filter)?P.fromJSON(y.filter):null;this.featureFetcher.customParameters=y.customParameters};m._notifyUpdating=function(){this.emit("notify-updating",{updating:this.updating})};a._createClass(B,[{key:"updating",get:function(){return this.featureFetcher.updating||this.isInitializing||this.updatingHandles.updating}}]);
return B}(M.EventedAccessor);E.__decorate([q.property({readOnly:!0})],c.FeatureServiceSnappingSourceWorker.prototype,"updating",null);E.__decorate([q.property()],c.FeatureServiceSnappingSourceWorker.prototype,"isInitializing",void 0);c.FeatureServiceSnappingSourceWorker=E.__decorate([N.subclass("esri.views.interactive.snapping.featureSources.featureServiceSource.FeatureServiceSnappingSourceWorker")],c.FeatureServiceSnappingSourceWorker);c.default=function(){return new c.FeatureServiceSnappingSourceWorker};
Object.defineProperty(c,"__esModule",{value:!0})});