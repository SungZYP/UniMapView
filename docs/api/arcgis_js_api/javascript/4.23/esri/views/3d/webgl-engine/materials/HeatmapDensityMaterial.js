// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
define("exports ../../../../chunks/_rollupPluginBabelHelpers ../../support/buffer/InterleavedLayout ../lib/GLMaterial ../lib/Material ../lib/RenderPass ../lib/RenderSlot ../lib/VertexAttribute ./internal/bufferWriterUtils ../shaders/HeatmapDensityTechnique".split(" "),function(k,n,v,w,p,x,y,f,q,l){const z={searchRadius:128,resolutionForScale:0,colorRampData:null,isAttributeDriven:!1,minDensity:0,maxDensity:100,fieldTotal:0,pixelRatio:1,...p.DefaultMaterialParameters};let t=function(d){function c(a){a=
d.call(this,a,z)||this;a._techniqueConfig=new l.HeatmapDensityTechniqueConfiguration;return a}n._inheritsLoose(c,d);var b=c.prototype;b.requiresSlot=function(a,e){return a===y.RenderSlot.DRAPED_MATERIAL&&e===x.RenderPass.MATERIAL};b.getTechniqueConfig=function(){this._techniqueConfig.isAttributeDriven=this.parameters.isAttributeDriven;return this._techniqueConfig};b.createGLMaterial=function(a){return new A(a)};b.intersect=function(){};b.createBufferWriter=function(){return new B(this.parameters.isAttributeDriven?
C:r)};return c}(p.Material),A=function(d){function c(a){return d.call(this,a)||this}n._inheritsLoose(c,d);var b=c.prototype;b.beginSlot=function(a){return this.updateParameters(a)};b.updateParameters=function(a){return this.ensureTechnique(l.HeatmapDensityTechnique,a)};b.bind=function(a,e){e.bindPass(this._material.parameters,a)};return c}(w),B=function(){function d(b){this.vertexBufferLayout=b}var c=d.prototype;c.allocate=function(b){return this.vertexBufferLayout.createBuffer(b)};c.elementCount=
function(b){return 6*b.indices.get(f.VertexAttribute.POSITION).length};c.write=function(b,a,e,m){q.writePosition(a.indices.get(f.VertexAttribute.POSITION),a.vertexAttributes.get(f.VertexAttribute.POSITION).data,b.transformation,e.position,m,6);b=a.indices.get(f.VertexAttribute.POSITION).length;const g=e.uv0;let h=m;for(let u=0;u<b;++u)g.setValues(h++,-1,-1),g.setValues(h++,1,-1),g.setValues(h++,1,1),g.setValues(h++,1,1),g.setValues(h++,-1,1),g.setValues(h++,-1,-1);(e="featureAttribute"in e?e.featureAttribute:
null)&&q.writeBufferFloat(a.indices.get(f.VertexAttribute.FEATUREATTRIBUTE),a.vertexAttributes.get(f.VertexAttribute.FEATUREATTRIBUTE).data,e,m,6)};return d}();const r=v.newLayout().vec3f(f.VertexAttribute.POSITION).vec2f(f.VertexAttribute.UV0),C=r.clone().f32(f.VertexAttribute.FEATUREATTRIBUTE);Object.defineProperty(k,"RadiusMode",{enumerable:!0,get:()=>l.RadiusMode});k.HeatmapDensityMaterial=t;k.isHeatMapDensityMaterial=function(d){return d instanceof t};Object.defineProperty(k,"__esModule",{value:!0})});