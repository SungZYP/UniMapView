// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../lib/Program ../../../../chunks/HighlightComposition.glsl ../../../webgl/enums ../../../webgl/renderState".split(" "),function(q,l,m,p,f,h,n,r,t,k,e,g){h=function(c){function a(){return c.apply(this,arguments)||this}m._inheritsLoose(a,
c);var d=a.prototype;d.initializeProgram=function(b){const u=a.shader.get().build(this.configuration);return new t.Program(b.rctx,u,r.Default3D)};d.bindApplyPass=function(b){this.program.setUniform4fv("uColor",b.color);this.program.setUniform4fv("haloColor",b.haloColor);this.program.setUniform1f("outlineSize",8.6);this.program.setUniform1f("blurSize",.4);this.program.setUniform4f("opacities",b.haloOpacity,b.haloOpacityOccluded,b.fillOpacity,b.fillOpacityOccluded)};d.initializePipeline=function(){return this.configuration.highlightStage===
k.HighlightCompositionPass.Apply?g.makePipelineState({blending:g.separateBlendingParams(e.BlendFactor.SRC_ALPHA,e.BlendFactor.ONE,e.BlendFactor.ONE_MINUS_SRC_ALPHA,e.BlendFactor.ONE_MINUS_SRC_ALPHA),colorWrite:g.defaultColorWriteParams}):g.makePipelineState({colorWrite:g.defaultColorWriteParams})};m._createClass(a,[{key:"primitiveType",get:function(){return this.configuration.gridOptimization?e.PrimitiveType.TRIANGLES:e.PrimitiveType.TRIANGLE_STRIP}}]);return a}(h.ShaderTechnique);h.shader=new f.ReloadableShaderModule(k.HighlightCompositionShader,
()=>new Promise((c,a)=>q(["./HighlightComposition.glsl"],c,a)));f=function(c){function a(){var d=c.apply(this,arguments)||this;d.highlightStage=k.HighlightCompositionPass.Blur;d.gridOptimization=!1;return d}m._inheritsLoose(a,c);return a}(n.ShaderTechniqueConfiguration);p.__decorate([n.parameter({count:k.HighlightCompositionPass.COUNT})],f.prototype,"highlightStage",void 0);p.__decorate([n.parameter()],f.prototype,"gridOptimization",void 0);l.HighlightCompositionTechnique=h;l.HighlightCompositionTechniqueConfiguration=
f;Object.defineProperty(l,"__esModule",{value:!0})});