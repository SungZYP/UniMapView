// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
define("exports ../../../chunks/_rollupPluginBabelHelpers ../../../core/has ../../../core/maybe ./NoiseTextureAtlasTechnique ../webgl-engine/lib/glUtil3D ../../webgl/enums ../../webgl/FramebufferObject".split(" "),function(c,p,h,f,q,r,d,t){const g=h("esri-mobile")?64:128;h=g/128;const k=Math.ceil(Math.sqrt(g)),b=(g+2)*k;let u=function(){function l(a,e){this._frameBuffer=new t.FramebufferObject(a,{colorTarget:d.TargetType.TEXTURE,width:b,height:b},{target:d.TextureType.TEXTURE_2D,pixelFormat:d.PixelFormat.RGBA,
dataType:d.PixelType.UNSIGNED_BYTE,wrapMode:d.TextureWrapMode.CLAMP_TO_EDGE,samplingMode:d.TextureSamplingMode.LINEAR,hasMipmap:!1,width:b,height:b});this._vao=r.createQuadVAO(a);this._technique=new q.NoiseTextureAtlasTechnique({rctx:a,viewingMode:e.state.viewingMode})}var n=l.prototype;n.destroy=function(){this._technique=f.releaseMaybe(this._technique);this._frameBuffer=f.disposeMaybe(this._frameBuffer);this._vao=f.disposeMaybe(this._vao)};n.render=function(a){if(!f.isNone(this._vao)&&!f.isNone(this.textureAtlas)){var e=
a.getViewport();a.setViewport(0,0,b,b);a.bindFramebuffer(this._frameBuffer);var m=a.useTechnique(this._technique);m.setUniform1f("tileSize",g);m.setUniform1f("tileRows",k);a.bindVAO(this._vao);m.assertCompatibleVertexAttributeLocations(this._vao);a.gl.drawArrays(a.gl.TRIANGLE_STRIP,0,4);a.setViewport(e.x,e.y,e.width,e.height)}};p._createClass(l,[{key:"textureAtlas",get:function(){return this._frameBuffer.colorTexture}}]);return l}();c.ATLAS_SIZE=b;c.NoiseTextureAtlas=u;c.TEXTURE_SCALE=h;c.TILE_ROWS=
k;c.TILE_SIZE=g;Object.defineProperty(c,"__esModule",{value:!0})});