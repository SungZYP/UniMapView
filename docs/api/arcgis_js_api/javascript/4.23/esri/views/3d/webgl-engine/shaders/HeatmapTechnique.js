// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.23/esri/copyright.txt for details.
//>>built
define("require exports ../../../../chunks/_rollupPluginBabelHelpers ../../../../chunks/tslib.es6 ../core/shaderTechnique/ReloadableShaderModule ../core/shaderTechnique/ShaderTechnique ../core/shaderTechnique/ShaderTechniqueConfiguration ../lib/DefaultVertexAttributeLocations ../lib/OrderIndependentTransparency ../lib/Program ../../../../chunks/Heatmap.glsl ../../../webgl/enums ../../../webgl/renderState ../../../../chunks/HeatmapDensity.glsl".split(" "),function(t,e,l,u,f,g,n,v,w,x,y,z,p,m){g=function(b){function a(c,
h){var k;return k=b.call(this,c,h,()=>k.destroy())||this}l._inheritsLoose(a,b);var d=a.prototype;d.initializeProgram=function(c){const h=a.shader.get().build({mode:this.configuration.mode});return new x.Program(c.rctx,h,v.Default3D)};d.initializePipeline=function(c){return p.makePipelineState({blending:w.blendingDefault,colorWrite:p.defaultColorWriteParams,depthTest:null,depthWrite:null})};d.bindPass=function(c,h){const {densityMap:k,colorRamp:A,maxDensity:B,minDensity:q,searchRadius:r}=c;this.program.bindTexture(k,
"densityMap");this.program.bindTexture(A,"tex");this.configuration.mode===m.HeatmapMode.KernelDensity&&this.program.setUniform1f("densityMultiplier",3/(r*r*Math.PI));this.program.setUniform1f("densityNormalizer",1/(B-q));this.program.setUniform1f("minDensity",q)};l._createClass(a,[{key:"primitiveType",get:function(){return z.PrimitiveType.TRIANGLE_STRIP}}]);return a}(g.ShaderTechnique);g.shader=new f.ReloadableShaderModule(y.HeatmapShader,()=>new Promise((b,a)=>t(["./Heatmap.glsl"],b,a)));f=function(b){function a(){var d=
b.apply(this,arguments)||this;d.mode=m.HeatmapMode.GaussianBlur;return d}l._inheritsLoose(a,b);return a}(n.ShaderTechniqueConfiguration);u.__decorate([n.parameter()],f.prototype,"mode",void 0);Object.defineProperty(e,"HeatmapMode",{enumerable:!0,get:()=>m.HeatmapMode});e.HeatmapTechnique=g;e.HeatmapTechniqueConfiguration=f;Object.defineProperty(e,"__esModule",{value:!0})});