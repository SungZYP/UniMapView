/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{b as r}from"../core/lang.js";import e from"../core/Error.js";import{t as n}from"./symbolConversion.js";function t(e){return r(e)||"simple"===e.type||"unique-value"===e.type||"class-breaks"===e.type||"dictionary"===e.type||"heatmap"===e.type}function s(s){if(r(s))return null;if(!t(s))return new e("renderer-conversion-3d:unsupported-renderer",`Unsupported renderer of type '${s.type||s.declaredClass}'`,{renderer:s});switch(s.type){case"simple":return function(r){return o(r,n(r.symbol).error)}(s);case"unique-value":return function(r){const e=r.uniqueValueInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),t=n(r.defaultSymbol);t.error&&e.unshift(t.error);return o(r,e)}(s);case"class-breaks":return function(r){const e=r.classBreakInfos.map((r=>n(r.symbol).error)).filter((r=>!!r)),t=n(r.defaultSymbol);t.error&&e.unshift(t.error);return o(r,e)}(s);case"dictionary":case"heatmap":return null}return null}function o(r,n){if(!n)return null;let t;if(t=Array.isArray(n)?n:[n],t.length>0){const n=t.map((r=>r.details.symbol.type||r.details.symbol.declaredClass)).filter((r=>!!r));n.sort();const s=[];return n.forEach(((r,e)=>{0!==e&&r===n[e-1]||s.push(r)})),new e("renderer-conversion-3d:unsupported-symbols",`Renderer contains symbols (${s.join(", ")}) which are not supported in 3D`,{renderer:r,symbolErrors:t})}return null}export{t as i,s as v};
