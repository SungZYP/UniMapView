/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{b as t,d as e,s as n,f as r,e as o,F as s,u as i,j as a,n as f,a as u}from"./mathUtils.js";import{geodesicArea as l}from"../geometry/geometryEngine.js";import c from"../geometry/Polygon.js";import{projectPointToVector as m,projectPointToWGS84ComparableLonLat as g,projectVectorToWGS84ComparableLonLat as p}from"../geometry/projection.js";import h from"../geometry/SpatialReference.js";import{inverseGeodeticSolver as d}from"../geometry/support/geodesicUtils.js";import{p as j}from"./mathUtils2.js";function y(t,e){const i=e.center;n(i,0,0,0);for(let e=0;e<t.length;++e)r(i,i,t[e]);o(i,i,1/t.length);let a=0;for(let e=0;e<t.length;++e)a=Math.max(a,s(i,t[e]));e.radius=Math.sqrt(a)}function b(t,e){if(t.length<3)throw new Error("need at least 3 points to fit a plane");j(t[0],t[1],t[2],e)}function M(t,n){return e(t,n)+t[3]}function P(t,e,n){return m(t,S,n)&&m(e,F,n)?i(S,F):0}function w(t,e){if(!g(t,S)||!g(e,F))return 0;const n={distance:null};return d(n,[S[0],S[1]],[F[0],F[1]]),n.distance}function U(t,e,n){const r={distance:null};return d(r,[t[0],t[1]],[e[0],e[1]],n),r.distance}function q(t,e,n){const r=e[0]-t[0],o=e[1]-t[1],s=n[0]-t[0],i=n[1]-t[1];return.5*Math.abs(r*i-o*s)}function x(t,e,n,r){const o=T;return p(t,r,S)&&p(e,r,F)&&p(n,r,G)?(o.setPoint(0,0,S),o.setPoint(0,1,F),o.setPoint(0,2,G),Math.abs(l(o,"square-meters"))):0}function E(t,o=null,s=!0){const i=(t,n)=>{if(0===n[0]&&0===n[1]&&0===n[2])return!1;for(let r=0;r<t.length;++r)if(e(n,t[r])<-1e-6)return!1;return!0};if(0===t.length)return!1;if(1===t.length)return o&&a(o,t[0]),!0;n(W,0,0,0);for(let e=0;e<t.length;++e)r(W,W,t[e]);if(f(W,W),i(t,W))return o&&a(o,W),!0;if(!s)return!1;for(let e=0;e<t.length;++e)for(let n=0;n<t.length;++n)if(e!==n&&(u(W,t[e],t[n]),f(W,W),i(t,W)))return o&&a(o,W),!0;return!1}function R(t){return"mouse"!==t.pointerType||0===t.button}const S=t(),F=t(),G=t(),T=new c({rings:[[S,F,G]],spatialReference:h.WGS84}),W=t();export{x as a,b,y as c,w as d,P as e,E as f,R as i,M as p,U as s,q as t};
