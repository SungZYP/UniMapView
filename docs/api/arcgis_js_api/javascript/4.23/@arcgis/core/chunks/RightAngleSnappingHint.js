/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import"../core/lang.js";import{L as e}from"./Logger.js";import{f as t,a as n}from"./screenUtils.js";import{s}from"./vec2.js";import{b as r}from"./mathUtils.js";import i from"../geometry/Point.js";import{b as o}from"./elevationInfoUtils.js";function a(e,t){const n=e.x-t.x,s=e.y-t.y;return n*n+s*s}function c(e,t){const n=e.length===t.length&&e[0]===t[0]&&e[1]===t[1];switch(e.length){case 2:return n;case 3:return n&&e[2]===t[2];case 4:return n&&e[3]===t[3]}return!1}function l(e,n,s,r){return"2d"===r.type?r.toScreen(n.vectorToPoint(e,E)):(p(e,n,s,r,d),r.state.camera.projectToScreen(d,g),t(g[0],g[1]))}function p(e,t,n,s,i=r()){const a=t.toXYZ(e);return a[2]=o(s,a,t.spatialReference,n)||0,s.renderCoordsHelper.toRenderCoords(a,t.spatialReference,i),i}function h(e,t,n,s,r,i,a){const c=n.toXYZ(e),l=n.toXYZ(t),p=o(r,c,n.spatialReference,s),h=o(r,l,n.spatialReference,s),u=(null==p?h:null==h?p:Math.min(p,h))||0;c[2]=u,l[2]=u,r.renderCoordsHelper.toRenderCoords(c,n.spatialReference,i),r.renderCoordsHelper.toRenderCoords(l,n.spatialReference,a)}function u(e,t){t.sort(((t,n)=>s(t.targetPoint,e)-s(n.targetPoint,e)))}var f;!function(e){e[e.TARGET=0]="TARGET",e[e.REFERENCE=1]="REFERENCE",e[e.REFERENCE_EXTENSION=2]="REFERENCE_EXTENSION"}(f||(f={}));const d=r(),g=n(),E=new i;class R{}class x extends R{constructor(e){super(),this.intersectionPoint=e}equals(e){return e instanceof x&&c(this.intersectionPoint,e.intersectionPoint)}}e.getLogger("esri.views.interactive.snapping.hints.LineSnappingHint");class m extends R{constructor(e,t,n,s=!0,r=!0){super(),this.type=e,this.lineStart=t,this.lineEnd=n,this.fadeLeft=s,this.fadeRight=r}equals(e){return e instanceof m&&(this.type===e.type&&c(this.lineStart,e.lineStart)&&c(this.lineEnd,e.lineEnd)&&this.fadeLeft===e.fadeLeft&&this.fadeRight===e.fadeRight)}}e.getLogger("esri.views.interactive.snapping.hints.ParallelSnappingHint");class S extends R{constructor(e,t){super(),this.lineStart=e,this.lineEnd=t}equals(e){return e instanceof S&&(c(this.lineStart,e.lineStart)&&c(this.lineEnd,e.lineEnd))}}e.getLogger("esri.views.interactive.snapping.hints.RightAngleSnappingHint");class v extends R{constructor(e,t,n){super(),this.previousVertex=e,this.centerVertex=t,this.nextVertex=n}equals(e){return e instanceof v&&(c(this.previousVertex,e.previousVertex)&&c(this.centerVertex,e.centerVertex)&&c(this.nextVertex,e.nextVertex))}}export{x as I,m as L,S as P,v as R,R as S,f as a,p as b,l as c,a as d,h as e,c as o,u as s};
