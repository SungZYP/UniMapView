/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{c as e}from"./dom.js";import{h as t}from"../widgets/Widget.js";
/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-components/blob/master/LICENSE.md for details.
 */function n(e){return"checked"in e}const o=new WeakMap,a=new WeakSet;function d(t){const{el:o,value:d}=t,c=e(o,"form");if(!c||function(e,t){const n="calciteInternalFormComponentRegister";let o=!1;return e.addEventListener(n,(e=>{o=e.composedPath().some((e=>a.has(e))),e.stopPropagation()}),{once:!0}),t.dispatchEvent(new CustomEvent(n,{bubbles:!0,composed:!0})),o}(c,o))return;t.formEl=c,t.defaultValue=d,n(t)&&(t.defaultChecked=t.checked);const l=(t.onFormReset||r).bind(t);c.addEventListener("reset",l),a.add(o)}function r(){n(this)?this.checked=this.defaultChecked:this.value=this.defaultValue}function c(e){const{el:t,formEl:n}=e;if(!n)return;const d=o.get(t);n.removeEventListener("reset",d),o.delete(t),e.formEl=null,a.delete(t)}function l(e,t){e.defaultValue=t}function u(e,t,o){var a;const{defaultValue:d,disabled:r,name:c,required:l}=e;t.defaultValue=d,t.disabled=r,t.name=c,t.required=l,t.tabIndex=-1,n(e)?(t.defaultChecked=e.defaultChecked,t.value=e.checked?o||"on":"",r||e.checked||(t.disabled=!0)):t.value=o||"",null===(a=e.syncHiddenFormInput)||void 0===a||a.call(e,t)}const s=({component:e})=>(function(e){const{el:t,formEl:n,name:o,value:a}=e,{ownerDocument:d}=t,r=t.querySelectorAll('input[slot="hidden-form-input"]');if(!n||!o)return void r.forEach((e=>e.remove()));const c=Array.isArray(a)?a:[a],l=[],s=new Set;let i;r.forEach((t=>{const n=c.find((e=>e==t.value));null!=n?(s.add(n),u(e,t,n)):l.push(t)})),c.forEach((t=>{if(s.has(t))return;let n=l.pop();n||(n=d.createElement("input"),n.slot="hidden-form-input"),i||(i=d.createDocumentFragment()),i.append(n),u(e,n,t)})),i&&t.append(i),l.forEach((e=>e.remove()))}(e),t("slot",{name:"hidden-form-input"}));export{s as H,l as a,d as c,c as d};
