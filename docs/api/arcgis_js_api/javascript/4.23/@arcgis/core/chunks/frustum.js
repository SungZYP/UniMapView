/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{O as T,a as _,c as O}from"./vectorStacks.js";import{m as R,g as r}from"./mat4.js";import{f as n,e as t,l as A,Q as E,s as F,b as a}from"./mathUtils.js";import{f as o}from"./vec4f64.js";import{c as s,b as c,f}from"./ray.js";import{c as M,d as N,j as e,l as u,m as i,k as B,o as G}from"./plane.js";function H(T){return T?{ray:s(T.ray),c0:T.c0,c1:T.c1}:{ray:s(),c0:0,c1:Number.MAX_VALUE}}function I(T,_=H()){return c(T,_.ray),_.c0=0,_.c1=Number.MAX_VALUE,_}function L(T,_){return m(T,T.c0,_)}function P(T,_){return m(T,T.c1,_)}function m(T,_,O){return n(O,T.ray.origin,t(O,T.ray.direction,_))}function l(T){return T?[M(T[0]),M(T[1]),M(T[2]),M(T[3]),M(T[4]),M(T[5])]:[M(),M(),M(),M(),M(),M()]}function U(){return[a(),a(),a(),a(),a(),a(),a(),a()]}function p(T,_){for(let O=0;O<x.NUM;O++)N(T[O],_[O])}function g(T,n,t,A=C){const a=R(_.get(),n,T);r(a,a);for(let T=0;T<Q.NUM;++T){const _=E(O.get(),S[T],a);F(A[T],_[0]/_[3],_[1]/_[3],_[2]/_[3])}y(t,A)}function y(T,_){e(_[X.FAR_BOTTOM_LEFT],_[X.NEAR_BOTTOM_LEFT],_[X.NEAR_TOP_LEFT],T[V.LEFT]),e(_[X.NEAR_BOTTOM_RIGHT],_[X.FAR_BOTTOM_RIGHT],_[X.FAR_TOP_RIGHT],T[V.RIGHT]),e(_[X.FAR_BOTTOM_LEFT],_[X.FAR_BOTTOM_RIGHT],_[X.NEAR_BOTTOM_RIGHT],T[V.BOTTOM]),e(_[X.NEAR_TOP_LEFT],_[X.NEAR_TOP_RIGHT],_[X.FAR_TOP_RIGHT],T[V.TOP]),e(_[X.NEAR_BOTTOM_LEFT],_[X.NEAR_BOTTOM_RIGHT],_[X.NEAR_TOP_RIGHT],T[V.NEAR]),e(_[X.FAR_BOTTOM_RIGHT],_[X.FAR_BOTTOM_LEFT],_[X.FAR_TOP_LEFT],T[V.FAR])}function j(T,_){for(let O=0;O<x.NUM;O++){const R=T[O];if(R[0]*_[0]+R[1]*_[1]+R[2]*_[2]+R[3]>=_[3])return!1}return!0}function b(T,_){return w(T,I(_,z.get()))}function v(T,_){for(let O=0;O<x.NUM;O++){const R=T[O];if(!i(R,_))return!1}return!0}function d(T,_,O){return w(T,function(T,_,O=H()){const R=A(T.vector);return f(T.origin,_,O.ray),O.c0=0,O.c1=R,O}(_,O,z.get()))}function h(T,_){for(let O=0;O<x.NUM;O++){if(B(T[O],_)>0)return!1}return!0}function k(T,_){for(let O=0;O<x.NUM;O++)if(u(T[O],_))return!1;return!0}function w(T,_){for(let O=0;O<x.NUM;O++)if(!G(T[O],_))return!1;return!0}var V,X;new T((()=>({c0:0,c1:0,ray:null}))),function(T){T[T.LEFT=0]="LEFT",T[T.RIGHT=1]="RIGHT",T[T.BOTTOM=2]="BOTTOM",T[T.TOP=3]="TOP",T[T.NEAR=4]="NEAR",T[T.FAR=5]="FAR"}(V||(V={})),function(T){T[T.NEAR_BOTTOM_LEFT=0]="NEAR_BOTTOM_LEFT",T[T.NEAR_BOTTOM_RIGHT=1]="NEAR_BOTTOM_RIGHT",T[T.NEAR_TOP_RIGHT=2]="NEAR_TOP_RIGHT",T[T.NEAR_TOP_LEFT=3]="NEAR_TOP_LEFT",T[T.FAR_BOTTOM_LEFT=4]="FAR_BOTTOM_LEFT",T[T.FAR_BOTTOM_RIGHT=5]="FAR_BOTTOM_RIGHT",T[T.FAR_TOP_RIGHT=6]="FAR_TOP_RIGHT",T[T.FAR_TOP_LEFT=7]="FAR_TOP_LEFT"}(X||(X={}));const q={bottom:[X.FAR_BOTTOM_RIGHT,X.NEAR_BOTTOM_RIGHT,X.NEAR_BOTTOM_LEFT,X.FAR_BOTTOM_LEFT],near:[X.NEAR_BOTTOM_LEFT,X.NEAR_BOTTOM_RIGHT,X.NEAR_TOP_RIGHT,X.NEAR_TOP_LEFT],far:[X.FAR_BOTTOM_RIGHT,X.FAR_BOTTOM_LEFT,X.FAR_TOP_LEFT,X.FAR_TOP_RIGHT],right:[X.NEAR_BOTTOM_RIGHT,X.FAR_BOTTOM_RIGHT,X.FAR_TOP_RIGHT,X.NEAR_TOP_RIGHT],left:[X.FAR_BOTTOM_LEFT,X.NEAR_BOTTOM_LEFT,X.NEAR_TOP_LEFT,X.FAR_TOP_LEFT],top:[X.FAR_TOP_LEFT,X.NEAR_TOP_LEFT,X.NEAR_TOP_RIGHT,X.FAR_TOP_RIGHT]};var x,Q;!function(T){T[T.NUM=6]="NUM"}(x||(x={})),function(T){T[T.NUM=8]="NUM"}(Q||(Q={}));const S=[o(-1,-1,-1,1),o(1,-1,-1,1),o(1,1,-1,1),o(-1,1,-1,1),o(-1,-1,1,1),o(1,-1,1,1),o(1,1,1,1),o(-1,1,1,1)],z=new T(H),C=U();export{x as N,V as P,p as a,X as b,l as c,U as d,y as e,g as f,b as g,d as h,j as i,h as j,k,H as l,I as m,v as n,L as o,q as p,P as q};
