/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{_ as o}from"./tslib.es6.js";import s,{a as e}from"../core/Accessor.js";import{k as t,tryClone as r}from"../core/lang.js";import{L as n}from"./Logger.js";import{g as c}from"./utils.js";import{subclass as l}from"../core/accessorSupport/decorators/subclass.js";n.getLogger("esri.core.Clonable");const a=s=>{let n=class extends s{clone(){const o=t(c(this),"unable to clone instance of non-accessor class"),s=o.metadatas,n=o.store,l={},a=new Map;for(const o in s){const t=s[o],c=null==n?void 0:n.originOf(o),i=t.clonable;if(t.readOnly||!1===i||c!==e.USER&&c!==e.DEFAULTS&&c!==e.WEB_MAP&&c!==e.WEB_SCENE)continue;const f=this[o];let u=null;u="function"==typeof i?i(f):"reference"===i?f:r(f),null!=f&&null==u||(c===e.DEFAULTS?a.set(o,u):l[o]=u)}const i=new(0,Object.getPrototypeOf(this).constructor)(l);if(a.size){var f;const o=null==(f=c(i))?void 0:f.store;if(o)for(const[s,t]of a)o.set(s,t,e.DEFAULTS)}return i}};return n=o([l("esri.core.Clonable")],n),n};let i=class extends(a(s)){};i=o([l("esri.core.Clonable")],i);export{a as C,i as a};
