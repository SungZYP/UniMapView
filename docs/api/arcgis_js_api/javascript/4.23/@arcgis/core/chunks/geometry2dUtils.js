/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{Y as t}from"./mathUtils.js";import{f as s,q as n,b as r,m as a,j as e,h as o,u,c,l as f}from"./vec2.js";import{a as i,d as p}from"./vec2f64.js";function L(t,s){return t[0]*s[1]-t[1]*s[0]}function h(t,s,n){const a=(s[0]-t[0])*(n[1]-t[1])-(s[1]-t[1])*(n[0]-t[0]);return Math.abs(a)/r(s,n)}function m(t,n,r,c,f=r){return s(v,c,r),s(Y,n,f),function(t,s,n){const r=o(n,s)/u(n);e(t,n,r)}(q,Y,v),a(t,f,q)}function E(t,r,a,e){s(v,e,a),s(Y,r,a);const f=o(v,Y)/u(v);return f>0?n(t,a,v,f):c(t,a)}function I(t,r,a,e){s(v,r,a);const o=e/f(v);return n(t,a,v,o)}function N(s,n){return m(Y,n,s.start,s.end),t(Y[0],n[0])&&t(Y[1],n[1])?[p(n)]:[]}function d(s,n,r){return I(Y,r,s,n),t(Y[0],r[0])&&t(Y[1],r[1])?[p(r)]:[]}function y(t,r){const a=t.start,e=t.end,o=r.start,u=r.end,c=s(v,e,a),f=s(M,u,o),i=L(c,f);if(Math.abs(i)<=l)return[];const p=s(Y,a,o),h=L(f,p)/i,m=L(c,p)/i;if(h>=0){if(m>=0||r.type===j.LINE)return[n(q,a,c,h)]}else if(t.type===j.LINE&&(m>=0||r.type===j.LINE))return[n(q,a,c,h)];return[]}function b(t,r,a){const e=[],c=s(v,t.end,t.start),f=s(M,t.start,r),i=u(c),p=2*o(c,f),L=p*p-4*i*(u(f)-a*a);if(0===L){const s=-p/(2*i);(t.type===j.LINE||s>=0)&&e.push(n(q,t.start,c,s))}else if(L>0){const s=Math.sqrt(L),r=(-p+s)/(2*i);(t.type===j.LINE||r>=0)&&e.push(n(q,t.start,c,r));const a=(-p-s)/(2*i);(t.type===j.LINE||a>=0)&&e.push(n(Y,t.start,c,a))}return e}var j;!function(t){t[t.RAY=0]="RAY",t[t.LINE=1]="LINE"}(j||(j={}));const l=1e-6,v=i(),M=i(),Y=i(),q=i();export{j as L,E as a,N as b,b as c,m as d,I as e,d as f,y as i,h as p};
