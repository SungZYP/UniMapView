/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.23/esri/copyright.txt for details.
*/
import{a as e}from"../core/Accessor.js";function r(e,r,n){const o=r.flatten((({sublayers:e})=>e)).length;if(o!==e.length)return!0;return!!e.some((e=>e.originIdOf("minScale")>n||e.originIdOf("maxScale")>n||e.originIdOf("renderer")>n||e.originIdOf("labelingInfo")>n||e.originIdOf("opacity")>n||e.originIdOf("labelsVisible")>n||e.originIdOf("source")>n))||!i(e,r)}function n(r,n,o){return!!r.some((r=>{const n=r.source;return!(!n||"map-layer"===n.type&&n.mapLayerId===r.id&&(!n.gdbVersion||n.gdbVersion===o.gdbVersion))||r.originIdOf("renderer")>e.SERVICE||r.originIdOf("labelingInfo")>e.SERVICE||r.originIdOf("opacity")>e.SERVICE||r.originIdOf("labelsVisible")>e.SERVICE}))||!i(r,n)}function i(e,r){if(!e||!e.length)return!0;const n=r.slice().reverse().flatten((({sublayers:e})=>e&&e.toArray().reverse())).map((e=>e.id)).toArray();if(e.length>n.length)return!1;let i=0;const o=n.length;for(const{id:r}of e){for(;i<o&&n[i]!==r;)i++;if(i>=o)return!1}return!0}function o(e){return!!e&&e.some((e=>null!=e.minScale||e.layerDefinition&&null!=e.layerDefinition.minScale))}export{n as a,o as i,r as s};
